function jb(i,o){for(var n=0;n<o.length;n++){const e=o[n];if(typeof e!="string"&&!Array.isArray(e)){for(const a in e)if(a!=="default"&&!(a in i)){const s=Object.getOwnPropertyDescriptor(e,a);s&&Object.defineProperty(i,a,s.get?s:{enumerable:!0,get:()=>e[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&e(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Jv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xc={exports:{}},Ui={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function zb(){if(Am)return Ui;Am=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function n(e,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:i,type:e,key:u,ref:a!==void 0?a:null,props:s}}return Ui.Fragment=o,Ui.jsx=n,Ui.jsxs=n,Ui}var Cm;function Pb(){return Cm||(Cm=1,xc.exports=zb()),xc.exports}var J=Pb(),Mc={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Hb(){if(xm)return Ce;xm=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=g&&C[g]||C["@@iterator"],typeof C=="function"?C:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function w(C,Y,ae){this.props=C,this.context=Y,this.refs=E,this.updater=ae||y}w.prototype.isReactComponent={},w.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},w.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function M(){}M.prototype=w.prototype;function O(C,Y,ae){this.props=C,this.context=Y,this.refs=E,this.updater=ae||y}var X=O.prototype=new M;X.constructor=O,k(X,w.prototype),X.isPureReactComponent=!0;var ne=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function le(C,Y,ae,te,ie,Le){return ae=Le.ref,{$$typeof:i,type:C,key:Y,ref:ae!==void 0?ae:null,props:Le}}function K(C,Y){return le(C.type,Y,void 0,void 0,void 0,C.props)}function be(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function W(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ae){return Y[ae]})}var Q=/\/+/g;function q(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?W(""+C.key):Y.toString(36)}function se(){}function $(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(se,se):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function he(C,Y,ae,te,ie){var Le=typeof C;(Le==="undefined"||Le==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(Le){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case i:case o:Ee=!0;break;case m:return Ee=C._init,he(Ee(C._payload),Y,ae,te,ie)}}if(Ee)return ie=ie(C),Ee=te===""?"."+q(C,0):te,ne(ie)?(ae="",Ee!=null&&(ae=Ee.replace(Q,"$&/")+"/"),he(ie,Y,ae,"",function(It){return It})):ie!=null&&(be(ie)&&(ie=K(ie,ae+(ie.key==null||C&&C.key===ie.key?"":(""+ie.key).replace(Q,"$&/")+"/")+Ee)),Y.push(ie)),1;Ee=0;var Be=te===""?".":te+":";if(ne(C))for(var Ke=0;Ke<C.length;Ke++)te=C[Ke],Le=Be+q(te,Ke),Ee+=he(te,Y,ae,Le,ie);else if(Ke=b(C),typeof Ke=="function")for(C=Ke.call(C),Ke=0;!(te=C.next()).done;)te=te.value,Le=Be+q(te,Ke++),Ee+=he(te,Y,ae,Le,ie);else if(Le==="object"){if(typeof C.then=="function")return he($(C),Y,ae,te,ie);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function U(C,Y,ae){if(C==null)return C;var te=[],ie=0;return he(C,te,"","",function(Le){return Y.call(ae,Le,ie++)}),te}function ee(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(ae){(C._status===0||C._status===-1)&&(C._status=1,C._result=ae)},function(ae){(C._status===0||C._status===-1)&&(C._status=2,C._result=ae)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var H=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ke(){}return Ce.Children={map:U,forEach:function(C,Y,ae){U(C,function(){Y.apply(this,arguments)},ae)},count:function(C){var Y=0;return U(C,function(){Y++}),Y},toArray:function(C){return U(C,function(Y){return Y})||[]},only:function(C){if(!be(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ce.Component=w,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=O,Ce.StrictMode=e,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(C){return P.H.useMemoCache(C)}},Ce.cache=function(C){return function(){return C.apply(null,arguments)}},Ce.cloneElement=function(C,Y,ae){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var te=k({},C.props),ie=C.key,Le=void 0;if(Y!=null)for(Ee in Y.ref!==void 0&&(Le=void 0),Y.key!==void 0&&(ie=""+Y.key),Y)!G.call(Y,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Y.ref===void 0||(te[Ee]=Y[Ee]);var Ee=arguments.length-2;if(Ee===1)te.children=ae;else if(1<Ee){for(var Be=Array(Ee),Ke=0;Ke<Ee;Ke++)Be[Ke]=arguments[Ke+2];te.children=Be}return le(C.type,ie,void 0,void 0,Le,te)},Ce.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:s,_context:C},C},Ce.createElement=function(C,Y,ae){var te,ie={},Le=null;if(Y!=null)for(te in Y.key!==void 0&&(Le=""+Y.key),Y)G.call(Y,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ie[te]=Y[te]);var Ee=arguments.length-2;if(Ee===1)ie.children=ae;else if(1<Ee){for(var Be=Array(Ee),Ke=0;Ke<Ee;Ke++)Be[Ke]=arguments[Ke+2];ie.children=Be}if(C&&C.defaultProps)for(te in Ee=C.defaultProps,Ee)ie[te]===void 0&&(ie[te]=Ee[te]);return le(C,Le,void 0,void 0,null,ie)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(C){return{$$typeof:c,render:C}},Ce.isValidElement=be,Ce.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:ee}},Ce.memo=function(C,Y){return{$$typeof:p,type:C,compare:Y===void 0?null:Y}},Ce.startTransition=function(C){var Y=P.T,ae={};P.T=ae;try{var te=C(),ie=P.S;ie!==null&&ie(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ke,H)}catch(Le){H(Le)}finally{P.T=Y}},Ce.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ce.use=function(C){return P.H.use(C)},Ce.useActionState=function(C,Y,ae){return P.H.useActionState(C,Y,ae)},Ce.useCallback=function(C,Y){return P.H.useCallback(C,Y)},Ce.useContext=function(C){return P.H.useContext(C)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(C,Y){return P.H.useDeferredValue(C,Y)},Ce.useEffect=function(C,Y,ae){var te=P.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(C,Y)},Ce.useId=function(){return P.H.useId()},Ce.useImperativeHandle=function(C,Y,ae){return P.H.useImperativeHandle(C,Y,ae)},Ce.useInsertionEffect=function(C,Y){return P.H.useInsertionEffect(C,Y)},Ce.useLayoutEffect=function(C,Y){return P.H.useLayoutEffect(C,Y)},Ce.useMemo=function(C,Y){return P.H.useMemo(C,Y)},Ce.useOptimistic=function(C,Y){return P.H.useOptimistic(C,Y)},Ce.useReducer=function(C,Y,ae){return P.H.useReducer(C,Y,ae)},Ce.useRef=function(C){return P.H.useRef(C)},Ce.useState=function(C){return P.H.useState(C)},Ce.useSyncExternalStore=function(C,Y,ae){return P.H.useSyncExternalStore(C,Y,ae)},Ce.useTransition=function(){return P.H.useTransition()},Ce.version="19.1.1",Ce}var Mm;function pd(){return Mm||(Mm=1,Mc.exports=Hb()),Mc.exports}var je=pd();const Qv=Jv(je),qb=jb({__proto__:null,default:Qv},[je]);var Rc={exports:{}},ji={},Oc={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Fb(){return Rm||(Rm=1,(function(i){function o(U,ee){var H=U.length;U.push(ee);e:for(;0<H;){var ke=H-1>>>1,C=U[ke];if(0<a(C,ee))U[ke]=ee,U[H]=C,H=ke;else break e}}function n(U){return U.length===0?null:U[0]}function e(U){if(U.length===0)return null;var ee=U[0],H=U.pop();if(H!==ee){U[0]=H;e:for(var ke=0,C=U.length,Y=C>>>1;ke<Y;){var ae=2*(ke+1)-1,te=U[ae],ie=ae+1,Le=U[ie];if(0>a(te,H))ie<C&&0>a(Le,te)?(U[ke]=Le,U[ie]=H,ke=ie):(U[ke]=te,U[ae]=H,ke=ae);else if(ie<C&&0>a(Le,H))U[ke]=Le,U[ie]=H,ke=ie;else break e}}return ee}function a(U,ee){var H=U.sortIndex-ee.sortIndex;return H!==0?H:U.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();i.unstable_now=function(){return u.now()-c}}var f=[],p=[],m=1,g=null,b=3,y=!1,k=!1,E=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ne(U){for(var ee=n(p);ee!==null;){if(ee.callback===null)e(p);else if(ee.startTime<=U)e(p),ee.sortIndex=ee.expirationTime,o(f,ee);else break;ee=n(p)}}function P(U){if(E=!1,ne(U),!k)if(n(f)!==null)k=!0,G||(G=!0,q());else{var ee=n(p);ee!==null&&he(P,ee.startTime-U)}}var G=!1,le=-1,K=5,be=-1;function W(){return w?!0:!(i.unstable_now()-be<K)}function Q(){if(w=!1,G){var U=i.unstable_now();be=U;var ee=!0;try{e:{k=!1,E&&(E=!1,O(le),le=-1),y=!0;var H=b;try{t:{for(ne(U),g=n(f);g!==null&&!(g.expirationTime>U&&W());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,b=g.priorityLevel;var C=ke(g.expirationTime<=U);if(U=i.unstable_now(),typeof C=="function"){g.callback=C,ne(U),ee=!0;break t}g===n(f)&&e(f),ne(U)}else e(f);g=n(f)}if(g!==null)ee=!0;else{var Y=n(p);Y!==null&&he(P,Y.startTime-U),ee=!1}}break e}finally{g=null,b=H,y=!1}ee=void 0}}finally{ee?q():G=!1}}}var q;if(typeof X=="function")q=function(){X(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,$=se.port2;se.port1.onmessage=Q,q=function(){$.postMessage(null)}}else q=function(){M(Q,0)};function he(U,ee){le=M(function(){U(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(U){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var H=b;b=ee;try{return U()}finally{b=H}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=b;b=U;try{return ee()}finally{b=H}},i.unstable_scheduleCallback=function(U,ee,H){var ke=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ke+H:ke):H=ke,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=H+C,U={id:m++,callback:ee,priorityLevel:U,startTime:H,expirationTime:C,sortIndex:-1},H>ke?(U.sortIndex=H,o(p,U),n(f)===null&&U===n(p)&&(E?(O(le),le=-1):E=!0,he(P,H-ke))):(U.sortIndex=C,o(f,U),k||y||(k=!0,G||(G=!0,q()))),U},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(U){var ee=b;return function(){var H=b;b=ee;try{return U.apply(this,arguments)}finally{b=H}}}})(Lc)),Lc}var Om;function Gb(){return Om||(Om=1,Oc.exports=Fb()),Oc.exports}var Nc={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Vb(){if(Lm)return Et;Lm=1;var i=pd();function o(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var e={d:{f:n,r:function(){throw Error(o(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:p,implementation:m}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=e,Et.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(o(299));return s(f,p,null,m)},Et.flushSync=function(f){var p=u.T,m=e.p;try{if(u.T=null,e.p=2,f)return f()}finally{u.T=p,e.p=m,e.d.f()}},Et.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,e.d.C(f,p))},Et.prefetchDNS=function(f){typeof f=="string"&&e.d.D(f)},Et.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?e.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):m==="script"&&e.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Et.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);e.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&e.d.M(f)},Et.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin);e.d.L(f,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Et.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=c(p.as,p.crossOrigin);e.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else e.d.m(f)},Et.requestFormReset=function(f){e.d.r(f)},Et.unstable_batchedUpdates=function(f,p){return f(p)},Et.useFormState=function(f,p,m){return u.H.useFormState(f,p,m)},Et.useFormStatus=function(){return u.H.useHostTransitionStatus()},Et.version="19.1.1",Et}var Nm;function $v(){if(Nm)return Nc.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Nc.exports=Vb(),Nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Kb(){if(Im)return ji;Im=1;var i=Gb(),o=pd(),n=$v();function e(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function c(t){if(s(t)!==t)throw Error(e(188))}function f(t){var r=t.alternate;if(!r){if(r=s(t),r===null)throw Error(e(188));return r!==t?null:t}for(var l=t,d=r;;){var h=l.return;if(h===null)break;var v=h.alternate;if(v===null){if(d=h.return,d!==null){l=d;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===l)return c(h),t;if(v===d)return c(h),r;v=v.sibling}throw Error(e(188))}if(l.return!==d.return)l=h,d=v;else{for(var S=!1,_=h.child;_;){if(_===l){S=!0,l=h,d=v;break}if(_===d){S=!0,d=h,l=v;break}_=_.sibling}if(!S){for(_=v.child;_;){if(_===l){S=!0,l=v,d=h;break}if(_===d){S=!0,d=v,l=h;break}_=_.sibling}if(!S)throw Error(e(189))}}if(l.alternate!==d)throw Error(e(190))}if(l.tag!==3)throw Error(e(188));return l.stateNode.current===l?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var se=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case G:return"SuspenseList";case be:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case y:return"Portal";case X:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case ne:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return r=t.displayName||null,r!==null?r:$(t.type)||"Memo";case K:r=t._payload,t=t._init;try{return $(t(r))}catch{}}return null}var he=Array.isArray,U=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ke=[],C=-1;function Y(t){return{current:t}}function ae(t){0>C||(t.current=ke[C],ke[C]=null,C--)}function te(t,r){C++,ke[C]=t.current,t.current=r}var ie=Y(null),Le=Y(null),Ee=Y(null),Be=Y(null);function Ke(t,r){switch(te(Ee,r),te(Le,t),te(ie,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?em(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=em(r),t=tm(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(ie),te(ie,t)}function It(){ae(ie),ae(Le),ae(Ee)}function Un(t){t.memoizedState!==null&&te(Be,t);var r=ie.current,l=tm(r,t.type);r!==l&&(te(Le,t),te(ie,l))}function jn(t){Le.current===t&&(ae(ie),ae(Le)),Be.current===t&&(ae(Be),Li._currentValue=H)}var zn=Object.prototype.hasOwnProperty,mo=i.unstable_scheduleCallback,vo=i.unstable_cancelCallback,vy=i.unstable_shouldYield,gy=i.unstable_requestPaint,an=i.unstable_now,yy=i.unstable_getCurrentPriorityLevel,Nd=i.unstable_ImmediatePriority,Id=i.unstable_UserBlockingPriority,Ts=i.unstable_NormalPriority,by=i.unstable_LowPriority,Dd=i.unstable_IdlePriority,Sy=i.log,_y=i.unstable_setDisableYieldValue,Pr=null,Dt=null;function Pn(t){if(typeof Sy=="function"&&_y(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Pr,t)}catch{}}var Bt=Math.clz32?Math.clz32:Ty,Ey=Math.log,ky=Math.LN2;function Ty(t){return t>>>=0,t===0?32:31-(Ey(t)/ky|0)|0}var ws=256,As=4194304;function va(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cs(t,r,l){var d=t.pendingLanes;if(d===0)return 0;var h=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var _=d&134217727;return _!==0?(d=_&~v,d!==0?h=va(d):(S&=_,S!==0?h=va(S):l||(l=_&~t,l!==0&&(h=va(l))))):(_=d&~v,_!==0?h=va(_):S!==0?h=va(S):l||(l=d&~t,l!==0&&(h=va(l)))),h===0?0:r!==0&&r!==h&&(r&v)===0&&(v=h&-h,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:h}function Hr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wy(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bd(){var t=ws;return ws<<=1,(ws&4194048)===0&&(ws=256),t}function Ud(){var t=As;return As<<=1,(As&62914560)===0&&(As=4194304),t}function go(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function qr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ay(t,r,l,d,h,v){var S=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var _=t.entanglements,A=t.expirationTimes,D=t.hiddenUpdates;for(l=S&~l;0<l;){var F=31-Bt(l),Z=1<<F;_[F]=0,A[F]=-1;var B=D[F];if(B!==null)for(D[F]=null,F=0;F<B.length;F++){var j=B[F];j!==null&&(j.lane&=-536870913)}l&=~Z}d!==0&&jd(t,d,0),v!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~r))}function jd(t,r,l){t.pendingLanes|=r,t.suspendedLanes&=~r;var d=31-Bt(r);t.entangledLanes|=r,t.entanglements[d]=t.entanglements[d]|1073741824|l&4194090}function zd(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var d=31-Bt(l),h=1<<d;h&r|t[d]&r&&(t[d]|=r),l&=~h}}function yo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pd(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Sm(t.type))}function Cy(t,r){var l=ee.p;try{return ee.p=t,r()}finally{ee.p=l}}var Hn=Math.random().toString(36).slice(2),St="__reactFiber$"+Hn,At="__reactProps$"+Hn,Ya="__reactContainer$"+Hn,So="__reactEvents$"+Hn,xy="__reactListeners$"+Hn,My="__reactHandles$"+Hn,Hd="__reactResources$"+Hn,Fr="__reactMarker$"+Hn;function _o(t){delete t[St],delete t[At],delete t[So],delete t[xy],delete t[My]}function Xa(t){var r=t[St];if(r)return r;for(var l=t.parentNode;l;){if(r=l[Ya]||l[St]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=im(t);t!==null;){if(l=t[St])return l;t=im(t)}return r}t=l,l=t.parentNode}return null}function Za(t){if(t=t[St]||t[Ya]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Gr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(e(33))}function Ja(t){var r=t[Hd];return r||(r=t[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[Fr]=!0}var qd=new Set,Fd={};function ga(t,r){Qa(t,r),Qa(t+"Capture",r)}function Qa(t,r){for(Fd[t]=r,t=0;t<r.length;t++)qd.add(r[t])}var Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gd={},Vd={};function Oy(t){return zn.call(Vd,t)?!0:zn.call(Gd,t)?!1:Ry.test(t)?Vd[t]=!0:(Gd[t]=!0,!1)}function xs(t,r,l){if(Oy(r))if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+l)}}function Ms(t,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+l)}}function hn(t,r,l,d){if(d===null)t.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(r,l,""+d)}}var Eo,Kd;function $a(t){if(Eo===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Eo=r&&r[1]||"",Kd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+t+Kd}var ko=!1;function To(t,r){if(!t||ko)return"";ko=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(j){var B=j}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(j){B=j}t.call(Z.prototype)}}else{try{throw Error()}catch(j){B=j}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],_=v[1];if(S&&_){var A=S.split(`
`),D=_.split(`
`);for(h=d=0;d<A.length&&!A[d].includes("DetermineComponentFrameRoot");)d++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(d===A.length||h===D.length)for(d=A.length-1,h=D.length-1;1<=d&&0<=h&&A[d]!==D[h];)h--;for(;1<=d&&0<=h;d--,h--)if(A[d]!==D[h]){if(d!==1||h!==1)do if(d--,h--,0>h||A[d]!==D[h]){var F=`
`+A[d].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=d&&0<=h);break}}}finally{ko=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?$a(l):""}function Ly(t){switch(t.tag){case 26:case 27:case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return To(t.type,!1);case 11:return To(t.type.render,!1);case 1:return To(t.type,!0);case 31:return $a("Activity");default:return""}}function Yd(t){try{var r="";do r+=Ly(t),t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xd(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ny(t){var r=Xd(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),d=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,v=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Rs(t){t._valueTracker||(t._valueTracker=Ny(t))}function Zd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return t&&(d=Xd(t)?t.checked?"true":"false":t.value),t=d,t!==l?(r.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Iy=/[\n"\\]/g;function Kt(t){return t.replace(Iy,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wo(t,r,l,d,h,v,S,_){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),r!=null?S==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Vt(r)):t.value!==""+Vt(r)&&(t.value=""+Vt(r)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),r!=null?Ao(t,S,Vt(r)):l!=null?Ao(t,S,Vt(l)):d!=null&&t.removeAttribute("value"),h==null&&v!=null&&(t.defaultChecked=!!v),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Vt(_):t.removeAttribute("name")}function Jd(t,r,l,d,h,v,S,_){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+Vt(l):"",r=r!=null?""+Vt(r):l,_||r===t.value||(t.value=r),t.defaultValue=r}d=d??h,d=typeof d!="function"&&typeof d!="symbol"&&!!d,t.checked=_?t.checked:!!d,t.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function Ao(t,r,l){r==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Wa(t,r,l,d){if(t=t.options,r){r={};for(var h=0;h<l.length;h++)r["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=r.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&d&&(t[l].defaultSelected=!0)}else{for(l=""+Vt(l),r=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,d&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qd(t,r,l){if(r!=null&&(r=""+Vt(r),r!==t.value&&(t.value=r),l==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=l!=null?""+Vt(l):""}function $d(t,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(e(92));if(he(d)){if(1<d.length)throw Error(e(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=Vt(r),t.defaultValue=l,d=t.textContent,d===l&&d!==""&&d!==null&&(t.value=d)}function er(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Dy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(t,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":d?t.setProperty(r,l):typeof l!="number"||l===0||Dy.has(r)?r==="float"?t.cssFloat=l:t[r]=(""+l).trim():t[r]=l+"px"}function ef(t,r,l){if(r!=null&&typeof r!="object")throw Error(e(62));if(t=t.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?t.setProperty(d,""):d==="float"?t.cssFloat="":t[d]="");for(var h in r)d=r[h],r.hasOwnProperty(h)&&l[h]!==d&&Wd(t,h,d)}else for(var v in r)r.hasOwnProperty(v)&&Wd(t,v,r[v])}function Co(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var By=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(t){return Uy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xo=null;function Mo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tr=null,nr=null;function tf(t){var r=Za(t);if(r&&(t=r.stateNode)){var l=t[At]||null;e:switch(t=r.stateNode,r.type){case"input":if(wo(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Kt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==t&&d.form===t.form){var h=d[At]||null;if(!h)throw Error(e(90));wo(d,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===t.form&&Zd(d)}break e;case"textarea":Qd(t,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Wa(t,!!l.multiple,r,!1)}}}var Ro=!1;function nf(t,r,l){if(Ro)return t(r,l);Ro=!0;try{var d=t(r);return d}finally{if(Ro=!1,(tr!==null||nr!==null)&&(gl(),tr&&(r=tr,t=nr,nr=tr=null,tf(r),t)))for(r=0;r<t.length;r++)tf(t[r])}}function Vr(t,r){var l=t.stateNode;if(l===null)return null;var d=l[At]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(e(231,r,typeof l));return l}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(pn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Oo=!1}var qn=null,Lo=null,Ns=null;function af(){if(Ns)return Ns;var t,r=Lo,l=r.length,d,h="value"in qn?qn.value:qn.textContent,v=h.length;for(t=0;t<l&&r[t]===h[t];t++);var S=l-t;for(d=1;d<=S&&r[l-d]===h[v-d];d++);return Ns=h.slice(t,1<d?1-d:void 0)}function Is(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ds(){return!0}function rf(){return!1}function Ct(t){function r(l,d,h,v,S){this._reactName=l,this._targetInst=h,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(l=t[_],this[_]=l?l(v):v[_]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ds:rf,this.isPropagationStopped=rf,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),r}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ct(ya),Yr=m({},ya,{view:0,detail:0}),jy=Ct(Yr),No,Io,Xr,Us=m({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(No=t.screenX-Xr.screenX,Io=t.screenY-Xr.screenY):Io=No=0,Xr=t),No)},movementY:function(t){return"movementY"in t?t.movementY:Io}}),sf=Ct(Us),zy=m({},Us,{dataTransfer:0}),Py=Ct(zy),Hy=m({},Yr,{relatedTarget:0}),Do=Ct(Hy),qy=m({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=Ct(qy),Gy=m({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vy=Ct(Gy),Ky=m({},ya,{data:0}),lf=Ct(Ky),Yy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Zy[t])?!!r[t]:!1}function Bo(){return Jy}var Qy=m({},Yr,{key:function(t){if(t.key){var r=Yy[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$y=Ct(Qy),Wy=m({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Ct(Wy),e0=m({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),t0=Ct(e0),n0=m({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=Ct(n0),r0=m({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=Ct(r0),s0=m({},ya,{newState:0,oldState:0}),l0=Ct(s0),o0=[9,13,27,32],Uo=pn&&"CompositionEvent"in window,Zr=null;pn&&"documentMode"in document&&(Zr=document.documentMode);var u0=pn&&"TextEvent"in window&&!Zr,uf=pn&&(!Uo||Zr&&8<Zr&&11>=Zr),cf=" ",df=!1;function ff(t,r){switch(t){case"keyup":return o0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ar=!1;function c0(t,r){switch(t){case"compositionend":return hf(r);case"keypress":return r.which!==32?null:(df=!0,cf);case"textInput":return t=r.data,t===cf&&df?null:t;default:return null}}function d0(t,r){if(ar)return t==="compositionend"||!Uo&&ff(t,r)?(t=af(),Ns=Lo=qn=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return uf&&r.locale!=="ko"?null:r.data;default:return null}}var f0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!f0[t.type]:r==="textarea"}function mf(t,r,l,d){tr?nr?nr.push(d):nr=[d]:tr=d,r=kl(r,"onChange"),0<r.length&&(l=new Bs("onChange","change",null,l,d),t.push({event:l,listeners:r}))}var Jr=null,Qr=null;function h0(t){Zp(t,0)}function js(t){var r=Gr(t);if(Zd(r))return t}function vf(t,r){if(t==="change")return r}var gf=!1;if(pn){var jo;if(pn){var zo="oninput"in document;if(!zo){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),zo=typeof yf.oninput=="function"}jo=zo}else jo=!1;gf=jo&&(!document.documentMode||9<document.documentMode)}function bf(){Jr&&(Jr.detachEvent("onpropertychange",Sf),Qr=Jr=null)}function Sf(t){if(t.propertyName==="value"&&js(Qr)){var r=[];mf(r,Qr,t,Mo(t)),nf(h0,r)}}function p0(t,r,l){t==="focusin"?(bf(),Jr=r,Qr=l,Jr.attachEvent("onpropertychange",Sf)):t==="focusout"&&bf()}function m0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return js(Qr)}function v0(t,r){if(t==="click")return js(r)}function g0(t,r){if(t==="input"||t==="change")return js(r)}function y0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ut=typeof Object.is=="function"?Object.is:y0;function $r(t,r){if(Ut(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var h=l[d];if(!zn.call(r,h)||!Ut(t[h],r[h]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ef(t,r){var l=_f(t);t=0;for(var d;l;){if(l.nodeType===3){if(d=t+l.textContent.length,t<=r&&d>=r)return{node:l,offset:r-t};t=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_f(l)}}function kf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?kf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Tf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Os(t.document);r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=Os(t.document)}return r}function Po(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var b0=pn&&"documentMode"in document&&11>=document.documentMode,rr=null,Ho=null,Wr=null,qo=!1;function wf(t,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qo||rr==null||rr!==Os(d)||(d=rr,"selectionStart"in d&&Po(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wr&&$r(Wr,d)||(Wr=d,d=kl(Ho,"onSelect"),0<d.length&&(r=new Bs("onSelect","select",null,r,l),t.push({event:r,listeners:d}),r.target=rr)))}function ba(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var ir={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Fo={},Af={};pn&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function Sa(t){if(Fo[t])return Fo[t];if(!ir[t])return t;var r=ir[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in Af)return Fo[t]=r[l];return t}var Cf=Sa("animationend"),xf=Sa("animationiteration"),Mf=Sa("animationstart"),S0=Sa("transitionrun"),_0=Sa("transitionstart"),E0=Sa("transitioncancel"),Rf=Sa("transitionend"),Of=new Map,Go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Go.push("scrollEnd");function en(t,r){Of.set(t,r),ga(r,[t])}var Lf=new WeakMap;function Yt(t,r){if(typeof t=="object"&&t!==null){var l=Lf.get(t);return l!==void 0?l:(r={value:t,source:r,stack:Yd(r)},Lf.set(t,r),r)}return{value:t,source:r,stack:Yd(r)}}var Xt=[],sr=0,Vo=0;function zs(){for(var t=sr,r=Vo=sr=0;r<t;){var l=Xt[r];Xt[r++]=null;var d=Xt[r];Xt[r++]=null;var h=Xt[r];Xt[r++]=null;var v=Xt[r];if(Xt[r++]=null,d!==null&&h!==null){var S=d.pending;S===null?h.next=h:(h.next=S.next,S.next=h),d.pending=h}v!==0&&Nf(l,h,v)}}function Ps(t,r,l,d){Xt[sr++]=t,Xt[sr++]=r,Xt[sr++]=l,Xt[sr++]=d,Vo|=d,t.lanes|=d,t=t.alternate,t!==null&&(t.lanes|=d)}function Ko(t,r,l,d){return Ps(t,r,l,d),Hs(t)}function lr(t,r){return Ps(t,null,null,r),Hs(t)}function Nf(t,r,l){t.lanes|=l;var d=t.alternate;d!==null&&(d.lanes|=l);for(var h=!1,v=t.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(h=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,h&&r!==null&&(h=31-Bt(l),t=v.hiddenUpdates,d=t[h],d===null?t[h]=[r]:d.push(r),r.lane=l|536870912),v):null}function Hs(t){if(50<Ti)throw Ti=0,$u=null,Error(e(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var or={};function k0(t,r,l,d){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,r,l,d){return new k0(t,r,l,d)}function Yo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mn(t,r){var l=t.alternate;return l===null?(l=jt(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function If(t,r){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,r=l.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function qs(t,r,l,d,h,v){var S=0;if(d=t,typeof t=="function")Yo(t)&&(S=1);else if(typeof t=="string")S=wb(t,l,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case be:return t=jt(31,l,r,h),t.elementType=be,t.lanes=v,t;case k:return _a(l.children,h,v,r);case E:S=8,h|=24;break;case w:return t=jt(12,l,r,h|2),t.elementType=w,t.lanes=v,t;case P:return t=jt(13,l,r,h),t.elementType=P,t.lanes=v,t;case G:return t=jt(19,l,r,h),t.elementType=G,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case X:S=10;break e;case O:S=9;break e;case ne:S=11;break e;case le:S=14;break e;case K:S=16,d=null;break e}S=29,l=Error(e(130,t===null?"null":typeof t,"")),d=null}return r=jt(S,l,r,h),r.elementType=t,r.type=d,r.lanes=v,r}function _a(t,r,l,d){return t=jt(7,t,d,r),t.lanes=l,t}function Xo(t,r,l){return t=jt(6,t,null,r),t.lanes=l,t}function Zo(t,r,l){return r=jt(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ur=[],cr=0,Fs=null,Gs=0,Zt=[],Jt=0,Ea=null,vn=1,gn="";function ka(t,r){ur[cr++]=Gs,ur[cr++]=Fs,Fs=t,Gs=r}function Df(t,r,l){Zt[Jt++]=vn,Zt[Jt++]=gn,Zt[Jt++]=Ea,Ea=t;var d=vn;t=gn;var h=32-Bt(d)-1;d&=~(1<<h),l+=1;var v=32-Bt(r)+h;if(30<v){var S=h-h%5;v=(d&(1<<S)-1).toString(32),d>>=S,h-=S,vn=1<<32-Bt(r)+h|l<<h|d,gn=v+t}else vn=1<<v|l<<h|d,gn=t}function Jo(t){t.return!==null&&(ka(t,1),Df(t,1,0))}function Qo(t){for(;t===Fs;)Fs=ur[--cr],ur[cr]=null,Gs=ur[--cr],ur[cr]=null;for(;t===Ea;)Ea=Zt[--Jt],Zt[Jt]=null,gn=Zt[--Jt],Zt[Jt]=null,vn=Zt[--Jt],Zt[Jt]=null}var kt=null,$e=null,ze=!1,Ta=null,rn=!1,$o=Error(e(519));function wa(t){var r=Error(e(418,""));throw ni(Yt(r,t)),$o}function Bf(t){var r=t.stateNode,l=t.type,d=t.memoizedProps;switch(r[St]=t,r[At]=d,l){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(l=0;l<Ai.length;l++)Ie(Ai[l],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Jd(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Rs(r);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),$d(r,d.value,d.defaultValue,d.children),Rs(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||Wp(r.textContent,l)?(d.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),d.onScroll!=null&&Ie("scroll",r),d.onScrollEnd!=null&&Ie("scrollend",r),d.onClick!=null&&(r.onclick=Tl),r=!0):r=!1,r||wa(t)}function Uf(t){for(kt=t.return;kt;)switch(kt.tag){case 5:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:kt=kt.return}}function ei(t){if(t!==kt)return!1;if(!ze)return Uf(t),ze=!0,!1;var r=t.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||pc(t.type,t.memoizedProps)),l=!l),l&&$e&&wa(t),Uf(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(e(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(r===0){$e=nn(t.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;t=t.nextSibling}$e=null}}else r===27?(r=$e,ra(t.type)?(t=yc,yc=null,$e=t):$e=r):$e=kt?nn(t.stateNode.nextSibling):null;return!0}function ti(){$e=kt=null,ze=!1}function jf(){var t=Ta;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),Ta=null),t}function ni(t){Ta===null?Ta=[t]:Ta.push(t)}var Wo=Y(null),Aa=null,yn=null;function Fn(t,r,l){te(Wo,r._currentValue),r._currentValue=l}function bn(t){t._currentValue=Wo.current,ae(Wo)}function eu(t,r,l){for(;t!==null;){var d=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),t===l)break;t=t.return}}function tu(t,r,l,d){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){var S=h.child;v=v.firstContext;e:for(;v!==null;){var _=v;v=h;for(var A=0;A<r.length;A++)if(_.context===r[A]){v.lanes|=l,_=v.alternate,_!==null&&(_.lanes|=l),eu(v.return,l,t),d||(S=null);break e}v=_.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(e(341));S.lanes|=l,v=S.alternate,v!==null&&(v.lanes|=l),eu(S,l,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function ai(t,r,l,d){t=null;for(var h=r,v=!1;h!==null;){if(!v){if((h.flags&524288)!==0)v=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(e(387));if(S=S.memoizedProps,S!==null){var _=h.type;Ut(h.pendingProps.value,S.value)||(t!==null?t.push(_):t=[_])}}else if(h===Be.current){if(S=h.alternate,S===null)throw Error(e(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Li):t=[Li])}h=h.return}t!==null&&tu(r,t,l,d),r.flags|=262144}function Vs(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ca(t){Aa=t,yn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return zf(Aa,t)}function Ks(t,r){return Aa===null&&Ca(t),zf(t,r)}function zf(t,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},yn===null){if(t===null)throw Error(e(308));yn=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else yn=yn.next=r;return l}var T0=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(l,d){t.push(d)}};this.abort=function(){r.aborted=!0,t.forEach(function(l){return l()})}},w0=i.unstable_scheduleCallback,A0=i.unstable_NormalPriority,st={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new T0,data:new Map,refCount:0}}function ri(t){t.refCount--,t.refCount===0&&w0(A0,function(){t.controller.abort()})}var ii=null,au=0,dr=0,fr=null;function C0(t,r){if(ii===null){var l=ii=[];au=0,dr=ic(),fr={status:"pending",value:void 0,then:function(d){l.push(d)}}}return au++,r.then(Pf,Pf),r}function Pf(){if(--au===0&&ii!==null){fr!==null&&(fr.status="fulfilled");var t=ii;ii=null,dr=0,fr=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function x0(t,r){var l=[],d={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){d.status="fulfilled",d.value=r;for(var h=0;h<l.length;h++)(0,l[h])(r)},function(h){for(d.status="rejected",d.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),d}var Hf=U.S;U.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&C0(t,r),Hf!==null&&Hf(t,r)};var xa=Y(null);function ru(){var t=xa.current;return t!==null?t:Ze.pooledCache}function Ys(t,r){r===null?te(xa,xa.current):te(xa,r.pool)}function qf(){var t=ru();return t===null?null:{parent:st._currentValue,pool:t}}var si=Error(e(460)),Ff=Error(e(474)),Xs=Error(e(542)),iu={then:function(){}};function Gf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zs(){}function Vf(t,r,l){switch(l=t[l],l===void 0?t.push(r):l!==r&&(r.then(Zs,Zs),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yf(t),t;default:if(typeof r.status=="string")r.then(Zs,Zs);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(e(482));t=r,t.status="pending",t.then(function(d){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=d}},function(d){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yf(t),t}throw li=r,si}}var li=null;function Kf(){if(li===null)throw Error(e(459));var t=li;return li=null,t}function Yf(t){if(t===si||t===Xs)throw Error(e(483))}var Gn=!1;function su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(t,r,l){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Pe&2)!==0){var h=d.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),d.pending=r,r=Hs(t),Nf(t,null,l),r}return Ps(t,d,r,l),Hs(t)}function oi(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=t.pendingLanes,l|=d,r.lanes=l,zd(t,l)}}function ou(t,r){var l=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var h=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?h=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?h=v=r:v=v.next=r}else h=v=r;l={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}var uu=!1;function ui(){if(uu){var t=fr;if(t!==null)throw t}}function ci(t,r,l,d){uu=!1;var h=t.updateQueue;Gn=!1;var v=h.firstBaseUpdate,S=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,D=A.next;A.next=null,S===null?v=D:S.next=D,S=A;var F=t.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==S&&(_===null?F.firstBaseUpdate=D:_.next=D,F.lastBaseUpdate=A))}if(v!==null){var Z=h.baseState;S=0,F=D=A=null,_=v;do{var B=_.lane&-536870913,j=B!==_.lane;if(j?(De&B)===B:(d&B)===B){B!==0&&B===dr&&(uu=!0),F!==null&&(F=F.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Se=t,ge=_;B=r;var Ve=l;switch(ge.tag){case 1:if(Se=ge.payload,typeof Se=="function"){Z=Se.call(Ve,Z,B);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ge.payload,B=typeof Se=="function"?Se.call(Ve,Z,B):Se,B==null)break e;Z=m({},Z,B);break e;case 2:Gn=!0}}B=_.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(D=F=j,A=Z):F=F.next=j,S|=B;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;j=_,_=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);F===null&&(A=Z),h.baseState=A,h.firstBaseUpdate=D,h.lastBaseUpdate=F,v===null&&(h.shared.lanes=0),ea|=S,t.lanes=S,t.memoizedState=Z}}function Xf(t,r){if(typeof t!="function")throw Error(e(191,t));t.call(r)}function Zf(t,r){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Xf(l[t],r)}var hr=Y(null),Js=Y(0);function Jf(t,r){t=An,te(Js,t),te(hr,r),An=t|r.baseLanes}function cu(){te(Js,An),te(hr,hr.current)}function du(){An=Js.current,ae(hr),ae(Js)}var Yn=0,xe=null,Fe=null,at=null,Qs=!1,pr=!1,Ma=!1,$s=0,di=0,mr=null,M0=0;function tt(){throw Error(e(321))}function fu(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!Ut(t[l],r[l]))return!1;return!0}function hu(t,r,l,d,h,v){return Yn=v,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?Nh:Ih,Ma=!1,v=l(d,h),Ma=!1,pr&&(v=$f(r,l,d,h)),Qf(t),v}function Qf(t){U.H=rl;var r=Fe!==null&&Fe.next!==null;if(Yn=0,at=Fe=xe=null,Qs=!1,di=0,mr=null,r)throw Error(e(300));t===null||ft||(t=t.dependencies,t!==null&&Vs(t)&&(ft=!0))}function $f(t,r,l,d){xe=t;var h=0;do{if(pr&&(mr=null),di=0,pr=!1,25<=h)throw Error(e(301));if(h+=1,at=Fe=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=B0,v=r(l,d)}while(pr);return v}function R0(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?fi(r):r,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(xe.flags|=1024),r}function pu(){var t=$s!==0;return $s=0,t}function mu(t,r,l){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l}function vu(t){if(Qs){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Qs=!1}Yn=0,at=Fe=xe=null,pr=!1,di=$s=0,mr=null}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?xe.memoizedState=at=t:at=at.next=t,at}function rt(){if(Fe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var r=at===null?xe.memoizedState:at.next;if(r!==null)at=r,Fe=t;else{if(t===null)throw xe.alternate===null?Error(e(467)):Error(e(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},at===null?xe.memoizedState=at=t:at=at.next=t}return at}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fi(t){var r=di;return di+=1,mr===null&&(mr=[]),t=Vf(mr,t,r),r=xe,(at===null?r.memoizedState:at.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Nh:Ih),t}function Ws(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fi(t);if(t.$$typeof===X)return _t(t)}throw Error(e(438,String(t)))}function yu(t){var r=null,l=xe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=gu(),xe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(t),d=0;d<t;d++)l[d]=W;return r.index++,l}function Sn(t,r){return typeof r=="function"?r(t):r}function el(t){var r=rt();return bu(r,Fe,t)}function bu(t,r,l){var d=t.queue;if(d===null)throw Error(e(311));d.lastRenderedReducer=l;var h=t.baseQueue,v=d.pending;if(v!==null){if(h!==null){var S=h.next;h.next=v.next,v.next=S}r.baseQueue=h=v,d.pending=null}if(v=t.baseState,h===null)t.memoizedState=v;else{r=h.next;var _=S=null,A=null,D=r,F=!1;do{var Z=D.lane&-536870913;if(Z!==D.lane?(De&Z)===Z:(Yn&Z)===Z){var B=D.revertLane;if(B===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Z===dr&&(F=!0);else if((Yn&B)===B){D=D.next,B===dr&&(F=!0);continue}else Z={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=Z,S=v):A=A.next=Z,xe.lanes|=B,ea|=B;Z=D.action,Ma&&l(v,Z),v=D.hasEagerState?D.eagerState:l(v,Z)}else B={lane:Z,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=B,S=v):A=A.next=B,xe.lanes|=Z,ea|=Z;D=D.next}while(D!==null&&D!==r);if(A===null?S=v:A.next=_,!Ut(v,t.memoizedState)&&(ft=!0,F&&(l=fr,l!==null)))throw l;t.memoizedState=v,t.baseState=S,t.baseQueue=A,d.lastRenderedState=v}return h===null&&(d.lanes=0),[t.memoizedState,d.dispatch]}function Su(t){var r=rt(),l=r.queue;if(l===null)throw Error(e(311));l.lastRenderedReducer=t;var d=l.dispatch,h=l.pending,v=r.memoizedState;if(h!==null){l.pending=null;var S=h=h.next;do v=t(v,S.action),S=S.next;while(S!==h);Ut(v,r.memoizedState)||(ft=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,d]}function Wf(t,r,l){var d=xe,h=rt(),v=ze;if(v){if(l===void 0)throw Error(e(407));l=l()}else l=r();var S=!Ut((Fe||h).memoizedState,l);S&&(h.memoizedState=l,ft=!0),h=h.queue;var _=nh.bind(null,d,h,t);if(hi(2048,8,_,[t]),h.getSnapshot!==r||S||at!==null&&at.memoizedState.tag&1){if(d.flags|=2048,vr(9,tl(),th.bind(null,d,h,l,r),null),Ze===null)throw Error(e(349));v||(Yn&124)!==0||eh(d,r,l)}return l}function eh(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=xe.updateQueue,r===null?(r=gu(),xe.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function th(t,r,l,d){r.value=l,r.getSnapshot=d,ah(r)&&rh(t)}function nh(t,r,l){return l(function(){ah(r)&&rh(t)})}function ah(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!Ut(t,l)}catch{return!0}}function rh(t){var r=lr(t,2);r!==null&&Ft(r,t,2)}function _u(t){var r=xt();if(typeof t=="function"){var l=t;if(t=l(),Ma){Pn(!0);try{l()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:t},r}function ih(t,r,l,d){return t.baseState=l,bu(t,Fe,typeof d=="function"?d:Sn)}function O0(t,r,l,d,h){if(al(t))throw Error(e(485));if(t=r.action,t!==null){var v={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};U.T!==null?l(!0):v.isTransition=!1,d(v),l=r.pending,l===null?(v.next=r.pending=v,sh(r,v)):(v.next=l.next,r.pending=l.next=v)}}function sh(t,r){var l=r.action,d=r.payload,h=t.state;if(r.isTransition){var v=U.T,S={};U.T=S;try{var _=l(h,d),A=U.S;A!==null&&A(S,_),lh(t,r,_)}catch(D){Eu(t,r,D)}finally{U.T=v}}else try{v=l(h,d),lh(t,r,v)}catch(D){Eu(t,r,D)}}function lh(t,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){oh(t,r,d)},function(d){return Eu(t,r,d)}):oh(t,r,l)}function oh(t,r,l){r.status="fulfilled",r.value=l,uh(r),t.state=l,r=t.pending,r!==null&&(l=r.next,l===r?t.pending=null:(l=l.next,r.next=l,sh(t,l)))}function Eu(t,r,l){var d=t.pending;if(t.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,uh(r),r=r.next;while(r!==d)}t.action=null}function uh(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ch(t,r){return r}function dh(t,r){if(ze){var l=Ze.formState;if(l!==null){e:{var d=xe;if(ze){if($e){t:{for(var h=$e,v=rn;h.nodeType!==8;){if(!v){h=null;break t}if(h=nn(h.nextSibling),h===null){h=null;break t}}v=h.data,h=v==="F!"||v==="F"?h:null}if(h){$e=nn(h.nextSibling),d=h.data==="F!";break e}}wa(d)}d=!1}d&&(r=l[0])}}return l=xt(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:r},l.queue=d,l=Rh.bind(null,xe,d),d.dispatch=l,d=_u(!1),v=Cu.bind(null,xe,!1,d.queue),d=xt(),h={state:r,dispatch:null,action:t,pending:null},d.queue=h,l=O0.bind(null,xe,h,v,l),h.dispatch=l,d.memoizedState=t,[r,l,!1]}function fh(t){var r=rt();return hh(r,Fe,t)}function hh(t,r,l){if(r=bu(t,r,ch)[0],t=el(Sn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=fi(r)}catch(S){throw S===si?Xs:S}else d=r;r=rt();var h=r.queue,v=h.dispatch;return l!==r.memoizedState&&(xe.flags|=2048,vr(9,tl(),L0.bind(null,h,l),null)),[d,v,t]}function L0(t,r){t.action=r}function ph(t){var r=rt(),l=Fe;if(l!==null)return hh(r,l,t);rt(),r=r.memoizedState,l=rt();var d=l.queue.dispatch;return l.memoizedState=t,[r,d,!1]}function vr(t,r,l,d){return t={tag:t,create:l,deps:d,inst:r,next:null},r=xe.updateQueue,r===null&&(r=gu(),xe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=t.next=t:(d=l.next,l.next=t,t.next=d,r.lastEffect=t),t}function tl(){return{destroy:void 0,resource:void 0}}function mh(){return rt().memoizedState}function nl(t,r,l,d){var h=xt();d=d===void 0?null:d,xe.flags|=t,h.memoizedState=vr(1|r,tl(),l,d)}function hi(t,r,l,d){var h=rt();d=d===void 0?null:d;var v=h.memoizedState.inst;Fe!==null&&d!==null&&fu(d,Fe.memoizedState.deps)?h.memoizedState=vr(r,v,l,d):(xe.flags|=t,h.memoizedState=vr(1|r,v,l,d))}function vh(t,r){nl(8390656,8,t,r)}function gh(t,r){hi(2048,8,t,r)}function yh(t,r){return hi(4,2,t,r)}function bh(t,r){return hi(4,4,t,r)}function Sh(t,r){if(typeof r=="function"){t=t();var l=r(t);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function _h(t,r,l){l=l!=null?l.concat([t]):null,hi(4,4,Sh.bind(null,r,t),l)}function ku(){}function Eh(t,r){var l=rt();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&fu(r,d[1])?d[0]:(l.memoizedState=[t,r],t)}function kh(t,r){var l=rt();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&fu(r,d[1]))return d[0];if(d=t(),Ma){Pn(!0);try{t()}finally{Pn(!1)}}return l.memoizedState=[d,r],d}function Tu(t,r,l){return l===void 0||(Yn&1073741824)!==0?t.memoizedState=r:(t.memoizedState=l,t=Ap(),xe.lanes|=t,ea|=t,l)}function Th(t,r,l,d){return Ut(l,r)?l:hr.current!==null?(t=Tu(t,l,d),Ut(t,r)||(ft=!0),t):(Yn&42)===0?(ft=!0,t.memoizedState=l):(t=Ap(),xe.lanes|=t,ea|=t,r)}function wh(t,r,l,d,h){var v=ee.p;ee.p=v!==0&&8>v?v:8;var S=U.T,_={};U.T=_,Cu(t,!1,r,l);try{var A=h(),D=U.S;if(D!==null&&D(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=x0(A,d);pi(t,r,F,qt(t))}else pi(t,r,d,qt(t))}catch(Z){pi(t,r,{then:function(){},status:"rejected",reason:Z},qt())}finally{ee.p=v,U.T=S}}function N0(){}function wu(t,r,l,d){if(t.tag!==5)throw Error(e(476));var h=Ah(t).queue;wh(t,h,r,H,l===null?N0:function(){return Ch(t),l(d)})}function Ah(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:H},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:l},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ch(t){var r=Ah(t).next.queue;pi(t,r,{},qt())}function Au(){return _t(Li)}function xh(){return rt().memoizedState}function Mh(){return rt().memoizedState}function I0(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var l=qt();t=Vn(l);var d=Kn(r,t,l);d!==null&&(Ft(d,r,l),oi(d,r,l)),r={cache:nu()},t.payload=r;return}r=r.return}}function D0(t,r,l){var d=qt();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},al(t)?Oh(r,l):(l=Ko(t,r,l,d),l!==null&&(Ft(l,t,d),Lh(l,r,d)))}function Rh(t,r,l){var d=qt();pi(t,r,l,d)}function pi(t,r,l,d){var h={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(al(t))Oh(r,h);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var S=r.lastRenderedState,_=v(S,l);if(h.hasEagerState=!0,h.eagerState=_,Ut(_,S))return Ps(t,r,h,0),Ze===null&&zs(),!1}catch{}finally{}if(l=Ko(t,r,h,d),l!==null)return Ft(l,t,d),Lh(l,r,d),!0}return!1}function Cu(t,r,l,d){if(d={lane:2,revertLane:ic(),action:d,hasEagerState:!1,eagerState:null,next:null},al(t)){if(r)throw Error(e(479))}else r=Ko(t,l,d,2),r!==null&&Ft(r,t,2)}function al(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function Oh(t,r){pr=Qs=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function Lh(t,r,l){if((l&4194048)!==0){var d=r.lanes;d&=t.pendingLanes,l|=d,r.lanes=l,zd(t,l)}}var rl={readContext:_t,use:Ws,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Nh={readContext:_t,use:Ws,useCallback:function(t,r){return xt().memoizedState=[t,r===void 0?null:r],t},useContext:_t,useEffect:vh,useImperativeHandle:function(t,r,l){l=l!=null?l.concat([t]):null,nl(4194308,4,Sh.bind(null,r,t),l)},useLayoutEffect:function(t,r){return nl(4194308,4,t,r)},useInsertionEffect:function(t,r){nl(4,2,t,r)},useMemo:function(t,r){var l=xt();r=r===void 0?null:r;var d=t();if(Ma){Pn(!0);try{t()}finally{Pn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(t,r,l){var d=xt();if(l!==void 0){var h=l(r);if(Ma){Pn(!0);try{l(r)}finally{Pn(!1)}}}else h=r;return d.memoizedState=d.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},d.queue=t,t=t.dispatch=D0.bind(null,xe,t),[d.memoizedState,t]},useRef:function(t){var r=xt();return t={current:t},r.memoizedState=t},useState:function(t){t=_u(t);var r=t.queue,l=Rh.bind(null,xe,r);return r.dispatch=l,[t.memoizedState,l]},useDebugValue:ku,useDeferredValue:function(t,r){var l=xt();return Tu(l,t,r)},useTransition:function(){var t=_u(!1);return t=wh.bind(null,xe,t.queue,!0,!1),xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,l){var d=xe,h=xt();if(ze){if(l===void 0)throw Error(e(407));l=l()}else{if(l=r(),Ze===null)throw Error(e(349));(De&124)!==0||eh(d,r,l)}h.memoizedState=l;var v={value:l,getSnapshot:r};return h.queue=v,vh(nh.bind(null,d,v,t),[t]),d.flags|=2048,vr(9,tl(),th.bind(null,d,v,l,r),null),l},useId:function(){var t=xt(),r=Ze.identifierPrefix;if(ze){var l=gn,d=vn;l=(d&~(1<<32-Bt(d)-1)).toString(32)+l,r="«"+r+"R"+l,l=$s++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=M0++,r="«"+r+"r"+l.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Au,useFormState:dh,useActionState:dh,useOptimistic:function(t){var r=xt();r.memoizedState=r.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Cu.bind(null,xe,!0,l),l.dispatch=r,[t,r]},useMemoCache:yu,useCacheRefresh:function(){return xt().memoizedState=I0.bind(null,xe)}},Ih={readContext:_t,use:Ws,useCallback:Eh,useContext:_t,useEffect:gh,useImperativeHandle:_h,useInsertionEffect:yh,useLayoutEffect:bh,useMemo:kh,useReducer:el,useRef:mh,useState:function(){return el(Sn)},useDebugValue:ku,useDeferredValue:function(t,r){var l=rt();return Th(l,Fe.memoizedState,t,r)},useTransition:function(){var t=el(Sn)[0],r=rt().memoizedState;return[typeof t=="boolean"?t:fi(t),r]},useSyncExternalStore:Wf,useId:xh,useHostTransitionStatus:Au,useFormState:fh,useActionState:fh,useOptimistic:function(t,r){var l=rt();return ih(l,Fe,t,r)},useMemoCache:yu,useCacheRefresh:Mh},B0={readContext:_t,use:Ws,useCallback:Eh,useContext:_t,useEffect:gh,useImperativeHandle:_h,useInsertionEffect:yh,useLayoutEffect:bh,useMemo:kh,useReducer:Su,useRef:mh,useState:function(){return Su(Sn)},useDebugValue:ku,useDeferredValue:function(t,r){var l=rt();return Fe===null?Tu(l,t,r):Th(l,Fe.memoizedState,t,r)},useTransition:function(){var t=Su(Sn)[0],r=rt().memoizedState;return[typeof t=="boolean"?t:fi(t),r]},useSyncExternalStore:Wf,useId:xh,useHostTransitionStatus:Au,useFormState:ph,useActionState:ph,useOptimistic:function(t,r){var l=rt();return Fe!==null?ih(l,Fe,t,r):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:yu,useCacheRefresh:Mh},gr=null,mi=0;function il(t){var r=mi;return mi+=1,gr===null&&(gr=[]),Vf(gr,t,r)}function vi(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sl(t,r){throw r.$$typeof===g?Error(e(525)):(t=Object.prototype.toString.call(r),Error(e(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Dh(t){var r=t._init;return r(t._payload)}function Bh(t){function r(R,x){if(t){var L=R.deletions;L===null?(R.deletions=[x],R.flags|=16):L.push(x)}}function l(R,x){if(!t)return null;for(;x!==null;)r(R,x),x=x.sibling;return null}function d(R){for(var x=new Map;R!==null;)R.key!==null?x.set(R.key,R):x.set(R.index,R),R=R.sibling;return x}function h(R,x){return R=mn(R,x),R.index=0,R.sibling=null,R}function v(R,x,L){return R.index=L,t?(L=R.alternate,L!==null?(L=L.index,L<x?(R.flags|=67108866,x):L):(R.flags|=67108866,x)):(R.flags|=1048576,x)}function S(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function _(R,x,L,V){return x===null||x.tag!==6?(x=Xo(L,R.mode,V),x.return=R,x):(x=h(x,L),x.return=R,x)}function A(R,x,L,V){var ue=L.type;return ue===k?F(R,x,L.props.children,V,L.key):x!==null&&(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===K&&Dh(ue)===x.type)?(x=h(x,L.props),vi(x,L),x.return=R,x):(x=qs(L.type,L.key,L.props,null,R.mode,V),vi(x,L),x.return=R,x)}function D(R,x,L,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Zo(L,R.mode,V),x.return=R,x):(x=h(x,L.children||[]),x.return=R,x)}function F(R,x,L,V,ue){return x===null||x.tag!==7?(x=_a(L,R.mode,V,ue),x.return=R,x):(x=h(x,L),x.return=R,x)}function Z(R,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Xo(""+x,R.mode,L),x.return=R,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return L=qs(x.type,x.key,x.props,null,R.mode,L),vi(L,x),L.return=R,L;case y:return x=Zo(x,R.mode,L),x.return=R,x;case K:var V=x._init;return x=V(x._payload),Z(R,x,L)}if(he(x)||q(x))return x=_a(x,R.mode,L,null),x.return=R,x;if(typeof x.then=="function")return Z(R,il(x),L);if(x.$$typeof===X)return Z(R,Ks(R,x),L);sl(R,x)}return null}function B(R,x,L,V){var ue=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:_(R,x,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ue?A(R,x,L,V):null;case y:return L.key===ue?D(R,x,L,V):null;case K:return ue=L._init,L=ue(L._payload),B(R,x,L,V)}if(he(L)||q(L))return ue!==null?null:F(R,x,L,V,null);if(typeof L.then=="function")return B(R,x,il(L),V);if(L.$$typeof===X)return B(R,x,Ks(R,L),V);sl(R,L)}return null}function j(R,x,L,V,ue){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(L)||null,_(x,R,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return R=R.get(V.key===null?L:V.key)||null,A(x,R,V,ue);case y:return R=R.get(V.key===null?L:V.key)||null,D(x,R,V,ue);case K:var Re=V._init;return V=Re(V._payload),j(R,x,L,V,ue)}if(he(V)||q(V))return R=R.get(L)||null,F(x,R,V,ue,null);if(typeof V.then=="function")return j(R,x,L,il(V),ue);if(V.$$typeof===X)return j(R,x,L,Ks(x,V),ue);sl(x,V)}return null}function Se(R,x,L,V){for(var ue=null,Re=null,ve=x,ye=x=0,pt=null;ve!==null&&ye<L.length;ye++){ve.index>ye?(pt=ve,ve=null):pt=ve.sibling;var Ue=B(R,ve,L[ye],V);if(Ue===null){ve===null&&(ve=pt);break}t&&ve&&Ue.alternate===null&&r(R,ve),x=v(Ue,x,ye),Re===null?ue=Ue:Re.sibling=Ue,Re=Ue,ve=pt}if(ye===L.length)return l(R,ve),ze&&ka(R,ye),ue;if(ve===null){for(;ye<L.length;ye++)ve=Z(R,L[ye],V),ve!==null&&(x=v(ve,x,ye),Re===null?ue=ve:Re.sibling=ve,Re=ve);return ze&&ka(R,ye),ue}for(ve=d(ve);ye<L.length;ye++)pt=j(ve,R,ye,L[ye],V),pt!==null&&(t&&pt.alternate!==null&&ve.delete(pt.key===null?ye:pt.key),x=v(pt,x,ye),Re===null?ue=pt:Re.sibling=pt,Re=pt);return t&&ve.forEach(function(ua){return r(R,ua)}),ze&&ka(R,ye),ue}function ge(R,x,L,V){if(L==null)throw Error(e(151));for(var ue=null,Re=null,ve=x,ye=x=0,pt=null,Ue=L.next();ve!==null&&!Ue.done;ye++,Ue=L.next()){ve.index>ye?(pt=ve,ve=null):pt=ve.sibling;var ua=B(R,ve,Ue.value,V);if(ua===null){ve===null&&(ve=pt);break}t&&ve&&ua.alternate===null&&r(R,ve),x=v(ua,x,ye),Re===null?ue=ua:Re.sibling=ua,Re=ua,ve=pt}if(Ue.done)return l(R,ve),ze&&ka(R,ye),ue;if(ve===null){for(;!Ue.done;ye++,Ue=L.next())Ue=Z(R,Ue.value,V),Ue!==null&&(x=v(Ue,x,ye),Re===null?ue=Ue:Re.sibling=Ue,Re=Ue);return ze&&ka(R,ye),ue}for(ve=d(ve);!Ue.done;ye++,Ue=L.next())Ue=j(ve,R,ye,Ue.value,V),Ue!==null&&(t&&Ue.alternate!==null&&ve.delete(Ue.key===null?ye:Ue.key),x=v(Ue,x,ye),Re===null?ue=Ue:Re.sibling=Ue,Re=Ue);return t&&ve.forEach(function(Ub){return r(R,Ub)}),ze&&ka(R,ye),ue}function Ve(R,x,L,V){if(typeof L=="object"&&L!==null&&L.type===k&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ue=L.key;x!==null;){if(x.key===ue){if(ue=L.type,ue===k){if(x.tag===7){l(R,x.sibling),V=h(x,L.props.children),V.return=R,R=V;break e}}else if(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===K&&Dh(ue)===x.type){l(R,x.sibling),V=h(x,L.props),vi(V,L),V.return=R,R=V;break e}l(R,x);break}else r(R,x);x=x.sibling}L.type===k?(V=_a(L.props.children,R.mode,V,L.key),V.return=R,R=V):(V=qs(L.type,L.key,L.props,null,R.mode,V),vi(V,L),V.return=R,R=V)}return S(R);case y:e:{for(ue=L.key;x!==null;){if(x.key===ue)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){l(R,x.sibling),V=h(x,L.children||[]),V.return=R,R=V;break e}else{l(R,x);break}else r(R,x);x=x.sibling}V=Zo(L,R.mode,V),V.return=R,R=V}return S(R);case K:return ue=L._init,L=ue(L._payload),Ve(R,x,L,V)}if(he(L))return Se(R,x,L,V);if(q(L)){if(ue=q(L),typeof ue!="function")throw Error(e(150));return L=ue.call(L),ge(R,x,L,V)}if(typeof L.then=="function")return Ve(R,x,il(L),V);if(L.$$typeof===X)return Ve(R,x,Ks(R,L),V);sl(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(l(R,x.sibling),V=h(x,L),V.return=R,R=V):(l(R,x),V=Xo(L,R.mode,V),V.return=R,R=V),S(R)):l(R,x)}return function(R,x,L,V){try{mi=0;var ue=Ve(R,x,L,V);return gr=null,ue}catch(ve){if(ve===si||ve===Xs)throw ve;var Re=jt(29,ve,null,R.mode);return Re.lanes=V,Re.return=R,Re}finally{}}}var yr=Bh(!0),Uh=Bh(!1),Qt=Y(null),sn=null;function Xn(t){var r=t.alternate;te(lt,lt.current&1),te(Qt,t),sn===null&&(r===null||hr.current!==null||r.memoizedState!==null)&&(sn=t)}function jh(t){if(t.tag===22){if(te(lt,lt.current),te(Qt,t),sn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(sn=t)}}else Zn()}function Zn(){te(lt,lt.current),te(Qt,Qt.current)}function _n(t){ae(Qt),sn===t&&(sn=null),ae(lt)}var lt=Y(0);function ll(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||gc(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function xu(t,r,l,d){r=t.memoizedState,l=l(d,r),l=l==null?r:m({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Mu={enqueueSetState:function(t,r,l){t=t._reactInternals;var d=qt(),h=Vn(d);h.payload=r,l!=null&&(h.callback=l),r=Kn(t,h,d),r!==null&&(Ft(r,t,d),oi(r,t,d))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var d=qt(),h=Vn(d);h.tag=1,h.payload=r,l!=null&&(h.callback=l),r=Kn(t,h,d),r!==null&&(Ft(r,t,d),oi(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=qt(),d=Vn(l);d.tag=2,r!=null&&(d.callback=r),r=Kn(t,d,l),r!==null&&(Ft(r,t,l),oi(r,t,l))}};function zh(t,r,l,d,h,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,v,S):r.prototype&&r.prototype.isPureReactComponent?!$r(l,d)||!$r(h,v):!0}function Ph(t,r,l,d){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==t&&Mu.enqueueReplaceState(r,r.state,null)}function Ra(t,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(t=t.defaultProps){l===r&&(l=m({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}var ol=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hh(t){ol(t)}function qh(t){console.error(t)}function Fh(t){ol(t)}function ul(t,r){try{var l=t.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Gh(t,r,l){try{var d=t.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ru(t,r,l){return l=Vn(l),l.tag=3,l.payload={element:null},l.callback=function(){ul(t,r)},l}function Vh(t){return t=Vn(t),t.tag=3,t}function Kh(t,r,l,d){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var v=d.value;t.payload=function(){return h(v)},t.callback=function(){Gh(r,l,d)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Gh(r,l,d),typeof h!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var _=d.stack;this.componentDidCatch(d.value,{componentStack:_!==null?_:""})})}function U0(t,r,l,d,h){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&ai(r,l,h,!0),l=Qt.current,l!==null){switch(l.tag){case 13:return sn===null?ec():l.alternate===null&&We===0&&(We=3),l.flags&=-257,l.flags|=65536,l.lanes=h,d===iu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),nc(t,d,h)),!1;case 22:return l.flags|=65536,d===iu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),nc(t,d,h)),!1}throw Error(e(435,l.tag))}return nc(t,d,h),ec(),!1}if(ze)return r=Qt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,d!==$o&&(t=Error(e(422),{cause:d}),ni(Yt(t,l)))):(d!==$o&&(r=Error(e(423),{cause:d}),ni(Yt(r,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,d=Yt(d,l),h=Ru(t.stateNode,d,h),ou(t,h),We!==4&&(We=2)),!1;var v=Error(e(520),{cause:d});if(v=Yt(v,l),ki===null?ki=[v]:ki.push(v),We!==4&&(We=2),r===null)return!0;d=Yt(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=Ru(l.stateNode,d,t),ou(l,t),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ta===null||!ta.has(v))))return l.flags|=65536,h&=-h,l.lanes|=h,h=Vh(h),Kh(h,t,l,d),ou(l,h),!1}l=l.return}while(l!==null);return!1}var Yh=Error(e(461)),ft=!1;function vt(t,r,l,d){r.child=t===null?Uh(r,null,l,d):yr(r,t.child,l,d)}function Xh(t,r,l,d,h){l=l.render;var v=r.ref;if("ref"in d){var S={};for(var _ in d)_!=="ref"&&(S[_]=d[_])}else S=d;return Ca(r),d=hu(t,r,l,S,v,h),_=pu(),t!==null&&!ft?(mu(t,r,h),En(t,r,h)):(ze&&_&&Jo(r),r.flags|=1,vt(t,r,d,h),r.child)}function Zh(t,r,l,d,h){if(t===null){var v=l.type;return typeof v=="function"&&!Yo(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,Jh(t,r,v,d,h)):(t=qs(l.type,null,d,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(v=t.child,!ju(t,h)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:$r,l(S,d)&&t.ref===r.ref)return En(t,r,h)}return r.flags|=1,t=mn(v,d),t.ref=r.ref,t.return=r,r.child=t}function Jh(t,r,l,d,h){if(t!==null){var v=t.memoizedProps;if($r(v,d)&&t.ref===r.ref)if(ft=!1,r.pendingProps=d=v,ju(t,h))(t.flags&131072)!==0&&(ft=!0);else return r.lanes=t.lanes,En(t,r,h)}return Ou(t,r,l,d,h)}function Qh(t,r,l){var d=r.pendingProps,h=d.children,v=t!==null?t.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=v!==null?v.baseLanes|l:l,t!==null){for(h=r.child=t.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;r.childLanes=v&~d}else r.childLanes=0,r.child=null;return $h(t,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ys(r,v!==null?v.cachePool:null),v!==null?Jf(r,v):cu(),jh(r);else return r.lanes=r.childLanes=536870912,$h(t,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(Ys(r,v.cachePool),Jf(r,v),Zn(),r.memoizedState=null):(t!==null&&Ys(r,null),cu(),Zn());return vt(t,r,h,l),r.child}function $h(t,r,l,d){var h=ru();return h=h===null?null:{parent:st._currentValue,pool:h},r.memoizedState={baseLanes:l,cachePool:h},t!==null&&Ys(r,null),cu(),jh(r),t!==null&&ai(t,r,d,!0),null}function cl(t,r){var l=r.ref;if(l===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(e(284));(t===null||t.ref!==l)&&(r.flags|=4194816)}}function Ou(t,r,l,d,h){return Ca(r),l=hu(t,r,l,d,void 0,h),d=pu(),t!==null&&!ft?(mu(t,r,h),En(t,r,h)):(ze&&d&&Jo(r),r.flags|=1,vt(t,r,l,h),r.child)}function Wh(t,r,l,d,h,v){return Ca(r),r.updateQueue=null,l=$f(r,d,l,h),Qf(t),d=pu(),t!==null&&!ft?(mu(t,r,v),En(t,r,v)):(ze&&d&&Jo(r),r.flags|=1,vt(t,r,l,v),r.child)}function ep(t,r,l,d,h){if(Ca(r),r.stateNode===null){var v=or,S=l.contextType;typeof S=="object"&&S!==null&&(v=_t(S)),v=new l(d,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Mu,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=d,v.state=r.memoizedState,v.refs={},su(r),S=l.contextType,v.context=typeof S=="object"&&S!==null?_t(S):or,v.state=r.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(xu(r,l,S,d),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Mu.enqueueReplaceState(v,v.state,null),ci(r,d,v,h),ui(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(t===null){v=r.stateNode;var _=r.memoizedProps,A=Ra(l,_);v.props=A;var D=v.context,F=l.contextType;S=or,typeof F=="object"&&F!==null&&(S=_t(F));var Z=l.getDerivedStateFromProps;F=typeof Z=="function"||typeof v.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_||D!==S)&&Ph(r,v,d,S),Gn=!1;var B=r.memoizedState;v.state=B,ci(r,d,v,h),ui(),D=r.memoizedState,_||B!==D||Gn?(typeof Z=="function"&&(xu(r,l,Z,d),D=r.memoizedState),(A=Gn||zh(r,l,A,d,B,D,S))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=D),v.props=d,v.state=D,v.context=S,d=A):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{v=r.stateNode,lu(t,r),S=r.memoizedProps,F=Ra(l,S),v.props=F,Z=r.pendingProps,B=v.context,D=l.contextType,A=or,typeof D=="object"&&D!==null&&(A=_t(D)),_=l.getDerivedStateFromProps,(D=typeof _=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Z||B!==A)&&Ph(r,v,d,A),Gn=!1,B=r.memoizedState,v.state=B,ci(r,d,v,h),ui();var j=r.memoizedState;S!==Z||B!==j||Gn||t!==null&&t.dependencies!==null&&Vs(t.dependencies)?(typeof _=="function"&&(xu(r,l,_,d),j=r.memoizedState),(F=Gn||zh(r,l,F,d,B,j,A)||t!==null&&t.dependencies!==null&&Vs(t.dependencies))?(D||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,j,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,j,A)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=j),v.props=d,v.state=j,v.context=A,d=F):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),d=!1)}return v=d,cl(t,r),d=(r.flags&128)!==0,v||d?(v=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,t!==null&&d?(r.child=yr(r,t.child,null,h),r.child=yr(r,null,l,h)):vt(t,r,l,h),r.memoizedState=v.state,t=r.child):t=En(t,r,h),t}function tp(t,r,l,d){return ti(),r.flags|=256,vt(t,r,l,d),r.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nu(t){return{baseLanes:t,cachePool:qf()}}function Iu(t,r,l){return t=t!==null?t.childLanes&~l:0,r&&(t|=$t),t}function np(t,r,l){var d=r.pendingProps,h=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(lt.current&2)!==0),S&&(h=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(h?Xn(r):Zn(),ze){var _=$e,A;if(A=_){e:{for(A=_,_=rn;A.nodeType!==8;){if(!_){_=null;break e}if(A=nn(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(r.memoizedState={dehydrated:_,treeContext:Ea!==null?{id:vn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},A=jt(18,null,null,0),A.stateNode=_,A.return=r,r.child=A,kt=r,$e=null,A=!0):A=!1}A||wa(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return gc(_)?r.lanes=32:r.lanes=536870912,null;_n(r)}return _=d.children,d=d.fallback,h?(Zn(),h=r.mode,_=dl({mode:"hidden",children:_},h),d=_a(d,h,l,null),_.return=r,d.return=r,_.sibling=d,r.child=_,h=r.child,h.memoizedState=Nu(l),h.childLanes=Iu(t,S,l),r.memoizedState=Lu,d):(Xn(r),Du(r,_))}if(A=t.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(v)r.flags&256?(Xn(r),r.flags&=-257,r=Bu(t,r,l)):r.memoizedState!==null?(Zn(),r.child=t.child,r.flags|=128,r=null):(Zn(),h=d.fallback,_=r.mode,d=dl({mode:"visible",children:d.children},_),h=_a(h,_,l,null),h.flags|=2,d.return=r,h.return=r,d.sibling=h,r.child=d,yr(r,t.child,null,l),d=r.child,d.memoizedState=Nu(l),d.childLanes=Iu(t,S,l),r.memoizedState=Lu,r=h);else if(Xn(r),gc(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var D=S.dgst;S=D,d=Error(e(419)),d.stack="",d.digest=S,ni({value:d,source:null,stack:null}),r=Bu(t,r,l)}else if(ft||ai(t,r,l,!1),S=(l&t.childLanes)!==0,ft||S){if(S=Ze,S!==null&&(d=l&-l,d=(d&42)!==0?1:yo(d),d=(d&(S.suspendedLanes|l))!==0?0:d,d!==0&&d!==A.retryLane))throw A.retryLane=d,lr(t,d),Ft(S,t,d),Yh;_.data==="$?"||ec(),r=Bu(t,r,l)}else _.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=A.treeContext,$e=nn(_.nextSibling),kt=r,ze=!0,Ta=null,rn=!1,t!==null&&(Zt[Jt++]=vn,Zt[Jt++]=gn,Zt[Jt++]=Ea,vn=t.id,gn=t.overflow,Ea=r),r=Du(r,d.children),r.flags|=4096);return r}return h?(Zn(),h=d.fallback,_=r.mode,A=t.child,D=A.sibling,d=mn(A,{mode:"hidden",children:d.children}),d.subtreeFlags=A.subtreeFlags&65011712,D!==null?h=mn(D,h):(h=_a(h,_,l,null),h.flags|=2),h.return=r,d.return=r,d.sibling=h,r.child=d,d=h,h=r.child,_=t.child.memoizedState,_===null?_=Nu(l):(A=_.cachePool,A!==null?(D=st._currentValue,A=A.parent!==D?{parent:D,pool:D}:A):A=qf(),_={baseLanes:_.baseLanes|l,cachePool:A}),h.memoizedState=_,h.childLanes=Iu(t,S,l),r.memoizedState=Lu,d):(Xn(r),l=t.child,t=l.sibling,l=mn(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,t!==null&&(S=r.deletions,S===null?(r.deletions=[t],r.flags|=16):S.push(t)),r.child=l,r.memoizedState=null,l)}function Du(t,r){return r=dl({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function dl(t,r){return t=jt(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bu(t,r,l){return yr(r,t.child,null,l),t=Du(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ap(t,r,l){t.lanes|=r;var d=t.alternate;d!==null&&(d.lanes|=r),eu(t.return,r,l)}function Uu(t,r,l,d,h){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:h}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=h)}function rp(t,r,l){var d=r.pendingProps,h=d.revealOrder,v=d.tail;if(vt(t,r,d.children,l),d=lt.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,l,r);else if(t.tag===19)ap(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}switch(te(lt,d),h){case"forwards":for(l=r.child,h=null;l!==null;)t=l.alternate,t!==null&&ll(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=r.child,r.child=null):(h=l.sibling,l.sibling=null),Uu(r,!1,h,l,v);break;case"backwards":for(l=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ll(t)===null){r.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}Uu(r,!0,l,null,v);break;case"together":Uu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function En(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),ea|=r.lanes,(l&r.childLanes)===0)if(t!==null){if(ai(t,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(e(153));if(r.child!==null){for(t=r.child,l=mn(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=mn(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function ju(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Vs(t)))}function j0(t,r,l){switch(r.tag){case 3:Ke(r,r.stateNode.containerInfo),Fn(r,st,t.memoizedState.cache),ti();break;case 27:case 5:Un(r);break;case 4:Ke(r,r.stateNode.containerInfo);break;case 10:Fn(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Xn(r),r.flags|=128,null):(l&r.child.childLanes)!==0?np(t,r,l):(Xn(r),t=En(t,r,l),t!==null?t.sibling:null);Xn(r);break;case 19:var h=(t.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(ai(t,r,l,!1),d=(l&r.childLanes)!==0),h){if(d)return rp(t,r,l);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(lt,lt.current),d)break;return null;case 22:case 23:return r.lanes=0,Qh(t,r,l);case 24:Fn(r,st,t.memoizedState.cache)}return En(t,r,l)}function ip(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps)ft=!0;else{if(!ju(t,l)&&(r.flags&128)===0)return ft=!1,j0(t,r,l);ft=(t.flags&131072)!==0}else ft=!1,ze&&(r.flags&1048576)!==0&&Df(r,Gs,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var d=r.elementType,h=d._init;if(d=h(d._payload),r.type=d,typeof d=="function")Yo(d)?(t=Ra(d,t),r.tag=1,r=ep(null,r,d,t,l)):(r.tag=0,r=Ou(null,r,d,t,l));else{if(d!=null){if(h=d.$$typeof,h===ne){r.tag=11,r=Xh(null,r,d,t,l);break e}else if(h===le){r.tag=14,r=Zh(null,r,d,t,l);break e}}throw r=$(d)||d,Error(e(306,r,""))}}return r;case 0:return Ou(t,r,r.type,r.pendingProps,l);case 1:return d=r.type,h=Ra(d,r.pendingProps),ep(t,r,d,h,l);case 3:e:{if(Ke(r,r.stateNode.containerInfo),t===null)throw Error(e(387));d=r.pendingProps;var v=r.memoizedState;h=v.element,lu(t,r),ci(r,d,null,l);var S=r.memoizedState;if(d=S.cache,Fn(r,st,d),d!==v.cache&&tu(r,[st],l,!0),ui(),d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=tp(t,r,d,l);break e}else if(d!==h){h=Yt(Error(e(424)),r),ni(h),r=tp(t,r,d,l);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=nn(t.firstChild),kt=r,ze=!0,Ta=null,rn=!0,l=Uh(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ti(),d===h){r=En(t,r,l);break e}vt(t,r,d,l)}r=r.child}return r;case 26:return cl(t,r),t===null?(l=um(r.type,null,r.pendingProps,null))?r.memoizedState=l:ze||(l=r.type,t=r.pendingProps,d=wl(Ee.current).createElement(l),d[St]=r,d[At]=t,yt(d,l,t),dt(d),r.stateNode=d):r.memoizedState=um(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Un(r),t===null&&ze&&(d=r.stateNode=sm(r.type,r.pendingProps,Ee.current),kt=r,rn=!0,h=$e,ra(r.type)?(yc=h,$e=nn(d.firstChild)):$e=h),vt(t,r,r.pendingProps.children,l),cl(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((h=d=$e)&&(d=fb(d,r.type,r.pendingProps,rn),d!==null?(r.stateNode=d,kt=r,$e=nn(d.firstChild),rn=!1,h=!0):h=!1),h||wa(r)),Un(r),h=r.type,v=r.pendingProps,S=t!==null?t.memoizedProps:null,d=v.children,pc(h,v)?d=null:S!==null&&pc(h,S)&&(r.flags|=32),r.memoizedState!==null&&(h=hu(t,r,R0,null,null,l),Li._currentValue=h),cl(t,r),vt(t,r,d,l),r.child;case 6:return t===null&&ze&&((t=l=$e)&&(l=hb(l,r.pendingProps,rn),l!==null?(r.stateNode=l,kt=r,$e=null,t=!0):t=!1),t||wa(r)),null;case 13:return np(t,r,l);case 4:return Ke(r,r.stateNode.containerInfo),d=r.pendingProps,t===null?r.child=yr(r,null,d,l):vt(t,r,d,l),r.child;case 11:return Xh(t,r,r.type,r.pendingProps,l);case 7:return vt(t,r,r.pendingProps,l),r.child;case 8:return vt(t,r,r.pendingProps.children,l),r.child;case 12:return vt(t,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Fn(r,r.type,d.value),vt(t,r,d.children,l),r.child;case 9:return h=r.type._context,d=r.pendingProps.children,Ca(r),h=_t(h),d=d(h),r.flags|=1,vt(t,r,d,l),r.child;case 14:return Zh(t,r,r.type,r.pendingProps,l);case 15:return Jh(t,r,r.type,r.pendingProps,l);case 19:return rp(t,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},t===null?(l=dl(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=mn(t.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Qh(t,r,l);case 24:return Ca(r),d=_t(st),t===null?(h=ru(),h===null&&(h=Ze,v=nu(),h.pooledCache=v,v.refCount++,v!==null&&(h.pooledCacheLanes|=l),h=v),r.memoizedState={parent:d,cache:h},su(r),Fn(r,st,h)):((t.lanes&l)!==0&&(lu(t,r),ci(r,null,null,l),ui()),h=t.memoizedState,v=r.memoizedState,h.parent!==d?(h={parent:d,cache:d},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Fn(r,st,d)):(d=v.cache,Fn(r,st,d),d!==h.cache&&tu(r,[st],l,!0))),vt(t,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(e(156,r.tag))}function kn(t){t.flags|=4}function sp(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pm(r)){if(r=Qt.current,r!==null&&((De&4194048)===De?sn!==null:(De&62914560)!==De&&(De&536870912)===0||r!==sn))throw li=iu,Ff;t.flags|=8192}}function fl(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ud():536870912,t.lanes|=r,Er|=r)}function gi(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function Qe(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,d=0;if(r)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags&65011712,d|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=d,t.childLanes=l,r}function z0(t,r,l){var d=r.pendingProps;switch(Qo(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(r),null;case 1:return Qe(r),null;case 3:return l=r.stateNode,d=null,t!==null&&(d=t.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),bn(st),It(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ei(r)?kn(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jf())),Qe(r),null;case 26:return l=r.memoizedState,t===null?(kn(r),l!==null?(Qe(r),sp(r,l)):(Qe(r),r.flags&=-16777217)):l?l!==t.memoizedState?(kn(r),Qe(r),sp(r,l)):(Qe(r),r.flags&=-16777217):(t.memoizedProps!==d&&kn(r),Qe(r),r.flags&=-16777217),null;case 27:jn(r),l=Ee.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==d&&kn(r);else{if(!d){if(r.stateNode===null)throw Error(e(166));return Qe(r),null}t=ie.current,ei(r)?Bf(r):(t=sm(h,d,l),r.stateNode=t,kn(r))}return Qe(r),null;case 5:if(jn(r),l=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==d&&kn(r);else{if(!d){if(r.stateNode===null)throw Error(e(166));return Qe(r),null}if(t=ie.current,ei(r))Bf(r);else{switch(h=wl(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof d.is=="string"?h.createElement("select",{is:d.is}):h.createElement("select"),d.multiple?t.multiple=!0:d.size&&(t.size=d.size);break;default:t=typeof d.is=="string"?h.createElement(l,{is:d.is}):h.createElement(l)}}t[St]=r,t[At]=d;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(yt(t,l,d),l){case"button":case"input":case"select":case"textarea":t=!!d.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&kn(r)}}return Qe(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==d&&kn(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(e(166));if(t=Ee.current,ei(r)){if(t=r.stateNode,l=r.memoizedProps,d=null,h=kt,h!==null)switch(h.tag){case 27:case 5:d=h.memoizedProps}t[St]=r,t=!!(t.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Wp(t.nodeValue,l)),t||wa(r)}else t=wl(t).createTextNode(d),t[St]=r,r.stateNode=t}return Qe(r),null;case 13:if(d=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ei(r),d!==null&&d.dehydrated!==null){if(t===null){if(!h)throw Error(e(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(e(317));h[St]=r}else ti(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Qe(r),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(_n(r),r):(_n(r),null)}if(_n(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,t=t!==null&&t.memoizedState!==null,l){d=r.child,h=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(h=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==h&&(d.flags|=2048)}return l!==t&&l&&(r.child.flags|=8192),fl(r,r.updateQueue),Qe(r),null;case 4:return It(),t===null&&uc(r.stateNode.containerInfo),Qe(r),null;case 10:return bn(r.type),Qe(r),null;case 19:if(ae(lt),h=r.memoizedState,h===null)return Qe(r),null;if(d=(r.flags&128)!==0,v=h.rendering,v===null)if(d)gi(h,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=ll(t),v!==null){for(r.flags|=128,gi(h,!1),t=v.updateQueue,r.updateQueue=t,fl(r,t),r.subtreeFlags=0,t=l,l=r.child;l!==null;)If(l,t),l=l.sibling;return te(lt,lt.current&1|2),r.child}t=t.sibling}h.tail!==null&&an()>ml&&(r.flags|=128,d=!0,gi(h,!1),r.lanes=4194304)}else{if(!d)if(t=ll(v),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,fl(r,t),gi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!ze)return Qe(r),null}else 2*an()-h.renderingStartTime>ml&&l!==536870912&&(r.flags|=128,d=!0,gi(h,!1),r.lanes=4194304);h.isBackwards?(v.sibling=r.child,r.child=v):(t=h.last,t!==null?t.sibling=v:r.child=v,h.last=v)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=an(),r.sibling=null,t=lt.current,te(lt,d?t&1|2:t&1),r):(Qe(r),null);case 22:case 23:return _n(r),du(),d=r.memoizedState!==null,t!==null?t.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Qe(r),r.subtreeFlags&6&&(r.flags|=8192)):Qe(r),l=r.updateQueue,l!==null&&fl(r,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),t!==null&&ae(xa),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),bn(st),Qe(r),null;case 25:return null;case 30:return null}throw Error(e(156,r.tag))}function P0(t,r){switch(Qo(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return bn(st),It(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return jn(r),null;case 13:if(_n(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(e(340));ti()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ae(lt),null;case 4:return It(),null;case 10:return bn(r.type),null;case 22:case 23:return _n(r),du(),t!==null&&ae(xa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return bn(st),null;case 25:return null;default:return null}}function lp(t,r){switch(Qo(r),r.tag){case 3:bn(st),It();break;case 26:case 27:case 5:jn(r);break;case 4:It();break;case 13:_n(r);break;case 19:ae(lt);break;case 10:bn(r.type);break;case 22:case 23:_n(r),du(),t!==null&&ae(xa);break;case 24:bn(st)}}function yi(t,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&t)===t){d=void 0;var v=l.create,S=l.inst;d=v(),S.destroy=d}l=l.next}while(l!==h)}}catch(_){Ye(r,r.return,_)}}function Jn(t,r,l){try{var d=r.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var v=h.next;d=v;do{if((d.tag&t)===t){var S=d.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,h=r;var A=l,D=_;try{D()}catch(F){Ye(h,A,F)}}}d=d.next}while(d!==v)}}catch(F){Ye(r,r.return,F)}}function op(t){var r=t.updateQueue;if(r!==null){var l=t.stateNode;try{Zf(r,l)}catch(d){Ye(t,t.return,d)}}}function up(t,r,l){l.props=Ra(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(d){Ye(t,r,d)}}function bi(t,r){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var d=t.stateNode;break;case 30:d=t.stateNode;break;default:d=t.stateNode}typeof l=="function"?t.refCleanup=l(d):l.current=d}}catch(h){Ye(t,r,h)}}function ln(t,r){var l=t.ref,d=t.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(h){Ye(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ye(t,r,h)}else l.current=null}function cp(t){var r=t.type,l=t.memoizedProps,d=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(h){Ye(t,t.return,h)}}function zu(t,r,l){try{var d=t.stateNode;lb(d,t.type,l,r),d[At]=r}catch(h){Ye(t,t.return,h)}}function dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function Pu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hu(t,r,l){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(t),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Tl));else if(d!==4&&(d===27&&ra(t.type)&&(l=t.stateNode,r=null),t=t.child,t!==null))for(Hu(t,r,l),t=t.sibling;t!==null;)Hu(t,r,l),t=t.sibling}function hl(t,r,l){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(d!==4&&(d===27&&ra(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(hl(t,r,l),t=t.sibling;t!==null;)hl(t,r,l),t=t.sibling}function fp(t){var r=t.stateNode,l=t.memoizedProps;try{for(var d=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);yt(r,d,l),r[St]=t,r[At]=l}catch(v){Ye(t,t.return,v)}}var Tn=!1,nt=!1,qu=!1,hp=typeof WeakSet=="function"?WeakSet:Set,ht=null;function H0(t,r){if(t=t.containerInfo,fc=Ol,t=Tf(t),Po(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var h=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,_=-1,A=-1,D=0,F=0,Z=t,B=null;t:for(;;){for(var j;Z!==l||h!==0&&Z.nodeType!==3||(_=S+h),Z!==v||d!==0&&Z.nodeType!==3||(A=S+d),Z.nodeType===3&&(S+=Z.nodeValue.length),(j=Z.firstChild)!==null;)B=Z,Z=j;for(;;){if(Z===t)break t;if(B===l&&++D===h&&(_=S),B===v&&++F===d&&(A=S),(j=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=j}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(hc={focusedElem:t,selectionRange:l},Ol=!1,ht=r;ht!==null;)if(r=ht,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,ht=t;else for(;ht!==null;){switch(r=ht,v=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,l=r,h=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var Se=Ra(l.type,h,l.elementType===l.type);t=d.getSnapshotBeforeUpdate(Se,v),d.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(l,l.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,l=t.nodeType,l===9)vc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(e(163))}if(t=r.sibling,t!==null){t.return=r.return,ht=t;break}ht=r.return}}function pp(t,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Qn(t,l),d&4&&yi(5,l);break;case 1:if(Qn(t,l),d&4)if(t=l.stateNode,r===null)try{t.componentDidMount()}catch(S){Ye(l,l.return,S)}else{var h=Ra(l.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ye(l,l.return,S)}}d&64&&op(l),d&512&&bi(l,l.return);break;case 3:if(Qn(t,l),d&64&&(t=l.updateQueue,t!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Zf(t,r)}catch(S){Ye(l,l.return,S)}}break;case 27:r===null&&d&4&&fp(l);case 26:case 5:Qn(t,l),r===null&&d&4&&cp(l),d&512&&bi(l,l.return);break;case 12:Qn(t,l);break;case 13:Qn(t,l),d&4&&gp(t,l),d&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=J0.bind(null,l),pb(t,l))));break;case 22:if(d=l.memoizedState!==null||Tn,!d){r=r!==null&&r.memoizedState!==null||nt,h=Tn;var v=nt;Tn=d,(nt=r)&&!v?$n(t,l,(l.subtreeFlags&8772)!==0):Qn(t,l),Tn=h,nt=v}break;case 30:break;default:Qn(t,l)}}function mp(t){var r=t.alternate;r!==null&&(t.alternate=null,mp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&_o(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,Mt=!1;function wn(t,r,l){for(l=l.child;l!==null;)vp(t,r,l),l=l.sibling}function vp(t,r,l){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Pr,l)}catch{}switch(l.tag){case 26:nt||ln(l,r),wn(t,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||ln(l,r);var d=Je,h=Mt;ra(l.type)&&(Je=l.stateNode,Mt=!1),wn(t,r,l),xi(l.stateNode),Je=d,Mt=h;break;case 5:nt||ln(l,r);case 6:if(d=Je,h=Mt,Je=null,wn(t,r,l),Je=d,Mt=h,Je!==null)if(Mt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(v){Ye(l,r,v)}else try{Je.removeChild(l.stateNode)}catch(v){Ye(l,r,v)}break;case 18:Je!==null&&(Mt?(t=Je,rm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Bi(t)):rm(Je,l.stateNode));break;case 4:d=Je,h=Mt,Je=l.stateNode.containerInfo,Mt=!0,wn(t,r,l),Je=d,Mt=h;break;case 0:case 11:case 14:case 15:nt||Jn(2,l,r),nt||Jn(4,l,r),wn(t,r,l);break;case 1:nt||(ln(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&up(l,r,d)),wn(t,r,l);break;case 21:wn(t,r,l);break;case 22:nt=(d=nt)||l.memoizedState!==null,wn(t,r,l),nt=d;break;default:wn(t,r,l)}}function gp(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bi(t)}catch(l){Ye(r,r.return,l)}}function q0(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new hp),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new hp),r;default:throw Error(e(435,t.tag))}}function Fu(t,r){var l=q0(t);r.forEach(function(d){var h=Q0.bind(null,t,d);l.has(d)||(l.add(d),d.then(h,h))})}function zt(t,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var h=l[d],v=t,S=r,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(ra(_.type)){Je=_.stateNode,Mt=!1;break e}break;case 5:Je=_.stateNode,Mt=!1;break e;case 3:case 4:Je=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if(Je===null)throw Error(e(160));vp(v,S,h),Je=null,Mt=!1,v=h.alternate,v!==null&&(v.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)yp(r,t),r=r.sibling}var tn=null;function yp(t,r){var l=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zt(r,t),Pt(t),d&4&&(Jn(3,t,t.return),yi(3,t),Jn(5,t,t.return));break;case 1:zt(r,t),Pt(t),d&512&&(nt||l===null||ln(l,l.return)),d&64&&Tn&&(t=t.updateQueue,t!==null&&(d=t.callbacks,d!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var h=tn;if(zt(r,t),Pt(t),d&512&&(nt||l===null||ln(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=t.memoizedState,l===null)if(d===null)if(t.stateNode===null){e:{d=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(d){case"title":v=h.getElementsByTagName("title")[0],(!v||v[Fr]||v[St]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=h.createElement(d),h.head.insertBefore(v,h.querySelector("head > title"))),yt(v,d,l),v[St]=t,dt(v),d=v;break e;case"link":var S=fm("link","href",h).get(d+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(v=S[_],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}v=h.createElement(d),yt(v,d,l),h.head.appendChild(v);break;case"meta":if(S=fm("meta","content",h).get(d+(l.content||""))){for(_=0;_<S.length;_++)if(v=S[_],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}v=h.createElement(d),yt(v,d,l),h.head.appendChild(v);break;default:throw Error(e(468,d))}v[St]=t,dt(v),d=v}t.stateNode=d}else hm(h,t.type,t.stateNode);else t.stateNode=dm(h,d,t.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?hm(h,t.type,t.stateNode):dm(h,d,t.memoizedProps)):d===null&&t.stateNode!==null&&zu(t,t.memoizedProps,l.memoizedProps)}break;case 27:zt(r,t),Pt(t),d&512&&(nt||l===null||ln(l,l.return)),l!==null&&d&4&&zu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(zt(r,t),Pt(t),d&512&&(nt||l===null||ln(l,l.return)),t.flags&32){h=t.stateNode;try{er(h,"")}catch(j){Ye(t,t.return,j)}}d&4&&t.stateNode!=null&&(h=t.memoizedProps,zu(t,h,l!==null?l.memoizedProps:h)),d&1024&&(qu=!0);break;case 6:if(zt(r,t),Pt(t),d&4){if(t.stateNode===null)throw Error(e(162));d=t.memoizedProps,l=t.stateNode;try{l.nodeValue=d}catch(j){Ye(t,t.return,j)}}break;case 3:if(xl=null,h=tn,tn=Al(r.containerInfo),zt(r,t),tn=h,Pt(t),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Bi(r.containerInfo)}catch(j){Ye(t,t.return,j)}qu&&(qu=!1,bp(t));break;case 4:d=tn,tn=Al(t.stateNode.containerInfo),zt(r,t),Pt(t),tn=d;break;case 12:zt(r,t),Pt(t);break;case 13:zt(r,t),Pt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zu=an()),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,Fu(t,d)));break;case 22:h=t.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=Tn,F=nt;if(Tn=D||h,nt=F||A,zt(r,t),nt=F,Tn=D,Pt(t),d&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(l===null||A||Tn||nt||Oa(t)),l=null,r=t;;){if(r.tag===5||r.tag===26){if(l===null){A=l=r;try{if(v=A.stateNode,h)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var Z=A.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;_.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){Ye(A,A.return,j)}}}else if(r.tag===6){if(l===null){A=r;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(j){Ye(A,A.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=t.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Fu(t,l))));break;case 19:zt(r,t),Pt(t),d&4&&(d=t.updateQueue,d!==null&&(t.updateQueue=null,Fu(t,d)));break;case 30:break;case 21:break;default:zt(r,t),Pt(t)}}function Pt(t){var r=t.flags;if(r&2){try{for(var l,d=t.return;d!==null;){if(dp(d)){l=d;break}d=d.return}if(l==null)throw Error(e(160));switch(l.tag){case 27:var h=l.stateNode,v=Pu(t);hl(t,v,h);break;case 5:var S=l.stateNode;l.flags&32&&(er(S,""),l.flags&=-33);var _=Pu(t);hl(t,_,S);break;case 3:case 4:var A=l.stateNode.containerInfo,D=Pu(t);Hu(t,D,A);break;default:throw Error(e(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function bp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;bp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qn(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pp(t,r.alternate,r),r=r.sibling}function Oa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Jn(4,r,r.return),Oa(r);break;case 1:ln(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&up(r,r.return,l),Oa(r);break;case 27:xi(r.stateNode);case 26:case 5:ln(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}t=t.sibling}}function $n(t,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,h=t,v=r,S=v.flags;switch(v.tag){case 0:case 11:case 15:$n(h,v,l),yi(4,v);break;case 1:if($n(h,v,l),d=v,h=d.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){Ye(d,d.return,D)}if(d=v,h=d.updateQueue,h!==null){var _=d.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Xf(A[h],_)}catch(D){Ye(d,d.return,D)}}l&&S&64&&op(v),bi(v,v.return);break;case 27:fp(v);case 26:case 5:$n(h,v,l),l&&d===null&&S&4&&cp(v),bi(v,v.return);break;case 12:$n(h,v,l);break;case 13:$n(h,v,l),l&&S&4&&gp(h,v);break;case 22:v.memoizedState===null&&$n(h,v,l),bi(v,v.return);break;case 30:break;default:$n(h,v,l)}r=r.sibling}}function Gu(t,r){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&ri(l))}function Vu(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ri(t))}function on(t,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sp(t,r,l,d),r=r.sibling}function Sp(t,r,l,d){var h=r.flags;switch(r.tag){case 0:case 11:case 15:on(t,r,l,d),h&2048&&yi(9,r);break;case 1:on(t,r,l,d);break;case 3:on(t,r,l,d),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ri(t)));break;case 12:if(h&2048){on(t,r,l,d),t=r.stateNode;try{var v=r.memoizedProps,S=v.id,_=v.onPostCommit;typeof _=="function"&&_(S,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ye(r,r.return,A)}}else on(t,r,l,d);break;case 13:on(t,r,l,d);break;case 23:break;case 22:v=r.stateNode,S=r.alternate,r.memoizedState!==null?v._visibility&2?on(t,r,l,d):Si(t,r):v._visibility&2?on(t,r,l,d):(v._visibility|=2,br(t,r,l,d,(r.subtreeFlags&10256)!==0)),h&2048&&Gu(S,r);break;case 24:on(t,r,l,d),h&2048&&Vu(r.alternate,r);break;default:on(t,r,l,d)}}function br(t,r,l,d,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=t,S=r,_=l,A=d,D=S.flags;switch(S.tag){case 0:case 11:case 15:br(v,S,_,A,h),yi(8,S);break;case 23:break;case 22:var F=S.stateNode;S.memoizedState!==null?F._visibility&2?br(v,S,_,A,h):Si(v,S):(F._visibility|=2,br(v,S,_,A,h)),h&&D&2048&&Gu(S.alternate,S);break;case 24:br(v,S,_,A,h),h&&D&2048&&Vu(S.alternate,S);break;default:br(v,S,_,A,h)}r=r.sibling}}function Si(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=t,d=r,h=d.flags;switch(d.tag){case 22:Si(l,d),h&2048&&Gu(d.alternate,d);break;case 24:Si(l,d),h&2048&&Vu(d.alternate,d);break;default:Si(l,d)}r=r.sibling}}var _i=8192;function Sr(t){if(t.subtreeFlags&_i)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 26:Sr(t),t.flags&_i&&t.memoizedState!==null&&Cb(tn,t.memoizedState,t.memoizedProps);break;case 5:Sr(t);break;case 3:case 4:var r=tn;tn=Al(t.stateNode.containerInfo),Sr(t),tn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=_i,_i=16777216,Sr(t),_i=r):Sr(t));break;default:Sr(t)}}function Ep(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ei(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];ht=d,Tp(d,t)}Ep(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:Ei(t),t.flags&2048&&Jn(9,t,t.return);break;case 3:Ei(t);break;case 12:Ei(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,pl(t)):Ei(t);break;default:Ei(t)}}function pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];ht=d,Tp(d,t)}Ep(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Jn(8,r,r.return),pl(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,pl(r));break;default:pl(r)}t=t.sibling}}function Tp(t,r){for(;ht!==null;){var l=ht;switch(l.tag){case 0:case 11:case 15:Jn(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ri(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,ht=d;else e:for(l=t;ht!==null;){d=ht;var h=d.sibling,v=d.return;if(mp(d),d===l){ht=null;break e}if(h!==null){h.return=v,ht=h;break e}ht=v}}}var F0={getCacheForType:function(t){var r=_t(st),l=r.data.get(t);return l===void 0&&(l=t(),r.data.set(t,l)),l}},G0=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ze=null,Ne=null,De=0,He=0,Ht=null,Wn=!1,_r=!1,Ku=!1,An=0,We=0,ea=0,La=0,Yu=0,$t=0,Er=0,ki=null,Rt=null,Xu=!1,Zu=0,ml=1/0,vl=null,ta=null,gt=0,na=null,kr=null,Tr=0,Ju=0,Qu=null,wp=null,Ti=0,$u=null;function qt(){if((Pe&2)!==0&&De!==0)return De&-De;if(U.T!==null){var t=dr;return t!==0?t:ic()}return Pd()}function Ap(){$t===0&&($t=(De&536870912)===0||ze?Bd():536870912);var t=Qt.current;return t!==null&&(t.flags|=32),$t}function Ft(t,r,l){(t===Ze&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(wr(t,0),aa(t,De,$t,!1)),qr(t,l),((Pe&2)===0||t!==Ze)&&(t===Ze&&((Pe&2)===0&&(La|=l),We===4&&aa(t,De,$t,!1)),un(t))}function Cp(t,r,l){if((Pe&6)!==0)throw Error(e(327));var d=!l&&(r&124)===0&&(r&t.expiredLanes)===0||Hr(t,r),h=d?Y0(t,r):tc(t,r,!0),v=d;do{if(h===0){_r&&!d&&aa(t,r,0,!1);break}else{if(l=t.current.alternate,v&&!V0(l)){h=tc(t,r,!1),v=!1;continue}if(h===2){if(v=r,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var _=t;h=ki;var A=_.current.memoizedState.isDehydrated;if(A&&(wr(_,S).flags|=256),S=tc(_,S,!1),S!==2){if(Ku&&!A){_.errorRecoveryDisabledLanes|=v,La|=v,h=4;break e}v=Rt,Rt=h,v!==null&&(Rt===null?Rt=v:Rt.push.apply(Rt,v))}h=S}if(v=!1,h!==2)continue}}if(h===1){wr(t,0),aa(t,r,0,!0);break}e:{switch(d=t,v=h,v){case 0:case 1:throw Error(e(345));case 4:if((r&4194048)!==r)break;case 6:aa(d,r,$t,!Wn);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(e(329))}if((r&62914560)===r&&(h=Zu+300-an(),10<h)){if(aa(d,r,$t,!Wn),Cs(d,0,!0)!==0)break e;d.timeoutHandle=nm(xp.bind(null,d,l,Rt,vl,Xu,r,$t,La,Er,Wn,v,2,-0,0),h);break e}xp(d,l,Rt,vl,Xu,r,$t,La,Er,Wn,v,0,-0,0)}}break}while(!0);un(t)}function xp(t,r,l,d,h,v,S,_,A,D,F,Z,B,j){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Oi={stylesheets:null,count:0,unsuspend:Ab},_p(r),Z=xb(),Z!==null)){t.cancelPendingCommit=Z(Dp.bind(null,t,r,v,l,d,h,S,_,A,F,1,B,j)),aa(t,v,S,!D);return}Dp(t,r,v,l,d,h,S,_,A)}function V0(t){for(var r=t;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var h=l[d],v=h.getSnapshot;h=h.value;try{if(!Ut(v(),h))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function aa(t,r,l,d){r&=~Yu,r&=~La,t.suspendedLanes|=r,t.pingedLanes&=~r,d&&(t.warmLanes|=r),d=t.expirationTimes;for(var h=r;0<h;){var v=31-Bt(h),S=1<<v;d[v]=-1,h&=~S}l!==0&&jd(t,l,r)}function gl(){return(Pe&6)===0?(wi(0),!1):!0}function Wu(){if(Ne!==null){if(He===0)var t=Ne.return;else t=Ne,yn=Aa=null,vu(t),gr=null,mi=0,t=Ne;for(;t!==null;)lp(t.alternate,t),t=t.return;Ne=null}}function wr(t,r){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,ub(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Wu(),Ze=t,Ne=l=mn(t.current,null),De=r,He=0,Ht=null,Wn=!1,_r=Hr(t,r),Ku=!1,Er=$t=Yu=La=ea=We=0,Rt=ki=null,Xu=!1,(r&8)!==0&&(r|=r&32);var d=t.entangledLanes;if(d!==0)for(t=t.entanglements,d&=r;0<d;){var h=31-Bt(d),v=1<<h;r|=t[h],d&=~v}return An=r,zs(),l}function Mp(t,r){xe=null,U.H=rl,r===si||r===Xs?(r=Kf(),He=3):r===Ff?(r=Kf(),He=4):He=r===Yh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ht=r,Ne===null&&(We=1,ul(t,Yt(r,t.current)))}function Rp(){var t=U.H;return U.H=rl,t===null?rl:t}function Op(){var t=U.A;return U.A=F0,t}function ec(){We=4,Wn||(De&4194048)!==De&&Qt.current!==null||(_r=!0),(ea&134217727)===0&&(La&134217727)===0||Ze===null||aa(Ze,De,$t,!1)}function tc(t,r,l){var d=Pe;Pe|=2;var h=Rp(),v=Op();(Ze!==t||De!==r)&&(vl=null,wr(t,r)),r=!1;var S=We;e:do try{if(He!==0&&Ne!==null){var _=Ne,A=Ht;switch(He){case 8:Wu(),S=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(r=!0);var D=He;if(He=0,Ht=null,Ar(t,_,A,D),l&&_r){S=0;break e}break;default:D=He,He=0,Ht=null,Ar(t,_,A,D)}}K0(),S=We;break}catch(F){Mp(t,F)}while(!0);return r&&t.shellSuspendCounter++,yn=Aa=null,Pe=d,U.H=h,U.A=v,Ne===null&&(Ze=null,De=0,zs()),S}function K0(){for(;Ne!==null;)Lp(Ne)}function Y0(t,r){var l=Pe;Pe|=2;var d=Rp(),h=Op();Ze!==t||De!==r?(vl=null,ml=an()+500,wr(t,r)):_r=Hr(t,r);e:do try{if(He!==0&&Ne!==null){r=Ne;var v=Ht;t:switch(He){case 1:He=0,Ht=null,Ar(t,r,v,1);break;case 2:case 9:if(Gf(v)){He=0,Ht=null,Np(r);break}r=function(){He!==2&&He!==9||Ze!==t||(He=7),un(t)},v.then(r,r);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Gf(v)?(He=0,Ht=null,Np(r)):(He=0,Ht=null,Ar(t,r,v,7));break;case 5:var S=null;switch(Ne.tag){case 26:S=Ne.memoizedState;case 5:case 27:var _=Ne;if(!S||pm(S)){He=0,Ht=null;var A=_.sibling;if(A!==null)Ne=A;else{var D=_.return;D!==null?(Ne=D,yl(D)):Ne=null}break t}}He=0,Ht=null,Ar(t,r,v,5);break;case 6:He=0,Ht=null,Ar(t,r,v,6);break;case 8:Wu(),We=6;break e;default:throw Error(e(462))}}X0();break}catch(F){Mp(t,F)}while(!0);return yn=Aa=null,U.H=d,U.A=h,Pe=l,Ne!==null?0:(Ze=null,De=0,zs(),We)}function X0(){for(;Ne!==null&&!vy();)Lp(Ne)}function Lp(t){var r=ip(t.alternate,t,An);t.memoizedProps=t.pendingProps,r===null?yl(t):Ne=r}function Np(t){var r=t,l=r.alternate;switch(r.tag){case 15:case 0:r=Wh(l,r,r.pendingProps,r.type,void 0,De);break;case 11:r=Wh(l,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:vu(r);default:lp(l,r),r=Ne=If(r,An),r=ip(l,r,An)}t.memoizedProps=t.pendingProps,r===null?yl(t):Ne=r}function Ar(t,r,l,d){yn=Aa=null,vu(r),gr=null,mi=0;var h=r.return;try{if(U0(t,h,r,l,De)){We=1,ul(t,Yt(l,t.current)),Ne=null;return}}catch(v){if(h!==null)throw Ne=h,v;We=1,ul(t,Yt(l,t.current)),Ne=null;return}r.flags&32768?(ze||d===1?t=!0:_r||(De&536870912)!==0?t=!1:(Wn=t=!0,(d===2||d===9||d===3||d===6)&&(d=Qt.current,d!==null&&d.tag===13&&(d.flags|=16384))),Ip(r,t)):yl(r)}function yl(t){var r=t;do{if((r.flags&32768)!==0){Ip(r,Wn);return}t=r.return;var l=z0(r.alternate,r,An);if(l!==null){Ne=l;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);We===0&&(We=5)}function Ip(t,r){do{var l=P0(t.alternate,t);if(l!==null){l.flags&=32767,Ne=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=l}while(t!==null);We=6,Ne=null}function Dp(t,r,l,d,h,v,S,_,A){t.cancelPendingCommit=null;do bl();while(gt!==0);if((Pe&6)!==0)throw Error(e(327));if(r!==null){if(r===t.current)throw Error(e(177));if(v=r.lanes|r.childLanes,v|=Vo,Ay(t,l,v,S,_,A),t===Ze&&(Ne=Ze=null,De=0),kr=r,na=t,Tr=l,Ju=v,Qu=h,wp=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$0(Ts,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=U.T,U.T=null,h=ee.p,ee.p=2,S=Pe,Pe|=4;try{H0(t,r,l)}finally{Pe=S,ee.p=h,U.T=d}}gt=1,Bp(),Up(),jp()}}function Bp(){if(gt===1){gt=0;var t=na,r=kr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var d=ee.p;ee.p=2;var h=Pe;Pe|=4;try{yp(r,t);var v=hc,S=Tf(t.containerInfo),_=v.focusedElem,A=v.selectionRange;if(S!==_&&_&&_.ownerDocument&&kf(_.ownerDocument.documentElement,_)){if(A!==null&&Po(_)){var D=A.start,F=A.end;if(F===void 0&&(F=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(F,_.value.length);else{var Z=_.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var j=B.getSelection(),Se=_.textContent.length,ge=Math.min(A.start,Se),Ve=A.end===void 0?ge:Math.min(A.end,Se);!j.extend&&ge>Ve&&(S=Ve,Ve=ge,ge=S);var R=Ef(_,ge),x=Ef(_,Ve);if(R&&x&&(j.rangeCount!==1||j.anchorNode!==R.node||j.anchorOffset!==R.offset||j.focusNode!==x.node||j.focusOffset!==x.offset)){var L=Z.createRange();L.setStart(R.node,R.offset),j.removeAllRanges(),ge>Ve?(j.addRange(L),j.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),j.addRange(L))}}}}for(Z=[],j=_;j=j.parentNode;)j.nodeType===1&&Z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Z.length;_++){var V=Z[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Ol=!!fc,hc=fc=null}finally{Pe=h,ee.p=d,U.T=l}}t.current=r,gt=2}}function Up(){if(gt===2){gt=0;var t=na,r=kr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var d=ee.p;ee.p=2;var h=Pe;Pe|=4;try{pp(t,r.alternate,r)}finally{Pe=h,ee.p=d,U.T=l}}gt=3}}function jp(){if(gt===4||gt===3){gt=0,gy();var t=na,r=kr,l=Tr,d=wp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?gt=5:(gt=0,kr=na=null,zp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ta=null),bo(l),r=r.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Pr,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=U.T,h=ee.p,ee.p=2,U.T=null;try{for(var v=t.onRecoverableError,S=0;S<d.length;S++){var _=d[S];v(_.value,{componentStack:_.stack})}}finally{U.T=r,ee.p=h}}(Tr&3)!==0&&bl(),un(t),h=t.pendingLanes,(l&4194090)!==0&&(h&42)!==0?t===$u?Ti++:(Ti=0,$u=t):Ti=0,wi(0)}}function zp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ri(r)))}function bl(t){return Bp(),Up(),jp(),Pp()}function Pp(){if(gt!==5)return!1;var t=na,r=Ju;Ju=0;var l=bo(Tr),d=U.T,h=ee.p;try{ee.p=32>l?32:l,U.T=null,l=Qu,Qu=null;var v=na,S=Tr;if(gt=0,kr=na=null,Tr=0,(Pe&6)!==0)throw Error(e(331));var _=Pe;if(Pe|=4,kp(v.current),Sp(v,v.current,S,l),Pe=_,wi(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Pr,v)}catch{}return!0}finally{ee.p=h,U.T=d,zp(t,r)}}function Hp(t,r,l){r=Yt(l,r),r=Ru(t.stateNode,r,2),t=Kn(t,r,2),t!==null&&(qr(t,2),un(t))}function Ye(t,r,l){if(t.tag===3)Hp(t,t,l);else for(;r!==null;){if(r.tag===3){Hp(r,t,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ta===null||!ta.has(d))){t=Yt(l,t),l=Vh(2),d=Kn(r,l,2),d!==null&&(Kh(l,d,r,t),qr(d,2),un(d));break}}r=r.return}}function nc(t,r,l){var d=t.pingCache;if(d===null){d=t.pingCache=new G0;var h=new Set;d.set(r,h)}else h=d.get(r),h===void 0&&(h=new Set,d.set(r,h));h.has(l)||(Ku=!0,h.add(l),t=Z0.bind(null,t,r,l),r.then(t,t))}function Z0(t,r,l){var d=t.pingCache;d!==null&&d.delete(r),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ze===t&&(De&l)===l&&(We===4||We===3&&(De&62914560)===De&&300>an()-Zu?(Pe&2)===0&&wr(t,0):Yu|=l,Er===De&&(Er=0)),un(t)}function qp(t,r){r===0&&(r=Ud()),t=lr(t,r),t!==null&&(qr(t,r),un(t))}function J0(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),qp(t,l)}function Q0(t,r){var l=0;switch(t.tag){case 13:var d=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:d=t.stateNode;break;case 22:d=t.stateNode._retryCache;break;default:throw Error(e(314))}d!==null&&d.delete(r),qp(t,l)}function $0(t,r){return mo(t,r)}var Sl=null,Cr=null,ac=!1,_l=!1,rc=!1,Na=0;function un(t){t!==Cr&&t.next===null&&(Cr===null?Sl=Cr=t:Cr=Cr.next=t),_l=!0,ac||(ac=!0,eb())}function wi(t,r){if(!rc&&_l){rc=!0;do for(var l=!1,d=Sl;d!==null;){if(t!==0){var h=d.pendingLanes;if(h===0)var v=0;else{var S=d.suspendedLanes,_=d.pingedLanes;v=(1<<31-Bt(42|t)+1)-1,v&=h&~(S&~_),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Kp(d,v))}else v=De,v=Cs(d,d===Ze?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Hr(d,v)||(l=!0,Kp(d,v));d=d.next}while(l);rc=!1}}function W0(){Fp()}function Fp(){_l=ac=!1;var t=0;Na!==0&&(ob()&&(t=Na),Na=0);for(var r=an(),l=null,d=Sl;d!==null;){var h=d.next,v=Gp(d,r);v===0?(d.next=null,l===null?Sl=h:l.next=h,h===null&&(Cr=l)):(l=d,(t!==0||(v&3)!==0)&&(_l=!0)),d=h}wi(t)}function Gp(t,r){for(var l=t.suspendedLanes,d=t.pingedLanes,h=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-Bt(v),_=1<<S,A=h[S];A===-1?((_&l)===0||(_&d)!==0)&&(h[S]=wy(_,r)):A<=r&&(t.expiredLanes|=_),v&=~_}if(r=Ze,l=De,l=Cs(t,t===r?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),d=t.callbackNode,l===0||t===r&&(He===2||He===9)||t.cancelPendingCommit!==null)return d!==null&&d!==null&&vo(d),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Hr(t,l)){if(r=l&-l,r===t.callbackPriority)return r;switch(d!==null&&vo(d),bo(l)){case 2:case 8:l=Id;break;case 32:l=Ts;break;case 268435456:l=Dd;break;default:l=Ts}return d=Vp.bind(null,t),l=mo(l,d),t.callbackPriority=r,t.callbackNode=l,r}return d!==null&&d!==null&&vo(d),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,r){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(bl()&&t.callbackNode!==l)return null;var d=De;return d=Cs(t,t===Ze?d:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),d===0?null:(Cp(t,d,r),Gp(t,an()),t.callbackNode!=null&&t.callbackNode===l?Vp.bind(null,t):null)}function Kp(t,r){if(bl())return null;Cp(t,r,!0)}function eb(){cb(function(){(Pe&6)!==0?mo(Nd,W0):Fp()})}function ic(){return Na===0&&(Na=Bd()),Na}function Yp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ls(""+t)}function Xp(t,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,t.id&&l.setAttribute("form",t.id),r.parentNode.insertBefore(l,r),t=new FormData(t),l.parentNode.removeChild(l),t}function tb(t,r,l,d,h){if(r==="submit"&&l&&l.stateNode===h){var v=Yp((h[At]||null).action),S=d.submitter;S&&(r=(r=S[At]||null)?Yp(r.formAction):S.getAttribute("formAction"),r!==null&&(v=r,S=null));var _=new Bs("action","action",null,d,h);t.push({event:_,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Na!==0){var A=S?Xp(h,S):new FormData(h);wu(l,{pending:!0,data:A,method:h.method,action:v},null,A)}}else typeof v=="function"&&(_.preventDefault(),A=S?Xp(h,S):new FormData(h),wu(l,{pending:!0,data:A,method:h.method,action:v},v,A))},currentTarget:h}]})}}for(var sc=0;sc<Go.length;sc++){var lc=Go[sc],nb=lc.toLowerCase(),ab=lc[0].toUpperCase()+lc.slice(1);en(nb,"on"+ab)}en(Cf,"onAnimationEnd"),en(xf,"onAnimationIteration"),en(Mf,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(S0,"onTransitionRun"),en(_0,"onTransitionStart"),en(E0,"onTransitionCancel"),en(Rf,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ai));function Zp(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var d=t[l],h=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var S=d.length-1;0<=S;S--){var _=d[S],A=_.instance,D=_.currentTarget;if(_=_.listener,A!==v&&h.isPropagationStopped())break e;v=_,h.currentTarget=D;try{v(h)}catch(F){ol(F)}h.currentTarget=null,v=A}else for(S=0;S<d.length;S++){if(_=d[S],A=_.instance,D=_.currentTarget,_=_.listener,A!==v&&h.isPropagationStopped())break e;v=_,h.currentTarget=D;try{v(h)}catch(F){ol(F)}h.currentTarget=null,v=A}}}}function Ie(t,r){var l=r[So];l===void 0&&(l=r[So]=new Set);var d=t+"__bubble";l.has(d)||(Jp(r,t,2,!1),l.add(d))}function oc(t,r,l){var d=0;r&&(d|=4),Jp(l,t,d,r)}var El="_reactListening"+Math.random().toString(36).slice(2);function uc(t){if(!t[El]){t[El]=!0,qd.forEach(function(l){l!=="selectionchange"&&(rb.has(l)||oc(l,!1,t),oc(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[El]||(r[El]=!0,oc("selectionchange",!1,r))}}function Jp(t,r,l,d){switch(Sm(r)){case 2:var h=Ob;break;case 8:h=Lb;break;default:h=kc}l=h.bind(null,r,l,t),h=void 0,!Oo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),d?h!==void 0?t.addEventListener(r,l,{capture:!0,passive:h}):t.addEventListener(r,l,!0):h!==void 0?t.addEventListener(r,l,{passive:h}):t.addEventListener(r,l,!1)}function cc(t,r,l,d,h){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var _=d.stateNode.containerInfo;if(_===h)break;if(S===4)for(S=d.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;_!==null;){if(S=Xa(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){d=v=S;continue e}_=_.parentNode}}d=d.return}nf(function(){var D=v,F=Mo(l),Z=[];e:{var B=Of.get(t);if(B!==void 0){var j=Bs,Se=t;switch(t){case"keypress":if(Is(l)===0)break e;case"keydown":case"keyup":j=$y;break;case"focusin":Se="focus",j=Do;break;case"focusout":Se="blur",j=Do;break;case"beforeblur":case"afterblur":j=Do;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=t0;break;case Cf:case xf:case Mf:j=Fy;break;case Rf:j=a0;break;case"scroll":case"scrollend":j=jy;break;case"wheel":j=i0;break;case"copy":case"cut":case"paste":j=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=of;break;case"toggle":case"beforetoggle":j=l0}var ge=(r&4)!==0,Ve=!ge&&(t==="scroll"||t==="scrollend"),R=ge?B!==null?B+"Capture":null:B;ge=[];for(var x=D,L;x!==null;){var V=x;if(L=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||L===null||R===null||(V=Vr(x,R),V!=null&&ge.push(Ci(x,V,L))),Ve)break;x=x.return}0<ge.length&&(B=new j(B,Se,null,l,F),Z.push({event:B,listeners:ge}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&l!==xo&&(Se=l.relatedTarget||l.fromElement)&&(Xa(Se)||Se[Ya]))break e;if((j||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Se=l.relatedTarget||l.toElement,j=D,Se=Se?Xa(Se):null,Se!==null&&(Ve=s(Se),ge=Se.tag,Se!==Ve||ge!==5&&ge!==27&&ge!==6)&&(Se=null)):(j=null,Se=D),j!==Se)){if(ge=sf,V="onMouseLeave",R="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ge=of,V="onPointerLeave",R="onPointerEnter",x="pointer"),Ve=j==null?B:Gr(j),L=Se==null?B:Gr(Se),B=new ge(V,x+"leave",j,l,F),B.target=Ve,B.relatedTarget=L,V=null,Xa(F)===D&&(ge=new ge(R,x+"enter",Se,l,F),ge.target=L,ge.relatedTarget=Ve,V=ge),Ve=V,j&&Se)t:{for(ge=j,R=Se,x=0,L=ge;L;L=xr(L))x++;for(L=0,V=R;V;V=xr(V))L++;for(;0<x-L;)ge=xr(ge),x--;for(;0<L-x;)R=xr(R),L--;for(;x--;){if(ge===R||R!==null&&ge===R.alternate)break t;ge=xr(ge),R=xr(R)}ge=null}else ge=null;j!==null&&Qp(Z,B,j,ge,!1),Se!==null&&Ve!==null&&Qp(Z,Ve,Se,ge,!0)}}e:{if(B=D?Gr(D):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ue=vf;else if(pf(B))if(gf)ue=g0;else{ue=m0;var Re=p0}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?D&&Co(D.elementType)&&(ue=vf):ue=v0;if(ue&&(ue=ue(t,D))){mf(Z,ue,l,F);break e}Re&&Re(t,B,D),t==="focusout"&&D&&B.type==="number"&&D.memoizedProps.value!=null&&Ao(B,"number",B.value)}switch(Re=D?Gr(D):window,t){case"focusin":(pf(Re)||Re.contentEditable==="true")&&(rr=Re,Ho=D,Wr=null);break;case"focusout":Wr=Ho=rr=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,wf(Z,l,F);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":wf(Z,l,F)}var ve;if(Uo)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ar?ff(t,l)&&(ye="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(uf&&l.locale!=="ko"&&(ar||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ar&&(ve=af()):(qn=F,Lo="value"in qn?qn.value:qn.textContent,ar=!0)),Re=kl(D,ye),0<Re.length&&(ye=new lf(ye,t,null,l,F),Z.push({event:ye,listeners:Re}),ve?ye.data=ve:(ve=hf(l),ve!==null&&(ye.data=ve)))),(ve=u0?c0(t,l):d0(t,l))&&(ye=kl(D,"onBeforeInput"),0<ye.length&&(Re=new lf("onBeforeInput","beforeinput",null,l,F),Z.push({event:Re,listeners:ye}),Re.data=ve)),tb(Z,t,D,l,F)}Zp(Z,r)})}function Ci(t,r,l){return{instance:t,listener:r,currentTarget:l}}function kl(t,r){for(var l=r+"Capture",d=[];t!==null;){var h=t,v=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||v===null||(h=Vr(t,l),h!=null&&d.unshift(Ci(t,h,v)),h=Vr(t,r),h!=null&&d.push(Ci(t,h,v))),t.tag===3)return d;t=t.return}return[]}function xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qp(t,r,l,d,h){for(var v=r._reactName,S=[];l!==null&&l!==d;){var _=l,A=_.alternate,D=_.stateNode;if(_=_.tag,A!==null&&A===d)break;_!==5&&_!==26&&_!==27||D===null||(A=D,h?(D=Vr(l,v),D!=null&&S.unshift(Ci(l,D,A))):h||(D=Vr(l,v),D!=null&&S.push(Ci(l,D,A)))),l=l.return}S.length!==0&&t.push({event:r,listeners:S})}var ib=/\r\n?/g,sb=/\u0000|\uFFFD/g;function $p(t){return(typeof t=="string"?t:""+t).replace(ib,`
`).replace(sb,"")}function Wp(t,r){return r=$p(r),$p(t)===r}function Tl(){}function Ge(t,r,l,d,h,v){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||er(t,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&er(t,""+d);break;case"className":Ms(t,"class",d);break;case"tabIndex":Ms(t,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(t,l,d);break;case"style":ef(t,d,v);break;case"data":if(r!=="object"){Ms(t,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){t.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){t.removeAttribute(l);break}d=Ls(""+d),t.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Ge(t,r,"name",h.name,h,null),Ge(t,r,"formEncType",h.formEncType,h,null),Ge(t,r,"formMethod",h.formMethod,h,null),Ge(t,r,"formTarget",h.formTarget,h,null)):(Ge(t,r,"encType",h.encType,h,null),Ge(t,r,"method",h.method,h,null),Ge(t,r,"target",h.target,h,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){t.removeAttribute(l);break}d=Ls(""+d),t.setAttribute(l,d);break;case"onClick":d!=null&&(t.onclick=Tl);break;case"onScroll":d!=null&&Ie("scroll",t);break;case"onScrollEnd":d!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(e(61));if(l=d.__html,l!=null){if(h.children!=null)throw Error(e(60));t.innerHTML=l}}break;case"multiple":t.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":t.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){t.removeAttribute("xlink:href");break}l=Ls(""+d),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(l,""+d):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":d===!0?t.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?t.setAttribute(l,d):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?t.setAttribute(l,d):t.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?t.removeAttribute(l):t.setAttribute(l,d);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),xs(t,"popover",d);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":xs(t,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=By.get(l)||l,xs(t,l,d))}}function dc(t,r,l,d,h,v){switch(l){case"style":ef(t,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(e(61));if(l=d.__html,l!=null){if(h.children!=null)throw Error(e(60));t.innerHTML=l}}break;case"children":typeof d=="string"?er(t,d):(typeof d=="number"||typeof d=="bigint")&&er(t,""+d);break;case"onScroll":d!=null&&Ie("scroll",t);break;case"onScrollEnd":d!=null&&Ie("scrollend",t);break;case"onClick":d!=null&&(t.onclick=Tl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),r=l.slice(2,h?l.length-7:void 0),v=t[At]||null,v=v!=null?v[l]:null,typeof v=="function"&&t.removeEventListener(r,v,h),typeof d=="function")){typeof v!="function"&&v!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(r,d,h);break e}l in t?t[l]=d:d===!0?t.setAttribute(l,""):xs(t,l,d)}}}function yt(t,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var d=!1,h=!1,v;for(v in l)if(l.hasOwnProperty(v)){var S=l[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(e(137,r));default:Ge(t,r,v,S,l,null)}}h&&Ge(t,r,"srcSet",l.srcSet,l,null),d&&Ge(t,r,"src",l.src,l,null);return;case"input":Ie("invalid",t);var _=v=S=h=null,A=null,D=null;for(d in l)if(l.hasOwnProperty(d)){var F=l[d];if(F!=null)switch(d){case"name":h=F;break;case"type":S=F;break;case"checked":A=F;break;case"defaultChecked":D=F;break;case"value":v=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(e(137,r));break;default:Ge(t,r,d,F,l,null)}}Jd(t,v,_,A,D,S,h,!1),Rs(t);return;case"select":Ie("invalid",t),d=S=v=null;for(h in l)if(l.hasOwnProperty(h)&&(_=l[h],_!=null))switch(h){case"value":v=_;break;case"defaultValue":S=_;break;case"multiple":d=_;default:Ge(t,r,h,_,l,null)}r=v,l=S,t.multiple=!!d,r!=null?Wa(t,!!d,r,!1):l!=null&&Wa(t,!!d,l,!0);return;case"textarea":Ie("invalid",t),v=h=d=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":d=_;break;case"defaultValue":h=_;break;case"children":v=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(e(91));break;default:Ge(t,r,S,_,l,null)}$d(t,d,h,v),Rs(t);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(d=l[A],d!=null))switch(A){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ge(t,r,A,d,l,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(d=0;d<Ai.length;d++)Ie(Ai[d],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(d=l[D],d!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(e(137,r));default:Ge(t,r,D,d,l,null)}return;default:if(Co(r)){for(F in l)l.hasOwnProperty(F)&&(d=l[F],d!==void 0&&dc(t,r,F,d,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(d=l[_],d!=null&&Ge(t,r,_,d,l,null))}function lb(t,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,v=null,S=null,_=null,A=null,D=null,F=null;for(j in l){var Z=l[j];if(l.hasOwnProperty(j)&&Z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":A=Z;default:d.hasOwnProperty(j)||Ge(t,r,j,null,d,Z)}}for(var B in d){var j=d[B];if(Z=l[B],d.hasOwnProperty(B)&&(j!=null||Z!=null))switch(B){case"type":v=j;break;case"name":h=j;break;case"checked":D=j;break;case"defaultChecked":F=j;break;case"value":S=j;break;case"defaultValue":_=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(e(137,r));break;default:j!==Z&&Ge(t,r,B,j,d,Z)}}wo(t,S,_,A,D,F,v,h);return;case"select":j=S=_=B=null;for(v in l)if(A=l[v],l.hasOwnProperty(v)&&A!=null)switch(v){case"value":break;case"multiple":j=A;default:d.hasOwnProperty(v)||Ge(t,r,v,null,d,A)}for(h in d)if(v=d[h],A=l[h],d.hasOwnProperty(h)&&(v!=null||A!=null))switch(h){case"value":B=v;break;case"defaultValue":_=v;break;case"multiple":S=v;default:v!==A&&Ge(t,r,h,v,d,A)}r=_,l=S,d=j,B!=null?Wa(t,!!l,B,!1):!!d!=!!l&&(r!=null?Wa(t,!!l,r,!0):Wa(t,!!l,l?[]:"",!1));return;case"textarea":j=B=null;for(_ in l)if(h=l[_],l.hasOwnProperty(_)&&h!=null&&!d.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(t,r,_,null,d,h)}for(S in d)if(h=d[S],v=l[S],d.hasOwnProperty(S)&&(h!=null||v!=null))switch(S){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(e(91));break;default:h!==v&&Ge(t,r,S,h,d,v)}Qd(t,B,j);return;case"option":for(var Se in l)if(B=l[Se],l.hasOwnProperty(Se)&&B!=null&&!d.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Ge(t,r,Se,null,d,B)}for(A in d)if(B=d[A],j=l[A],d.hasOwnProperty(A)&&B!==j&&(B!=null||j!=null))switch(A){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ge(t,r,A,B,d,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in l)B=l[ge],l.hasOwnProperty(ge)&&B!=null&&!d.hasOwnProperty(ge)&&Ge(t,r,ge,null,d,B);for(D in d)if(B=d[D],j=l[D],d.hasOwnProperty(D)&&B!==j&&(B!=null||j!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(e(137,r));break;default:Ge(t,r,D,B,d,j)}return;default:if(Co(r)){for(var Ve in l)B=l[Ve],l.hasOwnProperty(Ve)&&B!==void 0&&!d.hasOwnProperty(Ve)&&dc(t,r,Ve,void 0,d,B);for(F in d)B=d[F],j=l[F],!d.hasOwnProperty(F)||B===j||B===void 0&&j===void 0||dc(t,r,F,B,d,j);return}}for(var R in l)B=l[R],l.hasOwnProperty(R)&&B!=null&&!d.hasOwnProperty(R)&&Ge(t,r,R,null,d,B);for(Z in d)B=d[Z],j=l[Z],!d.hasOwnProperty(Z)||B===j||B==null&&j==null||Ge(t,r,Z,B,d,j)}var fc=null,hc=null;function wl(t){return t.nodeType===9?t:t.ownerDocument}function em(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function pc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mc=null;function ob(){var t=window.event;return t&&t.type==="popstate"?t===mc?!1:(mc=t,!0):(mc=null,!1)}var nm=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(t){return am.resolve(null).then(t).catch(db)}:nm;function db(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function rm(t,r){var l=r,d=0,h=0;do{var v=l.nextSibling;if(t.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<d&&8>d){l=d;var S=t.ownerDocument;if(l&1&&xi(S.documentElement),l&2&&xi(S.body),l&4)for(l=S.head,xi(l),S=l.firstChild;S;){var _=S.nextSibling,A=S.nodeName;S[Fr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=_}}if(h===0){t.removeChild(v),Bi(r);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:d=l.charCodeAt(0)-48;else d=0;l=v}while(l);Bi(r)}function vc(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vc(l),_o(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function fb(t,r,l,d){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(d){if(!t[Fr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var v=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=nn(t.nextSibling),t===null)break}return null}function hb(t,r,l){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=nn(t.nextSibling),t===null))return null;return t}function gc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pb(t,r){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),t._reactRetry=d}}function nn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var yc=null;function im(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}function sm(t,r,l){switch(r=wl(l),t){case"html":if(t=r.documentElement,!t)throw Error(e(452));return t;case"head":if(t=r.head,!t)throw Error(e(453));return t;case"body":if(t=r.body,!t)throw Error(e(454));return t;default:throw Error(e(451))}}function xi(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);_o(t)}var Wt=new Map,lm=new Set;function Al(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cn=ee.d;ee.d={f:mb,r:vb,D:gb,C:yb,L:bb,m:Sb,X:Eb,S:_b,M:kb};function mb(){var t=Cn.f(),r=gl();return t||r}function vb(t){var r=Za(t);r!==null&&r.tag===5&&r.type==="form"?Ch(r):Cn.r(t)}var Mr=typeof document>"u"?null:document;function om(t,r,l){var d=Mr;if(d&&typeof r=="string"&&r){var h=Kt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),lm.has(h)||(lm.add(h),t={rel:t,crossOrigin:l,href:r},d.querySelector(h)===null&&(r=d.createElement("link"),yt(r,"link",t),dt(r),d.head.appendChild(r)))}}function gb(t){Cn.D(t),om("dns-prefetch",t,null)}function yb(t,r){Cn.C(t,r),om("preconnect",t,r)}function bb(t,r,l){Cn.L(t,r,l);var d=Mr;if(d&&t&&r){var h='link[rel="preload"][as="'+Kt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Kt(l.imageSizes)+'"]')):h+='[href="'+Kt(t)+'"]';var v=h;switch(r){case"style":v=Rr(t);break;case"script":v=Or(t)}Wt.has(v)||(t=m({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:t,as:r},l),Wt.set(v,t),d.querySelector(h)!==null||r==="style"&&d.querySelector(Mi(v))||r==="script"&&d.querySelector(Ri(v))||(r=d.createElement("link"),yt(r,"link",t),dt(r),d.head.appendChild(r)))}}function Sb(t,r){Cn.m(t,r);var l=Mr;if(l&&t){var d=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Kt(d)+'"][href="'+Kt(t)+'"]',v=h;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Or(t)}if(!Wt.has(v)&&(t=m({rel:"modulepreload",href:t},r),Wt.set(v,t),l.querySelector(h)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ri(v)))return}d=l.createElement("link"),yt(d,"link",t),dt(d),l.head.appendChild(d)}}}function _b(t,r,l){Cn.S(t,r,l);var d=Mr;if(d&&t){var h=Ja(d).hoistableStyles,v=Rr(t);r=r||"default";var S=h.get(v);if(!S){var _={loading:0,preload:null};if(S=d.querySelector(Mi(v)))_.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":r},l),(l=Wt.get(v))&&bc(t,l);var A=S=d.createElement("link");dt(A),yt(A,"link",t),A._p=new Promise(function(D,F){A.onload=D,A.onerror=F}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Cl(S,r,d)}S={type:"stylesheet",instance:S,count:1,state:_},h.set(v,S)}}}function Eb(t,r){Cn.X(t,r);var l=Mr;if(l&&t){var d=Ja(l).hoistableScripts,h=Or(t),v=d.get(h);v||(v=l.querySelector(Ri(h)),v||(t=m({src:t,async:!0},r),(r=Wt.get(h))&&Sc(t,r),v=l.createElement("script"),dt(v),yt(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(h,v))}}function kb(t,r){Cn.M(t,r);var l=Mr;if(l&&t){var d=Ja(l).hoistableScripts,h=Or(t),v=d.get(h);v||(v=l.querySelector(Ri(h)),v||(t=m({src:t,async:!0,type:"module"},r),(r=Wt.get(h))&&Sc(t,r),v=l.createElement("script"),dt(v),yt(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(h,v))}}function um(t,r,l,d){var h=(h=Ee.current)?Al(h):null;if(!h)throw Error(e(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Rr(l.href),l=Ja(h).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Rr(l.href);var v=Ja(h).hoistableStyles,S=v.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=h.querySelector(Mi(t)))&&!v._p&&(S.instance=v,S.state.loading=5),Wt.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wt.set(t,l),v||Tb(h,t,l,S.state))),r&&d===null)throw Error(e(528,""));return S}if(r&&d!==null)throw Error(e(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Or(l),l=Ja(h).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(e(444,t))}}function Rr(t){return'href="'+Kt(t)+'"'}function Mi(t){return'link[rel="stylesheet"]['+t+"]"}function cm(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,r,l,d){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=t.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),yt(r,"link",l),dt(r),t.head.appendChild(r))}function Or(t){return'[src="'+Kt(t)+'"]'}function Ri(t){return"script[async]"+t}function dm(t,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=t.querySelector('style[data-href~="'+Kt(l.href)+'"]');if(d)return r.instance=d,dt(d),d;var h=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(t.ownerDocument||t).createElement("style"),dt(d),yt(d,"style",h),Cl(d,l.precedence,t),r.instance=d;case"stylesheet":h=Rr(l.href);var v=t.querySelector(Mi(h));if(v)return r.state.loading|=4,r.instance=v,dt(v),v;d=cm(l),(h=Wt.get(h))&&bc(d,h),v=(t.ownerDocument||t).createElement("link"),dt(v);var S=v;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),yt(v,"link",d),r.state.loading|=4,Cl(v,l.precedence,t),r.instance=v;case"script":return v=Or(l.src),(h=t.querySelector(Ri(v)))?(r.instance=h,dt(h),h):(d=l,(h=Wt.get(v))&&(d=m({},l),Sc(d,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),yt(h,"link",d),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(e(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Cl(d,l.precedence,t));return r.instance}function Cl(t,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=d.length?d[d.length-1]:null,v=h,S=0;S<d.length;S++){var _=d[S];if(_.dataset.precedence===r)v=_;else if(v!==h)break}v?v.parentNode.insertBefore(t,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(t,r.firstChild))}function bc(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Sc(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xl=null;function fm(t,r,l){if(xl===null){var d=new Map,h=xl=new Map;h.set(l,d)}else h=xl,d=h.get(l),d||(d=new Map,h.set(l,d));if(d.has(t))return d;for(d.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var v=l[h];if(!(v[Fr]||v[St]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(r)||"";S=t+S;var _=d.get(S);_?_.push(v):d.set(S,[v])}}return d}function hm(t,r,l){t=t.ownerDocument||t,t.head.insertBefore(l,r==="title"?t.querySelector("head > title"):null)}function wb(t,r,l){if(l===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Oi=null;function Ab(){}function Cb(t,r,l){if(Oi===null)throw Error(e(475));var d=Oi;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Rr(l.href),v=t.querySelector(Mi(h));if(v){t=v._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(d.count++,d=Ml.bind(d),t.then(d,d)),r.state.loading|=4,r.instance=v,dt(v);return}v=t.ownerDocument||t,l=cm(l),(h=Wt.get(h))&&bc(l,h),v=v.createElement("link"),dt(v);var S=v;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),yt(v,"link",l),r.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=Ml.bind(d),t.addEventListener("load",r),t.addEventListener("error",r))}}function xb(){if(Oi===null)throw Error(e(475));var t=Oi;return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count?function(r){var l=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l)}}:null}function Ml(){if(this.count--,this.count===0){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rl=null;function _c(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rl=new Map,r.forEach(Mb,t),Rl=null,Ml.call(t))}function Mb(t,r){if(!(r.state.loading&4)){var l=Rl.get(t);if(l)var d=l.get(null);else{l=new Map,Rl.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<h.length;v++){var S=h[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),d=S)}d&&l.set(null,d)}h=r.instance,S=h.getAttribute("data-precedence"),v=l.get(S)||d,v===d&&l.set(null,h),l.set(S,h),this.count++,d=Ml.bind(this),h.addEventListener("load",d),h.addEventListener("error",d),v?v.parentNode.insertBefore(h,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Li={$$typeof:X,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Rb(t,r,l,d,h,v,S,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.hiddenUpdates=go(null),this.identifierPrefix=d,this.onUncaughtError=h,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function mm(t,r,l,d,h,v,S,_,A,D,F,Z){return t=new Rb(t,r,l,S,_,A,D,Z),r=1,v===!0&&(r|=24),v=jt(3,null,null,r),t.current=v,v.stateNode=t,r=nu(),r.refCount++,t.pooledCache=r,r.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:r},su(v),t}function vm(t){return t?(t=or,t):or}function gm(t,r,l,d,h,v){h=vm(h),d.context===null?d.context=h:d.pendingContext=h,d=Vn(r),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Kn(t,d,r),l!==null&&(Ft(l,t,r),oi(l,t,r))}function ym(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function Ec(t,r){ym(t,r),(t=t.alternate)&&ym(t,r)}function bm(t){if(t.tag===13){var r=lr(t,67108864);r!==null&&Ft(r,t,67108864),Ec(t,67108864)}}var Ol=!0;function Ob(t,r,l,d){var h=U.T;U.T=null;var v=ee.p;try{ee.p=2,kc(t,r,l,d)}finally{ee.p=v,U.T=h}}function Lb(t,r,l,d){var h=U.T;U.T=null;var v=ee.p;try{ee.p=8,kc(t,r,l,d)}finally{ee.p=v,U.T=h}}function kc(t,r,l,d){if(Ol){var h=Tc(d);if(h===null)cc(t,r,d,Ll,l),_m(t,d);else if(Ib(h,t,r,l,d))d.stopPropagation();else if(_m(t,d),r&4&&-1<Nb.indexOf(t)){for(;h!==null;){var v=Za(h);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=va(v.pendingLanes);if(S!==0){var _=v;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-Bt(S);_.entanglements[1]|=A,S&=~A}un(v),(Pe&6)===0&&(ml=an()+500,wi(0))}}break;case 13:_=lr(v,2),_!==null&&Ft(_,v,2),gl(),Ec(v,2)}if(v=Tc(d),v===null&&cc(t,r,d,Ll,l),v===h)break;h=v}h!==null&&d.stopPropagation()}else cc(t,r,d,null,l)}}function Tc(t){return t=Mo(t),wc(t)}var Ll=null;function wc(t){if(Ll=null,t=Xa(t),t!==null){var r=s(t);if(r===null)t=null;else{var l=r.tag;if(l===13){if(t=u(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Ll=t,null}function Sm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yy()){case Nd:return 2;case Id:return 8;case Ts:case by:return 32;case Dd:return 268435456;default:return 32}default:return 32}}var Ac=!1,ia=null,sa=null,la=null,Ni=new Map,Ii=new Map,oa=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _m(t,r){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ni.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(r.pointerId)}}function Di(t,r,l,d,h,v){return t===null||t.nativeEvent!==v?(t={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[h]},r!==null&&(r=Za(r),r!==null&&bm(r)),t):(t.eventSystemFlags|=d,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Ib(t,r,l,d,h){switch(r){case"focusin":return ia=Di(ia,t,r,l,d,h),!0;case"dragenter":return sa=Di(sa,t,r,l,d,h),!0;case"mouseover":return la=Di(la,t,r,l,d,h),!0;case"pointerover":var v=h.pointerId;return Ni.set(v,Di(Ni.get(v)||null,t,r,l,d,h)),!0;case"gotpointercapture":return v=h.pointerId,Ii.set(v,Di(Ii.get(v)||null,t,r,l,d,h)),!0}return!1}function Em(t){var r=Xa(t.target);if(r!==null){var l=s(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){t.blockedOn=r,Cy(t.priority,function(){if(l.tag===13){var d=qt();d=yo(d);var h=lr(l,d);h!==null&&Ft(h,l,d),Ec(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=Tc(t.nativeEvent);if(l===null){l=t.nativeEvent;var d=new l.constructor(l.type,l);xo=d,l.target.dispatchEvent(d),xo=null}else return r=Za(l),r!==null&&bm(r),t.blockedOn=l,!1;r.shift()}return!0}function km(t,r,l){Nl(t)&&l.delete(r)}function Db(){Ac=!1,ia!==null&&Nl(ia)&&(ia=null),sa!==null&&Nl(sa)&&(sa=null),la!==null&&Nl(la)&&(la=null),Ni.forEach(km),Ii.forEach(km)}function Il(t,r){t.blockedOn===r&&(t.blockedOn=null,Ac||(Ac=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Db)))}var Dl=null;function Tm(t){Dl!==t&&(Dl=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dl===t&&(Dl=null);for(var r=0;r<t.length;r+=3){var l=t[r],d=t[r+1],h=t[r+2];if(typeof d!="function"){if(wc(d||l)===null)continue;break}var v=Za(l);v!==null&&(t.splice(r,3),r-=3,wu(v,{pending:!0,data:h,method:l.method,action:d},d,h))}}))}function Bi(t){function r(A){return Il(A,t)}ia!==null&&Il(ia,t),sa!==null&&Il(sa,t),la!==null&&Il(la,t),Ni.forEach(r),Ii.forEach(r);for(var l=0;l<oa.length;l++){var d=oa[l];d.blockedOn===t&&(d.blockedOn=null)}for(;0<oa.length&&(l=oa[0],l.blockedOn===null);)Em(l),l.blockedOn===null&&oa.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var h=l[d],v=l[d+1],S=h[At]||null;if(typeof v=="function")S||Tm(l);else if(S){var _=null;if(v&&v.hasAttribute("formAction")){if(h=v,S=v[At]||null)_=S.formAction;else if(wc(h)!==null)continue}else _=S.action;typeof _=="function"?l[d+1]=_:(l.splice(d,3),d-=3),Tm(l)}}}function Cc(t){this._internalRoot=t}Bl.prototype.render=Cc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(e(409));var l=r.current,d=qt();gm(l,d,t,r,null,null)},Bl.prototype.unmount=Cc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;gm(t.current,2,null,t,null,null),gl(),r[Ya]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pd();t={blockedOn:null,target:t,priority:r};for(var l=0;l<oa.length&&r!==0&&r<oa[l].priority;l++);oa.splice(l,0,t),l===0&&Em(t)}};var wm=o.version;if(wm!=="19.1.1")throw Error(e(527,wm,"19.1.1"));ee.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(e(188)):(t=Object.keys(t).join(","),Error(e(268,t)));return t=f(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Bb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Pr=Ul.inject(Bb),Dt=Ul}catch{}}return ji.createRoot=function(t,r){if(!a(t))throw Error(e(299));var l=!1,d="",h=Hh,v=qh,S=Fh,_=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=mm(t,1,!1,null,null,l,d,h,v,S,_,null),t[Ya]=r.current,uc(t),new Cc(r)},ji.hydrateRoot=function(t,r,l){if(!a(t))throw Error(e(299));var d=!1,h="",v=Hh,S=qh,_=Fh,A=null,D=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(D=l.formState)),r=mm(t,1,!0,r,l??null,d,h,v,S,_,A,D),r.context=vm(null),l=r.current,d=qt(),d=yo(d),h=Vn(d),h.callback=null,Kn(l,h,d),l=d,r.current.lanes=l,qr(r,l),un(r),t[Ya]=r.current,uc(t),new Bl(r)},ji.version="19.1.1",ji}var Dm;function Yb(){if(Dm)return Rc.exports;Dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Rc.exports=Kb(),Rc.exports}var Xb=Yb();const Zb=Jv(Xb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,n,e)=>e?e.toUpperCase():n.toLowerCase()),Bm=i=>{const o=Qb(i);return o.charAt(0).toUpperCase()+o.slice(1)},Wv=(...i)=>i.filter((o,n,e)=>!!o&&o.trim()!==""&&e.indexOf(o)===n).join(" ").trim(),$b=i=>{for(const o in i)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=je.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:e,className:a="",children:s,iconNode:u,...c},f)=>je.createElement("svg",{ref:f,...Wb,width:o,height:o,stroke:i,strokeWidth:e?Number(n)*24/Number(o):n,className:Wv("lucide",a),...!s&&!$b(c)&&{"aria-hidden":"true"},...c},[...u.map(([p,m])=>je.createElement(p,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=(i,o)=>{const n=je.forwardRef(({className:e,...a},s)=>je.createElement(e1,{ref:s,iconNode:o,className:Wv(`lucide-${Jb(Bm(i))}`,`lucide-${i}`,e),...a}));return n.displayName=Bm(i),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],n1=Dn("award",t1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],r1=Dn("calendar",a1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],s1=Dn("linkedin",i1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],Um=Dn("mail-plus",l1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],u1=Dn("mail",o1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jm=Dn("map-pin",c1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],f1=Dn("message-square",d1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],p1=Dn("star",h1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v1=Dn("users",m1);function eg(i){var o,n,e="";if(typeof i=="string"||typeof i=="number")e+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(o=0;o<a;o++)i[o]&&(n=eg(i[o]))&&(e&&(e+=" "),e+=n)}else for(n in i)i[n]&&(e&&(e+=" "),e+=n);return e}function tg(){for(var i,o,n=0,e="",a=arguments.length;n<a;n++)(i=arguments[n])&&(o=eg(i))&&(e&&(e+=" "),e+=o);return e}const md="-",g1=i=>{const o=b1(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:e}=i;return{getClassGroupId:u=>{const c=u.split(md);return c[0]===""&&c.length!==1&&c.shift(),ng(c,o)||y1(u)},getConflictingClassGroupIds:(u,c)=>{const f=n[u]||[];return c&&e[u]?[...f,...e[u]]:f}}},ng=(i,o)=>{if(i.length===0)return o.classGroupId;const n=i[0],e=o.nextPart.get(n),a=e?ng(i.slice(1),e):void 0;if(a)return a;if(o.validators.length===0)return;const s=i.join(md);return o.validators.find(({validator:u})=>u(s))?.classGroupId},zm=/^\[(.+)\]$/,y1=i=>{if(zm.test(i)){const o=zm.exec(i)[1],n=o?.substring(0,o.indexOf(":"));if(n)return"arbitrary.."+n}},b1=i=>{const{theme:o,classGroups:n}=i,e={nextPart:new Map,validators:[]};for(const a in n)qc(n[a],e,a,o);return e},qc=(i,o,n,e)=>{i.forEach(a=>{if(typeof a=="string"){const s=a===""?o:Pm(o,a);s.classGroupId=n;return}if(typeof a=="function"){if(S1(a)){qc(a(e),o,n,e);return}o.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,u])=>{qc(u,Pm(o,s),n,e)})})},Pm=(i,o)=>{let n=i;return o.split(md).forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},S1=i=>i.isThemeGetter,_1=i=>{if(i<1)return{get:()=>{},set:()=>{}};let o=0,n=new Map,e=new Map;const a=(s,u)=>{n.set(s,u),o++,o>i&&(o=0,e=n,n=new Map)};return{get(s){let u=n.get(s);if(u!==void 0)return u;if((u=e.get(s))!==void 0)return a(s,u),u},set(s,u){n.has(s)?n.set(s,u):a(s,u)}}},Fc="!",Gc=":",E1=Gc.length,k1=i=>{const{prefix:o,experimentalParseClassName:n}=i;let e=a=>{const s=[];let u=0,c=0,f=0,p;for(let k=0;k<a.length;k++){let E=a[k];if(u===0&&c===0){if(E===Gc){s.push(a.slice(f,k)),f=k+E1;continue}if(E==="/"){p=k;continue}}E==="["?u++:E==="]"?u--:E==="("?c++:E===")"&&c--}const m=s.length===0?a:a.substring(f),g=T1(m),b=g!==m,y=p&&p>f?p-f:void 0;return{modifiers:s,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:y}};if(o){const a=o+Gc,s=e;e=u=>u.startsWith(a)?s(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=e;e=s=>n({className:s,parseClassName:a})}return e},T1=i=>i.endsWith(Fc)?i.substring(0,i.length-1):i.startsWith(Fc)?i.substring(1):i,w1=i=>{const o=Object.fromEntries(i.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const a=[];let s=[];return e.forEach(u=>{u[0]==="["||o[u]?(a.push(...s.sort(),u),s=[]):s.push(u)}),a.push(...s.sort()),a}},A1=i=>({cache:_1(i.cacheSize),parseClassName:k1(i),sortModifiers:w1(i),...g1(i)}),C1=/\s+/,x1=(i,o)=>{const{parseClassName:n,getClassGroupId:e,getConflictingClassGroupIds:a,sortModifiers:s}=o,u=[],c=i.trim().split(C1);let f="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{isExternal:g,modifiers:b,hasImportantModifier:y,baseClassName:k,maybePostfixModifierPosition:E}=n(m);if(g){f=m+(f.length>0?" "+f:f);continue}let w=!!E,M=e(w?k.substring(0,E):k);if(!M){if(!w){f=m+(f.length>0?" "+f:f);continue}if(M=e(k),!M){f=m+(f.length>0?" "+f:f);continue}w=!1}const O=s(b).join(":"),X=y?O+Fc:O,ne=X+M;if(u.includes(ne))continue;u.push(ne);const P=a(M,w);for(let G=0;G<P.length;++G){const le=P[G];u.push(X+le)}f=m+(f.length>0?" "+f:f)}return f};function M1(){let i=0,o,n,e="";for(;i<arguments.length;)(o=arguments[i++])&&(n=ag(o))&&(e&&(e+=" "),e+=n);return e}const ag=i=>{if(typeof i=="string")return i;let o,n="";for(let e=0;e<i.length;e++)i[e]&&(o=ag(i[e]))&&(n&&(n+=" "),n+=o);return n};function R1(i,...o){let n,e,a,s=u;function u(f){const p=o.reduce((m,g)=>g(m),i());return n=A1(p),e=n.cache.get,a=n.cache.set,s=c,c(f)}function c(f){const p=e(f);if(p)return p;const m=x1(f,n);return a(f,m),m}return function(){return s(M1.apply(null,arguments))}}const ot=i=>{const o=n=>n[i]||[];return o.isThemeGetter=!0,o},rg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ig=/^\((?:(\w[\w-]*):)?(.+)\)$/i,O1=/^\d+\/\d+$/,L1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,D1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=i=>O1.test(i),Me=i=>!!i&&!Number.isNaN(Number(i)),ca=i=>!!i&&Number.isInteger(Number(i)),Ic=i=>i.endsWith("%")&&Me(i.slice(0,-1)),xn=i=>L1.test(i),U1=()=>!0,j1=i=>N1.test(i)&&!I1.test(i),sg=()=>!1,z1=i=>D1.test(i),P1=i=>B1.test(i),H1=i=>!ce(i)&&!de(i),q1=i=>jr(i,ug,sg),ce=i=>rg.test(i),Ia=i=>jr(i,cg,j1),Dc=i=>jr(i,Y1,Me),Hm=i=>jr(i,lg,sg),F1=i=>jr(i,og,P1),jl=i=>jr(i,dg,z1),de=i=>ig.test(i),zi=i=>zr(i,cg),G1=i=>zr(i,X1),qm=i=>zr(i,lg),V1=i=>zr(i,ug),K1=i=>zr(i,og),zl=i=>zr(i,dg,!0),jr=(i,o,n)=>{const e=rg.exec(i);return e?e[1]?o(e[1]):n(e[2]):!1},zr=(i,o,n=!1)=>{const e=ig.exec(i);return e?e[1]?o(e[1]):n:!1},lg=i=>i==="position"||i==="percentage",og=i=>i==="image"||i==="url",ug=i=>i==="length"||i==="size"||i==="bg-size",cg=i=>i==="length",Y1=i=>i==="number",X1=i=>i==="family-name",dg=i=>i==="shadow",Z1=()=>{const i=ot("color"),o=ot("font"),n=ot("text"),e=ot("font-weight"),a=ot("tracking"),s=ot("leading"),u=ot("breakpoint"),c=ot("container"),f=ot("spacing"),p=ot("radius"),m=ot("shadow"),g=ot("inset-shadow"),b=ot("text-shadow"),y=ot("drop-shadow"),k=ot("blur"),E=ot("perspective"),w=ot("aspect"),M=ot("ease"),O=ot("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...ne(),de,ce],G=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto","contain","none"],K=()=>[de,ce,f],be=()=>[Lr,"full","auto",...K()],W=()=>[ca,"none","subgrid",de,ce],Q=()=>["auto",{span:["full",ca,de,ce]},ca,de,ce],q=()=>[ca,"auto",de,ce],se=()=>["auto","min","max","fr",de,ce],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...K()],ee=()=>[Lr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],H=()=>[i,de,ce],ke=()=>[...ne(),qm,Hm,{position:[de,ce]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",V1,q1,{size:[de,ce]}],ae=()=>[Ic,zi,Ia],te=()=>["","none","full",p,de,ce],ie=()=>["",Me,zi,Ia],Le=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Be=()=>[Me,Ic,qm,Hm],Ke=()=>["","none",k,de,ce],It=()=>["none",Me,de,ce],Un=()=>["none",Me,de,ce],jn=()=>[Me,de,ce],zn=()=>[Lr,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xn],breakpoint:[xn],color:[U1],container:[xn],"drop-shadow":[xn],ease:["in","out","in-out"],font:[H1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xn],shadow:[xn],spacing:["px",Me],text:[xn],"text-shadow":[xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lr,ce,de,w]}],container:["container"],columns:[{columns:[Me,ce,de,c]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:le()}],"overscroll-x":[{"overscroll-x":le()}],"overscroll-y":[{"overscroll-y":le()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:be()}],"inset-x":[{"inset-x":be()}],"inset-y":[{"inset-y":be()}],start:[{start:be()}],end:[{end:be()}],top:[{top:be()}],right:[{right:be()}],bottom:[{bottom:be()}],left:[{left:be()}],visibility:["visible","invisible","collapse"],z:[{z:[ca,"auto",de,ce]}],basis:[{basis:[Lr,"full","auto",c,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Lr,"auto","initial","none",ce]}],grow:[{grow:["",Me,de,ce]}],shrink:[{shrink:["",Me,de,ce]}],order:[{order:[ca,"first","last","none",de,ce]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,zi,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[e,de,Dc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ic,ce]}],"font-family":[{font:[G1,ce,o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,de,ce]}],"line-clamp":[{"line-clamp":[Me,"none",de,Dc]}],leading:[{leading:[s,...K()]}],"list-image":[{"list-image":["none",de,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",de,Ia]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Me,"auto",de,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ke()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ca,de,ce],radial:["",de,ce],conic:[ca,de,ce]},K1,F1]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Le(),"hidden","none"]}],"divide-style":[{divide:[...Le(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,de,ce]}],"outline-w":[{outline:["",Me,zi,Ia]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",m,zl,jl]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",g,zl,jl]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Me,Ia]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",b,zl,jl]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Me,de,ce]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":Be()}],"mask-image-linear-to-pos":[{"mask-linear-to":Be()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Be()}],"mask-image-t-to-pos":[{"mask-t-to":Be()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Be()}],"mask-image-r-to-pos":[{"mask-r-to":Be()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Be()}],"mask-image-b-to-pos":[{"mask-b-to":Be()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Be()}],"mask-image-l-to-pos":[{"mask-l-to":Be()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Be()}],"mask-image-x-to-pos":[{"mask-x-to":Be()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Be()}],"mask-image-y-to-pos":[{"mask-y-to":Be()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[de,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":Be()}],"mask-image-radial-to-pos":[{"mask-radial-to":Be()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ne()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":Be()}],"mask-image-conic-to-pos":[{"mask-conic-to":Be()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ke()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ce]}],filter:[{filter:["","none",de,ce]}],blur:[{blur:Ke()}],brightness:[{brightness:[Me,de,ce]}],contrast:[{contrast:[Me,de,ce]}],"drop-shadow":[{"drop-shadow":["","none",y,zl,jl]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Me,de,ce]}],"hue-rotate":[{"hue-rotate":[Me,de,ce]}],invert:[{invert:["",Me,de,ce]}],saturate:[{saturate:[Me,de,ce]}],sepia:[{sepia:["",Me,de,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ce]}],"backdrop-blur":[{"backdrop-blur":Ke()}],"backdrop-brightness":[{"backdrop-brightness":[Me,de,ce]}],"backdrop-contrast":[{"backdrop-contrast":[Me,de,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,de,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,de,ce]}],"backdrop-invert":[{"backdrop-invert":["",Me,de,ce]}],"backdrop-opacity":[{"backdrop-opacity":[Me,de,ce]}],"backdrop-saturate":[{"backdrop-saturate":[Me,de,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,de,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",de,ce]}],ease:[{ease:["linear","initial",M,de,ce]}],delay:[{delay:[Me,de,ce]}],animate:[{animate:["none",O,de,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,de,ce]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:It()}],"rotate-x":[{"rotate-x":It()}],"rotate-y":[{"rotate-y":It()}],"rotate-z":[{"rotate-z":It()}],scale:[{scale:Un()}],"scale-x":[{"scale-x":Un()}],"scale-y":[{"scale-y":Un()}],"scale-z":[{"scale-z":Un()}],"scale-3d":["scale-3d"],skew:[{skew:jn()}],"skew-x":[{"skew-x":jn()}],"skew-y":[{"skew-y":jn()}],transform:[{transform:[de,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:zn()}],"translate-x":[{"translate-x":zn()}],"translate-y":[{"translate-y":zn()}],"translate-z":[{"translate-z":zn()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ce]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Me,zi,Ia,Dc]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J1=R1(Z1);function Bn(...i){return J1(tg(i))}const ls=je.forwardRef(({className:i,...o},n)=>J.jsx("div",{ref:n,className:Bn("rounded-xl border bg-card text-card-foreground shadow",i),...o}));ls.displayName="Card";const Q1=je.forwardRef(({className:i,...o},n)=>J.jsx("div",{ref:n,className:Bn("flex flex-col space-y-1.5 p-6",i),...o}));Q1.displayName="CardHeader";const $1=je.forwardRef(({className:i,...o},n)=>J.jsx("div",{ref:n,className:Bn("font-semibold leading-none tracking-tight",i),...o}));$1.displayName="CardTitle";const W1=je.forwardRef(({className:i,...o},n)=>J.jsx("div",{ref:n,className:Bn("text-sm text-muted-foreground",i),...o}));W1.displayName="CardDescription";const os=je.forwardRef(({className:i,...o},n)=>J.jsx("div",{ref:n,className:Bn("p-6 pt-0",i),...o}));os.displayName="CardContent";const eS=je.forwardRef(({className:i,...o},n)=>J.jsx("div",{ref:n,className:Bn("flex items-center p-6 pt-0",i),...o}));eS.displayName="CardFooter";const Fm=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,Gm=tg,fg=(i,o)=>n=>{var e;if(o?.variants==null)return Gm(i,n?.class,n?.className);const{variants:a,defaultVariants:s}=o,u=Object.keys(a).map(p=>{const m=n?.[p],g=s?.[p];if(m===null)return null;const b=Fm(m)||Fm(g);return a[p][b]}),c=n&&Object.entries(n).reduce((p,m)=>{let[g,b]=m;return b===void 0||(p[g]=b),p},{}),f=o==null||(e=o.compoundVariants)===null||e===void 0?void 0:e.reduce((p,m)=>{let{class:g,className:b,...y}=m;return Object.entries(y).every(k=>{let[E,w]=k;return Array.isArray(w)?w.includes({...s,...c}[E]):{...s,...c}[E]===w})?[...p,g,b]:p},[]);return Gm(i,u,f,n?.class,n?.className)},tS=fg("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vm({className:i,variant:o,...n}){return J.jsx("div",{className:Bn(tS({variant:o}),i),...n})}$v();function Km(i,o){if(typeof i=="function")return i(o);i!=null&&(i.current=o)}function nS(...i){return o=>{let n=!1;const e=i.map(a=>{const s=Km(a,o);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<e.length;a++){const s=e[a];typeof s=="function"?s():Km(i[a],null)}}}}function hg(i){const o=rS(i),n=je.forwardRef((e,a)=>{const{children:s,...u}=e,c=je.Children.toArray(s),f=c.find(sS);if(f){const p=f.props.children,m=c.map(g=>g===f?je.Children.count(p)>1?je.Children.only(null):je.isValidElement(p)?p.props.children:null:g);return J.jsx(o,{...u,ref:a,children:je.isValidElement(p)?je.cloneElement(p,void 0,m):null})}return J.jsx(o,{...u,ref:a,children:s})});return n.displayName=`${i}.Slot`,n}var aS=hg("Slot");function rS(i){const o=je.forwardRef((n,e)=>{const{children:a,...s}=n;if(je.isValidElement(a)){const u=oS(a),c=lS(s,a.props);return a.type!==je.Fragment&&(c.ref=e?nS(e,u):u),je.cloneElement(a,c)}return je.Children.count(a)>1?je.Children.only(null):null});return o.displayName=`${i}.SlotClone`,o}var iS=Symbol("radix.slottable");function sS(i){return je.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===iS}function lS(i,o){const n={...o};for(const e in o){const a=i[e],s=o[e];/^on[A-Z]/.test(e)?a&&s?n[e]=(...c)=>{const f=s(...c);return a(...c),f}:a&&(n[e]=a):e==="style"?n[e]={...a,...s}:e==="className"&&(n[e]=[a,s].filter(Boolean).join(" "))}return{...i,...n}}function oS(i){let o=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,n=o&&"isReactWarning"in o&&o.isReactWarning;return n?i.ref:(o=Object.getOwnPropertyDescriptor(i,"ref")?.get,n=o&&"isReactWarning"in o&&o.isReactWarning,n?i.props.ref:i.props.ref||i.ref)}var uS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cS=uS.reduce((i,o)=>{const n=hg(`Primitive.${o}`),e=je.forwardRef((a,s)=>{const{asChild:u,...c}=a,f=u?n:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),J.jsx(f,{...c,ref:s})});return e.displayName=`Primitive.${o}`,{...i,[o]:e}},{}),dS="Separator",Ym="horizontal",fS=["horizontal","vertical"],pg=je.forwardRef((i,o)=>{const{decorative:n,orientation:e=Ym,...a}=i,s=hS(e)?e:Ym,c=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return J.jsx(cS.div,{"data-orientation":s,...c,...a,ref:o})});pg.displayName=dS;function hS(i){return fS.includes(i)}var mg=pg;const vg=je.forwardRef(({className:i,orientation:o="horizontal",decorative:n=!0,...e},a)=>J.jsx(mg,{ref:a,decorative:n,orientation:o,className:Bn("shrink-0 bg-border",o==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...e}));vg.displayName=mg.displayName;const pS="/portfolio/assets/profile-DSPlJJrT.jpg",mS=fg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ms=je.forwardRef(({className:i,variant:o,size:n,asChild:e=!1,...a},s)=>{const u=e?aS:"button";return J.jsx(u,{className:Bn(mS({variant:o,size:n,className:i})),ref:s,...a})});ms.displayName="Button";const gg=()=>{const i="jrmurro@gmail.com",o="Hello, John",n="Just wanted to say hi!",e=`https://mail.google.com/mail/?view=cm&fs=1&to=${i}&su=${encodeURIComponent(o)}&body=${encodeURIComponent(n)}`,a=()=>window.open(e,"_blank"),s=()=>window.location.href=`mailto:${i}?subject=${o}&body=${n}`;return J.jsxs(J.Fragment,{children:[J.jsxs(ms,{variant:"secondary",className:"gmail",onClick:a,children:[J.jsx(Um,{className:"w-4 h-4"}),"Send an Email"]}),J.jsxs(ms,{variant:"secondary",className:"default-email",onClick:s,children:[J.jsx(Um,{className:"w-4 h-4"}),"Send an Email"]})]})};gg.displayName="SendEmail";const yg=()=>{const i="https://www.linkedin.com/in/rexes-murro/",o=()=>window.open(i,"_blank");return J.jsxs(ms,{className:"flex items-center gap-2",onClick:o,children:[J.jsx(s1,{className:"w-4 h-4"}),"Linkedin"]})};yg.displayName="LinkedinReach";function vS(i,o){var n=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!n){if(Array.isArray(i)||(n=vd(i))||o){n&&(i=n);var e=0,a=function(){};return{s:a,n:function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}},e:function(p){throw p},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,u=!0,c=!1;return{s:function(){n=n.call(i)},n:function(){var p=n.next();return u=p.done,p},e:function(p){c=!0,s=p},f:function(){try{u||n.return==null||n.return()}finally{if(c)throw s}}}}function Vc(i){var o=typeof Map=="function"?new Map:void 0;return Vc=function(e){if(e===null||!yS(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(e))return o.get(e);o.set(e,a)}function a(){return gS(e,arguments,vs(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),gs(a,e)},Vc(i)}function gS(i,o,n){if(gd())return Reflect.construct.apply(null,arguments);var e=[null];e.push.apply(e,o);var a=new(i.bind.apply(i,e));return n&&gs(a,n.prototype),a}function yS(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}function za(i,o){return _S(i)||SS(i,o)||vd(i,o)||bS()}function bS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SS(i,o){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var e,a,s,u,c=[],f=!0,p=!1;try{if(s=(n=n.call(i)).next,o===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(e=s.call(n)).done)&&(c.push(e.value),c.length!==o);f=!0);}catch(m){p=!0,a=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw a}}return c}}function _S(i){if(Array.isArray(i))return i}function Es(i){return TS(i)||kS(i)||vd(i)||ES()}function ES(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vd(i,o){if(i){if(typeof i=="string")return Kc(i,o);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kc(i,o):void 0}}function kS(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function TS(i){if(Array.isArray(i))return Kc(i)}function Kc(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,e=Array(o);n<o;n++)e[n]=i[n];return e}function pe(i,o,n){return o=vs(o),wS(i,gd()?Reflect.construct(o,n||[],vs(i).constructor):o.apply(i,n))}function wS(i,o){if(o&&(re(o)=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ur(i)}function Ur(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function gd(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gd=function(){return!!i})()}function vs(i){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},vs(i)}function me(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&gs(i,o)}function gs(i,o){return gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},gs(i,o)}function T(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */T=function(){return o};var i,o={},n=Object.prototype,e=n.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function f(W,Q,q,se){return Object.defineProperty(W,Q,{value:q,enumerable:!se,configurable:!se,writable:!se})}try{f({},"")}catch{f=function(q,se,$){return q[se]=$}}function p(W,Q,q,se){var $=Q&&Q.prototype instanceof b?Q:b,he=Object.create($.prototype);return f(he,"_invoke",(function(U,ee,H){var ke=1;return function(C,Y){if(ke===3)throw Error("Generator is already running");if(ke===4){if(C==="throw")throw Y;return{value:i,done:!0}}for(H.method=C,H.arg=Y;;){var ae=H.delegate;if(ae){var te=P(ae,H);if(te){if(te===g)continue;return te}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(ke===1)throw ke=4,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);ke=3;var ie=m(U,ee,H);if(ie.type==="normal"){if(ke=H.done?4:2,ie.arg===g)continue;return{value:ie.arg,done:H.done}}ie.type==="throw"&&(ke=4,H.method="throw",H.arg=ie.arg)}}})(W,q,new K(se||[])),!0),he}function m(W,Q,q){try{return{type:"normal",arg:W.call(Q,q)}}catch(se){return{type:"throw",arg:se}}}o.wrap=p;var g={};function b(){}function y(){}function k(){}var E={};f(E,s,function(){return this});var w=Object.getPrototypeOf,M=w&&w(w(be([])));M&&M!==n&&e.call(M,s)&&(E=M);var O=k.prototype=b.prototype=Object.create(E);function X(W){["next","throw","return"].forEach(function(Q){f(W,Q,function(q){return this._invoke(Q,q)})})}function ne(W,Q){function q($,he,U,ee){var H=m(W[$],W,he);if(H.type!=="throw"){var ke=H.arg,C=ke.value;return C&&re(C)=="object"&&e.call(C,"__await")?Q.resolve(C.__await).then(function(Y){q("next",Y,U,ee)},function(Y){q("throw",Y,U,ee)}):Q.resolve(C).then(function(Y){ke.value=Y,U(ke)},function(Y){return q("throw",Y,U,ee)})}ee(H.arg)}var se;f(this,"_invoke",function($,he){function U(){return new Q(function(ee,H){q($,he,ee,H)})}return se=se?se.then(U,U):U()},!0)}function P(W,Q){var q=Q.method,se=W.i[q];if(se===i)return Q.delegate=null,q==="throw"&&W.i.return&&(Q.method="return",Q.arg=i,P(W,Q),Q.method==="throw")||q!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+q+"' method")),g;var $=m(se,W.i,Q.arg);if($.type==="throw")return Q.method="throw",Q.arg=$.arg,Q.delegate=null,g;var he=$.arg;return he?he.done?(Q[W.r]=he.value,Q.next=W.n,Q.method!=="return"&&(Q.method="next",Q.arg=i),Q.delegate=null,g):he:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,g)}function G(W){this.tryEntries.push(W)}function le(W){var Q=W[4]||{};Q.type="normal",Q.arg=i,W[4]=Q}function K(W){this.tryEntries=[[-1]],W.forEach(G,this),this.reset(!0)}function be(W){if(W!=null){var Q=W[s];if(Q)return Q.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length)){var q=-1,se=function $(){for(;++q<W.length;)if(e.call(W,q))return $.value=W[q],$.done=!1,$;return $.value=i,$.done=!0,$};return se.next=se}}throw new TypeError(re(W)+" is not iterable")}return y.prototype=k,f(O,"constructor",k),f(k,"constructor",y),y.displayName=f(k,c,"GeneratorFunction"),o.isGeneratorFunction=function(W){var Q=typeof W=="function"&&W.constructor;return!!Q&&(Q===y||(Q.displayName||Q.name)==="GeneratorFunction")},o.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,k):(W.__proto__=k,f(W,c,"GeneratorFunction")),W.prototype=Object.create(O),W},o.awrap=function(W){return{__await:W}},X(ne.prototype),f(ne.prototype,u,function(){return this}),o.AsyncIterator=ne,o.async=function(W,Q,q,se,$){$===void 0&&($=Promise);var he=new ne(p(W,Q,q,se),$);return o.isGeneratorFunction(Q)?he:he.next().then(function(U){return U.done?U.value:he.next()})},X(O),f(O,c,"Generator"),f(O,s,function(){return this}),f(O,"toString",function(){return"[object Generator]"}),o.keys=function(W){var Q=Object(W),q=[];for(var se in Q)q.unshift(se);return function $(){for(;q.length;)if((se=q.pop())in Q)return $.value=se,$.done=!1,$;return $.done=!0,$}},o.values=be,K.prototype={constructor:K,reset:function(Q){if(this.prev=this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(le),!Q)for(var q in this)q.charAt(0)==="t"&&e.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=i)},stop:function(){this.done=!0;var Q=this.tryEntries[0][4];if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var q=this;function se(C){U.type="throw",U.arg=Q,q.next=C}for(var $=q.tryEntries.length-1;$>=0;--$){var he=this.tryEntries[$],U=he[4],ee=this.prev,H=he[1],ke=he[2];if(he[0]===-1)return se("end"),!1;if(!H&&!ke)throw Error("try statement without catch or finally");if(he[0]!=null&&he[0]<=ee){if(ee<H)return this.method="next",this.arg=i,se(H),!0;if(ee<ke)return se(ke),!1}}},abrupt:function(Q,q){for(var se=this.tryEntries.length-1;se>=0;--se){var $=this.tryEntries[se];if($[0]>-1&&$[0]<=this.prev&&this.prev<$[2]){var he=$;break}}he&&(Q==="break"||Q==="continue")&&he[0]<=q&&q<=he[2]&&(he=null);var U=he?he[4]:{};return U.type=Q,U.arg=q,he?(this.method="next",this.next=he[2],g):this.complete(U)},complete:function(Q,q){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&q&&(this.next=q),g},finish:function(Q){for(var q=this.tryEntries.length-1;q>=0;--q){var se=this.tryEntries[q];if(se[2]===Q)return this.complete(se[4],se[3]),le(se),g}},catch:function(Q){for(var q=this.tryEntries.length-1;q>=0;--q){var se=this.tryEntries[q];if(se[0]===Q){var $=se[4];if($.type==="throw"){var he=$.arg;le(se)}return he}}throw Error("illegal catch attempt")},delegateYield:function(Q,q,se){return this.delegate={i:be(Q),r:q,n:se},this.method==="next"&&(this.arg=i),g}},o}function Xm(i,o,n,e,a,s,u){try{var c=i[s](u),f=c.value}catch(p){return void n(p)}c.done?o(f):Promise.resolve(f).then(e,a)}function z(i){return function(){var o=this,n=arguments;return new Promise(function(e,a){var s=i.apply(o,n);function u(f){Xm(s,e,a,u,c,"next",f)}function c(f){Xm(s,e,a,u,c,"throw",f)}u(void 0)})}}function Zm(i,o){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);o&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,e)}return n}function Oe(i){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?Zm(Object(n),!0).forEach(function(e){ro(i,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})}return i}function ro(i,o,n){return(o=bg(o))in i?Object.defineProperty(i,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[o]=n,i}function re(i){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},re(i)}function N(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Jm(i,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,bg(e.key),e)}}function I(i,o,n){return o&&Jm(i.prototype,o),n&&Jm(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}function bg(i){var o=AS(i,"string");return re(o)=="symbol"?o:o+""}function AS(i,o){if(re(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var e=n.call(i,o);if(re(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var CS=(function(){function i(){N(this,i)}return I(i,null,[{key:"render",value:function(n,e){var a=document.createElement("div");a.id="error-view",a.innerText=e,n.replaceChildren(a)}}])})(),xS=(function(){function i(){N(this,i)}return I(i,null,[{key:"onLoad",value:function(n){n.innerHTML='<div id="loading-validate-key-property"></div>'}},{key:"createElements",value:function(){var n=document.createElement("div");return n.id="validate-property-key-view",n}},{key:"render",value:function(n,e,a){var s=i.createElements(),u={onSuccess:e,onFail:CS.render.bind(this,n,"Your 'key' has failed authentication"),onLoad:i.onLoad.bind(this,s)};a.key&&a.verifyKey(a.key,u),n.replaceChildren(s)}}])})(),ct=(function(){function i(){N(this,i)}return I(i,null,[{key:"unsetStyle",value:function(n,e){var a=Object.keys(e).reduce(function(s,u){return s[u]="",s},{});Object.assign(n.style,a)}},{key:"unsetActivityCSSMouseStates",value:function(n,e){e.click&&i.unsetStyle(n,e.click),e.hover&&i.unsetStyle(n,e.hover)}},{key:"unsetAllCSSMouseStates",value:function(n,e){i.unsetActivityCSSMouseStates(n,e),e.default&&i.unsetStyle(n,e.default)}},{key:"processStateful",value:function(n){var e=n.default||{},a=Object.assign(JSON.parse(JSON.stringify(e)),n?.hover),s=Object.assign(JSON.parse(JSON.stringify(a)),n?.click);return{default:e,hover:a,click:s}}},{key:"mergeStatefulStyles",value:function(n){var e={default:{},hover:{},click:{}};return n.forEach(function(a){e.default=Object.assign(e.default,a.default),e.hover=Object.assign(e.hover,a.hover),e.click=Object.assign(e.click,a.click)}),e}},{key:"overwriteDefaultWithAlreadyApplied",value:function(n,e){Object.keys(n.default||[]).forEach(function(a){var s,u=a;e.style[u]&&(s=n.default)!=null&&s[u]&&(n.default[a]=e.style[u])})}},{key:"applyToStyleIfNotDefined",value:function(n,e){for(var a in e){var s=e[a];n[a]===""&&s&&(n[a]=s)}}}])})(),Yc=(function(){function i(){N(this,i)}return I(i,null,[{key:"attemptAppendStyleSheetToHead",value:function(n){if(!(n.fontFamily&&n.fontFamily!==i.DEFAULT_FONT_FAMILY)){var e=document.getElementsByTagName("head")[0];if(!Array.from(e.getElementsByTagName("link")).some(function(s){return s.getAttribute("href")===i.FONT_URL})){var a=document.createElement("link");a.rel="stylesheet",a.href=i.FONT_URL,e.appendChild(a)}}}}])})();Yc.FONT_URL="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap",Yc.DEFAULT_FONT_FAMILY="'Inter', sans-serif, Avenir, Helvetica, Arial";var Sg=Yc,_g=(function(){function i(){N(this,i)}return I(i,null,[{key:"apply",value:function(n,e){if(e)try{i.applyStyleSheet(n,e)}catch{i.addStyleElement(n,e)}}},{key:"applyStyleSheet",value:function(n,e){var a=new CSSStyleSheet;a.replaceSync(n),e.adoptedStyleSheets.push(a)}},{key:"addStyleElement",value:function(n,e){var a=document.createElement("style");a.innerHTML=n,e.appendChild(a)}},{key:"applyDefaultStyleToComponent",value:function(n,e){e&&ct.applyToStyleIfNotDefined(n,e),ct.applyToStyleIfNotDefined(n,i.DEFAULT_COMPONENT_STYLE)}}])})();_g.DEFAULT_COMPONENT_STYLE={height:"350px",width:"320px",borderTop:"1px solid #cacaca",borderRight:"1px solid #cacaca",borderLeft:"1px solid #cacaca",borderBottom:"1px solid #cacaca",fontFamily:Sg.DEFAULT_FONT_FAMILY,fontSize:"0.9rem",backgroundColor:"white",position:"relative",overflow:"hidden"};var Bc=_g,Eg=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildElement",value:function(){var n=document.createElement("div");n.classList.add("tooltip");var e=document.createElement("span");return e.classList.add("tooltip-text"),n.appendChild(e),n}},{key:"tryCreateConfig",value:function(n,e){if(e)return typeof e=="boolean"?{text:n}:{text:e.text||n,timeout:e.timeout||0,style:e.style}}},{key:"traverseParentUntilContainer",value:function(n){for(var e=n;e.parentElement;)e=e.parentElement;return e}},{key:"setPosition",value:function(n,e){var a=e.getRootNode().host.getBoundingClientRect(),s=n.getBoundingClientRect(),u=e.getBoundingClientRect().width/2,c=s.left+s.width/2;e.style.left="".concat(c-u-a.left,"px"),e.style.top="".concat(s.top-36-a.top,"px");var f=e.getBoundingClientRect();f.left<a.left?e.style.left="".concat(i.OVERFLOW_NEW_POSITION_PX,"px"):f.right>a.right&&(e.style.left="".concat(a.width-f.width-i.OVERFLOW_NEW_POSITION_PX,"px"))}},{key:"display",value:function(n,e,a){return a||(a=i.traverseParentUntilContainer(n).nextSibling),e.text&&(a.children[0].textContent=e.text),{timeout:setTimeout(function(){a.style.visibility="visible",i.setPosition(n,a),e.style&&Object.assign(a.style,e.style)},e.timeout||0),element:a}}},{key:"hide",value:function(n,e){clearTimeout(n.timeout),n.element.style.visibility="hidden",e.style&&ct.unsetStyle(n.element,e.style),n.element.style.left="",n.element.style.top=""}}])})();Eg.OVERFLOW_NEW_POSITION_PX=4;var Nn=Eg,Vl=I(function i(){N(this,i)});Vl.IS_SAFARI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Vl.IS_CHROMIUM=window.chrome,Vl.IS_MOBILE=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);var Ua=Vl,mt=(function(i){return i.ESCAPE="Escape",i.ENTER="Enter",i.TAB="Tab",i.ARROW_UP="ArrowUp",i.ARROW_DOWN="ArrowDown",i.ARROW_RIGHT="ArrowRight",i.ARROW_LEFT="ArrowLeft",i.BACKSPACE="Backspace",i.DELETE="Delete",i.META="Meta",i.CONTROL="Control",i})(mt||{}),kg=(function(){function i(){N(this,i)}return I(i,null,[{key:"add",value:function(n,e,a,s){a!==void 0&&n.addEventListener("keydown",i.onKeyDown.bind(this,a)),n.oninput=i.onInput.bind(this,a,s),n.addEventListener("paste",function(u){var c;u.preventDefault(),(c=u.clipboardData)!=null&&c.files.length&&e.addFilesToAnyType(Array.from(u.clipboardData.files))})}},{key:"onKeyDown",value:function(n,e){var a=e.target.textContent;a&&a.length>=n&&!i.PERMITTED_KEYS.has(e.key)&&!i.isKeyCombinationPermitted(e)&&e.preventDefault()}},{key:"isKeyCombinationPermitted",value:function(n){return n.key==="a"?n.ctrlKey||n.metaKey:!1}},{key:"onInput",value:function(n,e,a){var s=a.target,u=s.textContent||"";n!==void 0&&u.length>n&&(s.textContent=u.substring(0,n),yd.focusEndOfInput(s)),e?.()}}])})();kg.PERMITTED_KEYS=new Set([mt.BACKSPACE,mt.DELETE,mt.ARROW_RIGHT,mt.ARROW_LEFT,mt.ARROW_DOWN,mt.ARROW_UP,mt.META,mt.CONTROL,mt.ENTER]);var MS=kg,RS=(function(){function i(){N(this,i)}return I(i,null,[{key:"sanitizePastedTextContent",value:function(n){var e,a;n.preventDefault();var s=(e=n.clipboardData)==null?void 0:e.getData("text/plain");s&&((a=document.execCommand)==null||a.call(document,"insertText",!1,s))}}])})(),Tg=(function(){function i(o,n,e){var a=this;N(this,i);var s,u;this._isComposing=!1;var c=i.processConfig(n,o.textInput);this.elementRef=i.createContainerElement((s=c?.styles)==null?void 0:s.container),this._config=c,this.inputElementRef=this.createInputElement(),this.elementRef.appendChild(this.inputElementRef),o.setPlaceholderText=this.setPlaceholderText.bind(this),o.setPlaceholderText(((u=this._config.placeholder)==null?void 0:u.text)||"Ask me anything!"),setTimeout(function(){MS.add(a.inputElementRef,e,a._config.characterLimit,o._validationHandler),a._onInput=n.onInput})}return I(i,[{key:"clear",value:function(){var n,e,a=window.scrollY;this.inputElementRef.classList.contains("text-input-disabled")||(Object.assign(this.inputElementRef.style,(n=this._config.placeholder)==null?void 0:n.style),this.inputElementRef.textContent="",yd.focusEndOfInput(this.inputElementRef),(e=this._onInput)==null||e.call(this,!1)),Ua.IS_CHROMIUM&&window.scrollTo({top:a})}},{key:"createInputElement",value:function(){var n,e,a,s,u=document.createElement("div");return u.id=i.TEXT_INPUT_ID,u.classList.add("text-input-styling"),u.role="textbox",Ua.IS_CHROMIUM&&i.preventAutomaticScrollUpOnNewLine(u),typeof this._config.disabled=="boolean"&&this._config.disabled===!0?(u.contentEditable="false",u.classList.add("text-input-disabled"),u.setAttribute("aria-disabled","true")):(u.contentEditable="true",u.removeAttribute("aria-disabled"),this.addEventListeners(u)),Object.assign(u.style,(n=this._config.styles)==null?void 0:n.text),Object.assign(u.style,(e=this._config.placeholder)==null?void 0:e.style),(s=(a=this._config.placeholder)==null?void 0:a.style)!=null&&s.color||u.setAttribute("textcolor",""),u}},{key:"removePlaceholderStyle",value:function(){var n,e,a,s;!this.inputElementRef.classList.contains("text-input-disabled")&&(n=this._config.placeholder)!=null&&n.style&&(ct.unsetStyle(this.inputElementRef,(e=this._config.placeholder)==null?void 0:e.style),Object.assign(this.inputElementRef.style,(s=(a=this._config)==null?void 0:a.styles)==null?void 0:s.text))}},{key:"addEventListeners",value:function(n){var e=this,a,s;(a=this._config.styles)!=null&&a.focus&&(n.onfocus=function(){var u;return Object.assign(e.elementRef.style,(u=e._config.styles)==null?void 0:u.focus)},n.onblur=this.onBlur.bind(this,this._config.styles.focus,(s=this._config.styles)==null?void 0:s.container)),n.addEventListener("keydown",this.onKeydown.bind(this)),n.addEventListener("input",this.onInput.bind(this)),n.addEventListener("paste",RS.sanitizePastedTextContent),n.addEventListener("compositionstart",function(){return e._isComposing=!0}),n.addEventListener("compositionend",function(){return e._isComposing=!1})}},{key:"onBlur",value:function(n,e){ct.unsetStyle(this.elementRef,n),e&&Object.assign(this.elementRef.style,e)}},{key:"onKeydown",value:function(n){var e;n.key===mt.ENTER&&!Ua.IS_MOBILE&&!this._isComposing&&!n.ctrlKey&&!n.shiftKey&&(n.preventDefault(),(e=this.submit)==null||e.call(this))}},{key:"onInput",value:function(){var n,e;this.isTextInputEmpty()?Object.assign(this.inputElementRef.style,(n=this._config.placeholder)==null?void 0:n.style):this.removePlaceholderStyle(),(e=this._onInput)==null||e.call(this,!0)}},{key:"setPlaceholderText",value:function(n){this.inputElementRef.setAttribute("deep-chat-placeholder-text",n),this.inputElementRef.setAttribute("aria-label",n)}},{key:"isTextInputEmpty",value:function(){return this.inputElementRef.textContent===""}}],[{key:"processConfig",value:function(n,e){var a,s,u,c;return e??(e={}),(a=e.disabled)!==null&&a!==void 0||(e.disabled=n.isTextInputDisabled),(s=e.placeholder)!==null&&s!==void 0||(e.placeholder={}),(u=(c=e.placeholder).text)!==null&&u!==void 0||(c.text=n.textInputPlaceholderText),e}},{key:"createContainerElement",value:function(n){var e=document.createElement("div");return e.id="text-input-container",Object.assign(e.style,n),e}},{key:"preventAutomaticScrollUpOnNewLine",value:function(n){var e;n.addEventListener("keydown",function(){e=window.scrollY}),n.addEventListener("input",function(){e!==window.scrollY&&window.scrollTo({top:e})})}}])})();Tg.TEXT_INPUT_ID="text-input";var wg=Tg,yd=(function(){function i(){N(this,i)}return I(i,null,[{key:"focusEndOfInput",value:function(n){var e=document.createRange();e.selectNodeContents(n),e.collapse(!1);var a=window.getSelection();a?.removeAllRanges(),a?.addRange(e)}},{key:"focusFromParentElement",value:function(n){var e=n.querySelector("#".concat(wg.TEXT_INPUT_ID));e&&(Ua.IS_SAFARI&&e.focus(),i.focusEndOfInput(e))}}])})();function Qm(i){return i.charAt(0).toUpperCase()+i.slice(1)}function OS(i){return i&&JSON.stringify(i)}function bd(i,o,n,e){var a=`
`.concat(Qm(o)," message: ").concat(JSON.stringify(i),` 
`),s=n?"".concat(Qm(o)," message after interceptor: ").concat(OS(e),` 
`):"";return a+s}function LS(i,o,n,e){return"".concat(bd(i,o,n,e),"Make sure the ").concat(o,` message is using the Response format: https://deepchat.dev/docs/connect/#Response 
You can also augment it using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor`)}function NS(i,o,n){var e="response";return"".concat(bd(i,e,o,n),"Make sure the ").concat(e,' message is using the {text: string} format, e.g: {text: "Model Response"}')}function IS(i,o){var n="request";return"".concat(bd(i,n,o),"Make sure the ").concat(n,' message is using the {body: {text: string}} format, e.g: {body: {text: "Model Response"}}')}var $m=`Make sure the events are using {text: string} or {html: string} format.
You can also augment them using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor`,qe={INVALID_KEY:"Invalid API Key",CONNECTION_FAILED:"Failed to connect",INVALID_RESPONSE:LS,INVALID_MODEL_REQUEST:IS,INVALID_MODEL_RESPONSE:NS,INVALID_STREAM_ARRAY_RESPONSE:"Multi-response arrays are not supported for streaming",INVALID_STREAM_EVENT:$m,INVALID_STREAM_EVENT_MIX:"Cannot mix {text: string} and {html: string} responses.",NO_VALID_STREAM_EVENTS_SENT:`No valid stream events were sent.
`.concat($m),READABLE_STREAM_CONNECTION_ERROR:"Readable Stream connection error."},Ag=(function(){function i(){N(this,i)}return I(i,null,[{key:"addElements",value:function(n){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];a.forEach(function(u){return n.appendChild(u)})}},{key:"isScrollbarAtBottomOfElement",value:function(n){var e=n.scrollHeight,a=n.clientHeight,s=n.scrollTop,u=e-a;return s>=u-i.CODE_SNIPPET_GENERATION_JUMP}},{key:"cloneElement",value:function(n){var e=n.cloneNode(!0);return n.parentNode.replaceChild(e,n),e}},{key:"scrollToBottom",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e?n.scrollTo({left:0,top:n.scrollHeight,behavior:"smooth"}):n.scrollTop=n.scrollHeight}},{key:"scrollToTop",value:function(n){n.scrollTop=0}}])})();Ag.CODE_SNIPPET_GENERATION_JUMP=.5;var Ot=Ag,Cg=(function(){function i(){N(this,i)}return I(i,null,[{key:"speak",value:function(n,e){if(window.SpeechSynthesisUtterance){var a=new SpeechSynthesisUtterance(n);Object.assign(a,e),speechSynthesis.speak(a)}}},{key:"processConfig",value:function(n,e){var a={};setTimeout(function(){if(re(n)=="object"&&(n.lang&&(a.lang=n.lang),n.pitch&&(a.pitch=n.pitch),n.rate&&(a.rate=n.rate),n.volume&&(a.volume=n.volume),n.voiceName)){var s=window.speechSynthesis.getVoices().find(function(u){var c;return u.name.toLocaleLowerCase()===((c=n.voiceName)==null?void 0:c.toLocaleLowerCase())});s&&(a.voice=s)}e(a)},i.LOAD_VOICES_MS)}}])})();Cg.LOAD_VOICES_MS=200;var Kl=Cg,Xc=(function(){function i(){N(this,i)}return I(i,null,[{key:"colorToHex",value:function(n){var e=document.createElement("div");return e.style.color=n,document.body.appendChild(e),"#".concat(window.getComputedStyle(e).color.match(/\d+/g).map(function(a){return parseInt(a).toString(16).padStart(2,"0")}).join(""))}},{key:"setDots",value:function(n,e){var a,s,u,c;if((c=(u=(s=(a=e?.loading)==null?void 0:a.message)==null?void 0:s.styles)==null?void 0:u.bubble)!=null&&c.color){var f=i.colorToHex(e.loading.message.styles.bubble.color);n.style.setProperty("--loading-message-color",f),n.style.setProperty("--loading-message-color-fade","".concat(f,"33"))}else n.style.setProperty("--loading-message-color","#848484"),n.style.setProperty("--loading-message-color-fade","#55555533")}},{key:"setRing",value:function(n,e){var a=e||{},s=a.color,u=a.width,c=a.height,f=a.margin,p=a.border;if(s){var m=i.colorToHex(s);n.style.setProperty("--loading-history-color",m)}else n.style.setProperty("--loading-history-color","#dbdbdb");n.style.setProperty("--loading-history-height",c||"57px"),n.style.setProperty("--loading-history-width",u||"57px"),n.style.setProperty("--loading-history-margin",f||"7px"),n.style.setProperty("--loading-history-border",p||"6px solid")}}])})();Xc.BUBBLE_CLASS="deep-chat-loading-message-bubble",Xc.DOTS_CONTAINER_CLASS="deep-chat-loading-message-dots-container";var Ba=Xc,Zc=(function(){function i(){N(this,i)}return I(i,null,[{key:"setElementProps",value:function(n,e,a,s){var u;a!=="loading"&&(n.applyCustomStyles(e,s,!0,(u=n.messageStyles)==null?void 0:u[a]),e.bubbleElement.classList.add(i.FILE_BUBBLE_CLASS))}},{key:"addMessage",value:function(n,e,a,s,u){i.setElementProps(n,e,a,s),u||(n.appendOuterContainerElemet(e.outerContainer),n.focusMode||(n.elementRef.scrollTop=n.elementRef.scrollHeight))}},{key:"wrapInLink",value:function(n,e,a){var s=document.createElement("a");return s.href=e,s.download=a||i.DEFAULT_FILE_NAME,s.target="_blank",s.appendChild(n),s}},{key:"isNonLinkableDataUrl",value:function(n,e){return!e.startsWith("data")||n==="image"?!1:n==="any"&&e.startsWith("data:text/javascript")||!e.startsWith("data:image")&&!e.startsWith("data:application")}},{key:"processContent",value:function(n,e,a,s){return!a||i.isNonLinkableDataUrl(n,a)?e:i.wrapInLink(e,a,s)}},{key:"waitToLoadThenScroll",value:function(n){setTimeout(function(){n.scrollTop=n.scrollHeight},60)}},{key:"scrollDownOnImageLoad",value:function(n,e){if(n.startsWith("data"))i.waitToLoadThenScroll(e);else try{fetch(n,{mode:"no-cors"}).catch(function(){}).finally(function(){i.waitToLoadThenScroll(e)})}catch{e.scrollTop=e.scrollHeight}}},{key:"reAddFileRefToObject",value:function(n,e){var a;(a=n.files)==null||a.forEach(function(s,u){var c;s.ref&&(c=e.files)!=null&&c[u]&&(e.files[u].ref=s.ref)})}},{key:"removeFileRef",value:function(n){var e=Oe({},n);return delete e.ref,e}},{key:"isAudioFile",value:function(n){var e=/\.(mp3|ogg|wav|aac|webm|4a)$/i,a=n.type,s=n.src;return a==="audio"||s?.startsWith("data:audio")||s&&e.test(s)}},{key:"isImageFile",value:function(n){var e=n.type,a=n.src;return e==="image"||a?.startsWith("data:image")||a&&i.isImageFileExtension(a)}},{key:"isImageFileExtension",value:function(n){return/\.(jpg|jpeg|png|gif|bmp)$/i.test(n)}}])})();Zc.DEFAULT_FILE_NAME="file",Zc.FILE_BUBBLE_CLASS="file-message";var Tt=Zc,Nt=(function(){function i(){N(this,i)}return I(i,null,[{key:"checkForContainerStyles",value:function(n,e){var a=n.containerStyle;a&&(Object.assign(e.style,a),console.error("The containerStyle property is deprecated since version 1.3.14."),console.error("Please change to using the style property instead: https://deepchat.dev/docs/styles#style"))}},{key:"handleResponseProperty",value:function(n){return console.error("The {result: ....} response object type is deprecated since version 1.3.0."),console.error("Please change to using the new response object: https://deepchat.dev/docs/connect#Response"),n.result}},{key:"processHistory",value:function(n){var e=n.initialMessages;if(e)return console.error("The initialMessages property is deprecated since version 2.0.0."),console.error("Please change to using the history property instead: https://deepchat.dev/docs/messages/#history"),e}},{key:"processHistoryFile",value:function(n){var e=n.file;e&&(console.error("The file property in MessageContent is deprecated since version 1.3.17."),console.error("Please change to using the files array property: https://deepchat.dev/docs/messages/#MessageContent"),n.files=[e])}},{key:"processValidateInput",value:function(n){var e=n.validateMessageBeforeSending;if(e)return console.error("The validateMessageBeforeSending property is deprecated since version 1.3.24."),console.error("Please change to using validateInput: https://deepchat.dev/docs/interceptors#validateInput"),e}},{key:"processSubmitUserMessage",value:function(n){return console.error("The submitUserMessage(text: string) argument string type is deprecated since version 1.4.4."),console.error("Please change to using the new argument type: https://deepchat.dev/docs/methods#submitUserMessage"),{text:n}}},{key:"flagHTMLUpdateClass",value:function(n){var e;(e=n.children[0])!=null&&e.classList.contains("deep-chat-update-message")&&(console.error('The "deep-chat-update-message" html class is deprecated since version 1.4.4.'),console.error("Please change to using {..., overwrite: true} object: https://deepchat.dev/docs/connect#Response"))}},{key:"processConnect",value:function(n){var e=n;e.request&&(e.connect?Object.assign(e.connect,e.request):e.connect=e.request,console.error("The request property is deprecated since version 2.0.0."),console.error("Please see the connect object: https://deepchat.dev/docs/connect#connect-1"))}},{key:"checkForStream",value:function(n){var e=n.stream;if(e)return console.error("The stream property has been moved to the connect object in version 2.0.0."),console.error("Please see the connect object: https://deepchat.dev/docs/connect#connect-1"),e}},{key:"fireOnNewMessage",value:function(n,e){var a,s=n;s.onNewMessage&&(console.error("The onNewMessage event has been deprecated since version 2.0.0."),console.error("Please see the onMessage event: https://deepchat.dev/docs/events#onMessage"),(a=s.onNewMessage)==null||a.call(s,e)),n.dispatchEvent(new CustomEvent("new-message",{detail:e}))}},{key:"processFileConfigConnect",value:function(n){var e=n;e.request&&(console.error("The request property in file configuration is deprecated since version 2.0.0."),console.error("Please use the connect property instead: https://deepchat.dev/docs/files"),e.connect||(e.connect=e.request))}},{key:"processMessageStyles",value:function(n){if(n){var e=JSON.parse(JSON.stringify(n)),a=e.loading;return a&&(a.outerContainer||a.innerContainer||a.bubble||a.media)&&(console.error("The loading message styles are defined using LoadingMessageStyles interface since version 2.1.0."),console.error("Check it out here: https://deepchat.dev/docs/messages/styles#LoadingMessageStyles"),e.loading={message:{styles:a}}),e}}},{key:"processDemo",value:function(n){return typeof n=="boolean"||n.displayLoadingBubble&&(console.error("The demo displayLoadingBubble property is deprecated since version 2.1.0."),console.error("Please use displayLoading instead: https://deepchat.dev/docs/modes#demo"),n.displayLoading={message:!0}),n}}])})(),Sd=(function(){function i(){N(this,i)}return I(i,null,[{key:"mouseUp",value:function(n,e){ct.unsetAllCSSMouseStates(n,e),Object.assign(n.style,e.default),Object.assign(n.style,e.hover)}},{key:"mouseDown",value:function(n,e){Object.assign(n.style,e.click)}},{key:"mouseLeave",value:function(n,e){ct.unsetAllCSSMouseStates(n,e),Object.assign(n.style,e.default)}},{key:"mouseEnter",value:function(n,e){Object.assign(n.style,e.hover)}},{key:"add",value:function(n,e){n.addEventListener("mouseenter",i.mouseEnter.bind(this,n,e)),n.addEventListener("mouseleave",i.mouseLeave.bind(this,n,e)),n.addEventListener("mousedown",i.mouseDown.bind(this,n,e)),n.addEventListener("mouseup",i.mouseUp.bind(this,n,e))}}])})(),DS="deep-chat-temporary-message",BS="deep-chat-suggestion-button",Jc={"deep-chat-button":{styles:{default:{backgroundColor:"white",padding:"5px",paddingLeft:"7px",paddingRight:"7px",border:"1px solid #c2c2c2",borderRadius:"6px",cursor:"pointer"},hover:{backgroundColor:"#fafafa"},click:{backgroundColor:"#f1f1f1"}}}},Wm=Object.keys(Jc),Br=(function(){function i(){N(this,i)}return I(i,null,[{key:"applySuggestionEvent",value:function(n,e){setTimeout(function(){e.addEventListener("click",function(){var a,s;(s=n.submitUserMessage)==null||s.call(n,{text:((a=e.textContent)==null?void 0:a.trim())||""})})})}},{key:"isElementTemporary",value:function(n){var e;return n?(e=n.bubbleElement.children[0])==null?void 0:e.classList.contains(DS):!1}},{key:"doesElementContainDeepChatClass",value:function(n){return Wm.find(function(e){return n.classList.contains(e)})}},{key:"applyEvents",value:function(n,e){var a=Jc[e].events;Object.keys(a||[]).forEach(function(s){n.addEventListener(s,a?.[s])})}},{key:"getProcessedStyles",value:function(n,e,a){var s=Array.from(e.classList).reduce(function(p,m){var g,b=(g=n[m])==null?void 0:g.styles;return b&&n[m].styles&&p.push(b),p},[]),u=Jc[a].styles;if(u){var c=JSON.parse(JSON.stringify(u));c.default&&ct.overwriteDefaultWithAlreadyApplied(c,e),s.unshift(c)}var f=ct.mergeStatefulStyles(s);return ct.processStateful(f)}},{key:"applyDeepChatUtilities",value:function(n,e,a){Wm.forEach(function(u){var c=a.getElementsByClassName(u);Array.from(c||[]).forEach(function(f){var p=i.getProcessedStyles(e,f,u);On.applyStylesToElement(f,p),i.applyEvents(f,u)})});var s=a.getElementsByClassName(BS);Array.from(s).forEach(function(u){return i.applySuggestionEvent(n,u)})}}])})(),On=(function(){function i(){N(this,i)}return I(i,null,[{key:"applyStylesToElement",value:function(n,e){var a=ct.processStateful(e);Sd.add(n,a),Object.assign(n.style,a.default)}},{key:"applyEventsToElement",value:function(n,e){Object.keys(e).forEach(function(a){var s=e[a];s&&n.addEventListener(a,s)})}},{key:"applyClassUtilitiesToElement",value:function(n,e){var a=e.events,s=e.styles;a&&i.applyEventsToElement(n,a),s&&!Br.doesElementContainDeepChatClass(n)&&i.applyStylesToElement(n,s)}},{key:"applyCustomClassUtilities",value:function(n,e){Object.keys(n).forEach(function(a){var s=e.getElementsByClassName(a);Array.from(s).forEach(function(u){n[a]&&i.applyClassUtilitiesToElement(u,n[a])})})}},{key:"apply",value:function(n,e){Br.applyDeepChatUtilities(n,n.htmlClassUtilities,e),i.applyCustomClassUtilities(n.htmlClassUtilities,e)}},{key:"traverseNodes",value:function(n,e){n.nodeType===Node.ELEMENT_NODE&&e.push(n.outerHTML),n.childNodes.forEach(function(a){i.traverseNodes(a,e)})}},{key:"splitHTML",value:function(n){var e=new DOMParser().parseFromString(n,"text/html"),a=[];return e.body.childNodes.forEach(function(s){i.traverseNodes(s,a)}),a}},{key:"isTemporaryBasedOnHTML",value:function(n){var e=document.createElement("div");return e.innerHTML=n,Br.isElementTemporary({outerContainer:e,bubbleElement:e,innerContainer:e})}},{key:"replaceElementWithNewClone",value:function(n,e){var a,s=(e||n).cloneNode(!0);return(a=n.parentNode)==null||a.replaceChild(s,n),s}}])})(),xg=(function(){function i(){N(this,i)}return I(i,null,[{key:"addElement",value:function(n,e){n.appendOuterContainerElemet(e),n.focusMode||(n.elementRef.scrollTop=n.elementRef.scrollHeight)}},{key:"createElements",value:function(n,e,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=n.createMessageElementsOnOrientation("",a,s,u);return c.bubbleElement.classList.add(i.HTML_BUBBLE_CLASS),c.bubbleElement.innerHTML=e,c}},{key:"overwriteElements",value:function(n,e,a){a.bubbleElement.innerHTML=e,On.apply(n,a.outerContainer),Nt.flagHTMLUpdateClass(a.bubbleElement)}},{key:"overwrite",value:function(n,e,a,s){var u=n.messageToElements,c=fe.overwriteMessage(u,s,e,a,"html",i.HTML_BUBBLE_CLASS);return c&&i.overwriteElements(n,e,c),c}},{key:"create",value:function(n,e,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u,c=i.createElements(n,e,a,s);return fe.fillEmptyMessageElement(c.bubbleElement,e),On.apply(n,c.outerContainer),Nt.flagHTMLUpdateClass(c.bubbleElement),n.applyCustomStyles(c,a,!1,(u=n.messageStyles)==null?void 0:u.html),c}},{key:"add",value:function(n,e,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(s!=null&&s.status){var c=this.overwrite(n,e,a,n.messageElementRefs);if(c)return c;s.status=!1}if(!(u&&n.messageElementRefs.length>0&&On.isTemporaryBasedOnHTML(e))){var f=i.create(n,e,a,u);return u||i.addElement(n,f.outerContainer),f}}}])})();xg.HTML_BUBBLE_CLASS="html-message";var fa=xg,Pl;function Mg(i){return Pl=Pl||document.createElement("textarea"),Pl.innerHTML="&"+i+";",Pl.value}var US=Object.prototype.hasOwnProperty;function jS(i,o){return i?US.call(i,o):!1}function Rg(i){var o=[].slice.call(arguments,1);return o.forEach(function(n){if(n){if(re(n)!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(e){i[e]=n[e]})}}),i}var zS=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function ys(i){return i.indexOf("\\")<0?i:i.replace(zS,"$1")}function Og(i){return!(i>=55296&&i<=57343||i>=64976&&i<=65007||(i&65535)===65535||(i&65535)===65534||i>=0&&i<=8||i===11||i>=14&&i<=31||i>=127&&i<=159||i>1114111)}function Qc(i){if(i>65535){i-=65536;var o=55296+(i>>10),n=56320+(i&1023);return String.fromCharCode(o,n)}return String.fromCharCode(i)}var PS=/&([a-z#][a-z0-9]{1,31});/gi,HS=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function qS(i,o){var n=0,e=Mg(o);return o!==e?e:o.charCodeAt(0)===35&&HS.test(o)&&(n=o[1].toLowerCase()==="x"?parseInt(o.slice(2),16):parseInt(o.slice(1),10),Og(n))?Qc(n):i}function Pa(i){return i.indexOf("&")<0?i:i.replace(PS,qS)}var FS=/[&<>"]/,GS=/[&<>"]/g,VS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function KS(i){return VS[i]}function Lt(i){return FS.test(i)?i.replace(GS,KS):i}var oe={};oe.blockquote_open=function(){return`<blockquote>
`};oe.blockquote_close=function(i,o){return"</blockquote>"+qa(i,o)};oe.code=function(i,o){return i[o].block?"<pre><code>"+Lt(i[o].content)+"</code></pre>"+qa(i,o):"<code>"+Lt(i[o].content)+"</code>"};oe.fence=function(i,o,n,e,a){var s=i[o],u="",c=n.langPrefix,f="",p,m,g;if(s.params){if(p=s.params.split(/\s+/g),m=p.join(" "),jS(a.rules.fence_custom,p[0]))return a.rules.fence_custom[p[0]](i,o,n,e,a);f=Lt(Pa(ys(m))),u=' class="'+c+f+'"'}return n.highlight?g=n.highlight.apply(n.highlight,[s.content].concat(p))||Lt(s.content):g=Lt(s.content),"<pre><code"+u+">"+g+"</code></pre>"+qa(i,o)};oe.fence_custom={};oe.heading_open=function(i,o){return"<h"+i[o].hLevel+">"};oe.heading_close=function(i,o){return"</h"+i[o].hLevel+`>
`};oe.hr=function(i,o,n){return(n.xhtmlOut?"<hr />":"<hr>")+qa(i,o)};oe.bullet_list_open=function(){return`<ul>
`};oe.bullet_list_close=function(i,o){return"</ul>"+qa(i,o)};oe.list_item_open=function(){return"<li>"};oe.list_item_close=function(){return`</li>
`};oe.ordered_list_open=function(i,o){var n=i[o],e=n.order>1?' start="'+n.order+'"':"";return"<ol"+e+`>
`};oe.ordered_list_close=function(i,o){return"</ol>"+qa(i,o)};oe.paragraph_open=function(i,o){return i[o].tight?"":"<p>"};oe.paragraph_close=function(i,o){var n=!(i[o].tight&&o&&i[o-1].type==="inline"&&!i[o-1].content);return(i[o].tight?"":"</p>")+(n?qa(i,o):"")};oe.link_open=function(i,o,n){var e=i[o].title?' title="'+Lt(Pa(i[o].title))+'"':"",a=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+Lt(i[o].href)+'"'+e+a+">"};oe.link_close=function(){return"</a>"};oe.image=function(i,o,n){var e=' src="'+Lt(i[o].src)+'"',a=i[o].title?' title="'+Lt(Pa(i[o].title))+'"':"",s=' alt="'+(i[o].alt?Lt(Pa(ys(i[o].alt))):"")+'"',u=n.xhtmlOut?" /":"";return"<img"+e+s+a+u+">"};oe.table_open=function(){return`<table>
`};oe.table_close=function(){return`</table>
`};oe.thead_open=function(){return`<thead>
`};oe.thead_close=function(){return`</thead>
`};oe.tbody_open=function(){return`<tbody>
`};oe.tbody_close=function(){return`</tbody>
`};oe.tr_open=function(){return"<tr>"};oe.tr_close=function(){return`</tr>
`};oe.th_open=function(i,o){var n=i[o];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"};oe.th_close=function(){return"</th>"};oe.td_open=function(i,o){var n=i[o];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"};oe.td_close=function(){return"</td>"};oe.strong_open=function(){return"<strong>"};oe.strong_close=function(){return"</strong>"};oe.em_open=function(){return"<em>"};oe.em_close=function(){return"</em>"};oe.del_open=function(){return"<del>"};oe.del_close=function(){return"</del>"};oe.ins_open=function(){return"<ins>"};oe.ins_close=function(){return"</ins>"};oe.mark_open=function(){return"<mark>"};oe.mark_close=function(){return"</mark>"};oe.sub=function(i,o){return"<sub>"+Lt(i[o].content)+"</sub>"};oe.sup=function(i,o){return"<sup>"+Lt(i[o].content)+"</sup>"};oe.hardbreak=function(i,o,n){return n.xhtmlOut?`<br />
`:`<br>
`};oe.softbreak=function(i,o,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};oe.text=function(i,o){return Lt(i[o].content)};oe.htmlblock=function(i,o){return i[o].content};oe.htmltag=function(i,o){return i[o].content};oe.abbr_open=function(i,o){return'<abbr title="'+Lt(Pa(i[o].title))+'">'};oe.abbr_close=function(){return"</abbr>"};oe.footnote_ref=function(i,o){var n=Number(i[o].id+1).toString(),e="fnref"+n;return i[o].subId>0&&(e+=":"+i[o].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+e+'">['+n+"]</a></sup>"};oe.footnote_block_open=function(i,o,n){var e=n.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return e+`<section class="footnotes">
<ol class="footnotes-list">
`};oe.footnote_block_close=function(){return`</ol>
</section>
`};oe.footnote_open=function(i,o){var n=Number(i[o].id+1).toString();return'<li id="fn'+n+'"  class="footnote-item">'};oe.footnote_close=function(){return`</li>
`};oe.footnote_anchor=function(i,o){var n=Number(i[o].id+1).toString(),e="fnref"+n;return i[o].subId>0&&(e+=":"+i[o].subId),' <a href="#'+e+'" class="footnote-backref">↩</a>'};oe.dl_open=function(){return`<dl>
`};oe.dt_open=function(){return"<dt>"};oe.dd_open=function(){return"<dd>"};oe.dl_close=function(){return`</dl>
`};oe.dt_close=function(){return`</dt>
`};oe.dd_close=function(){return`</dd>
`};function Lg(i,o){return++o>=i.length-2?o:i[o].type==="paragraph_open"&&i[o].tight&&i[o+1].type==="inline"&&i[o+1].content.length===0&&i[o+2].type==="paragraph_close"&&i[o+2].tight?Lg(i,o+2):o}var qa=oe.getBreak=function(i,o){return o=Lg(i,o),o<i.length&&i[o].type==="list_item_close"?"":`
`};function _d(){this.rules=Rg({},oe),this.getBreak=oe.getBreak}_d.prototype.renderInline=function(i,o,n){for(var e=this.rules,a=i.length,s=0,u="";a--;)u+=e[i[s].type](i,s++,o,n,this);return u};_d.prototype.render=function(i,o,n){for(var e=this.rules,a=i.length,s=-1,u="";++s<a;)i[s].type==="inline"?u+=this.renderInline(i[s].children,o,n):u+=e[i[s].type](i,s,o,n,this);return u};function Gt(){this.__rules__=[],this.__cache__=null}Gt.prototype.__find__=function(i){for(var o=this.__rules__.length,n=-1;o--;)if(this.__rules__[++n].name===i)return n;return-1};Gt.prototype.__compile__=function(){var i=this,o=[""];i.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(e){o.indexOf(e)<0&&o.push(e)})}),i.__cache__={},o.forEach(function(n){i.__cache__[n]=[],i.__rules__.forEach(function(e){e.enabled&&(n&&e.alt.indexOf(n)<0||i.__cache__[n].push(e.fn))})})};Gt.prototype.at=function(i,o,n){var e=this.__find__(i),a=n||{};if(e===-1)throw new Error("Parser rule not found: "+i);this.__rules__[e].fn=o,this.__rules__[e].alt=a.alt||[],this.__cache__=null};Gt.prototype.before=function(i,o,n,e){var a=this.__find__(i),s=e||{};if(a===-1)throw new Error("Parser rule not found: "+i);this.__rules__.splice(a,0,{name:o,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Gt.prototype.after=function(i,o,n,e){var a=this.__find__(i),s=e||{};if(a===-1)throw new Error("Parser rule not found: "+i);this.__rules__.splice(a+1,0,{name:o,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Gt.prototype.push=function(i,o,n){var e=n||{};this.__rules__.push({name:i,enabled:!0,fn:o,alt:e.alt||[]}),this.__cache__=null};Gt.prototype.enable=function(i,o){i=Array.isArray(i)?i:[i],o&&this.__rules__.forEach(function(n){n.enabled=!1}),i.forEach(function(n){var e=this.__find__(n);if(e<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[e].enabled=!0},this),this.__cache__=null};Gt.prototype.disable=function(i){i=Array.isArray(i)?i:[i],i.forEach(function(o){var n=this.__find__(o);if(n<0)throw new Error("Rules manager: invalid rule name "+o);this.__rules__[n].enabled=!1},this),this.__cache__=null};Gt.prototype.getRules=function(i){return this.__cache__===null&&this.__compile__(),this.__cache__[i]||[]};function YS(i){i.inlineMode?i.tokens.push({type:"inline",content:i.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):i.block.parse(i.src,i.options,i.env,i.tokens)}function Fa(i,o,n,e,a){this.src=i,this.env=e,this.options=n,this.parser=o,this.tokens=a,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}Fa.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};Fa.prototype.push=function(i){this.pending&&this.pushPending(),this.tokens.push(i),this.pendingLevel=this.level};Fa.prototype.cacheSet=function(i,o){for(var n=this.cache.length;n<=i;n++)this.cache.push(0);this.cache[i]=o};Fa.prototype.cacheGet=function(i){return i<this.cache.length?this.cache[i]:0};function bs(i,o){var n,e,a,s=-1,u=i.posMax,c=i.pos,f=i.isInLabel;if(i.isInLabel)return-1;if(i.labelUnmatchedScopes)return i.labelUnmatchedScopes--,-1;for(i.pos=o+1,i.isInLabel=!0,n=1;i.pos<u;){if(a=i.src.charCodeAt(i.pos),a===91)n++;else if(a===93&&(n--,n===0)){e=!0;break}i.parser.skipToken(i)}return e?(s=i.pos,i.labelUnmatchedScopes=0):i.labelUnmatchedScopes=n-1,i.pos=c,i.isInLabel=f,s}function XS(i,o,n,e){var a,s,u,c,f,p;if(i.charCodeAt(0)!==42||i.charCodeAt(1)!==91||i.indexOf("]:")===-1||(a=new Fa(i,o,n,e,[]),s=bs(a,1),s<0||i.charCodeAt(s+1)!==58))return-1;for(c=a.posMax,u=s+2;u<c&&a.src.charCodeAt(u)!==10;u++);return f=i.slice(2,s),p=i.slice(s+2,u).trim(),p.length===0?-1:(e.abbreviations||(e.abbreviations={}),re(e.abbreviations[":"+f])>"u"&&(e.abbreviations[":"+f]=p),u)}function ZS(i){var o=i.tokens,n,e,a,s;if(!i.inlineMode){for(n=1,e=o.length-1;n<e;n++)if(o[n-1].type==="paragraph_open"&&o[n].type==="inline"&&o[n+1].type==="paragraph_close"){for(a=o[n].content;a.length&&(s=XS(a,i.inline,i.options,i.env),!(s<0));)a=a.slice(s).trim();o[n].content=a,a.length||(o[n-1].tight=!0,o[n+1].tight=!0)}}}function $c(i){var o=Pa(i);try{o=decodeURI(o)}catch{}return encodeURI(o)}function Ng(i,o){var n,e,a,s=o,u=i.posMax;if(i.src.charCodeAt(o)===60){for(o++;o<u;){if(n=i.src.charCodeAt(o),n===10)return!1;if(n===62)return a=$c(ys(i.src.slice(s+1,o))),i.parser.validateLink(a)?(i.pos=o+1,i.linkContent=a,!0):!1;if(n===92&&o+1<u){o+=2;continue}o++}return!1}for(e=0;o<u&&(n=i.src.charCodeAt(o),!(n===32||n<32||n===127));){if(n===92&&o+1<u){o+=2;continue}if(n===40&&(e++,e>1)||n===41&&(e--,e<0))break;o++}return s===o||(a=ys(i.src.slice(s,o)),!i.parser.validateLink(a))?!1:(i.linkContent=a,i.pos=o,!0)}function Ig(i,o){var n,e=o,a=i.posMax,s=i.src.charCodeAt(o);if(s!==34&&s!==39&&s!==40)return!1;for(o++,s===40&&(s=41);o<a;){if(n=i.src.charCodeAt(o),n===s)return i.pos=o+1,i.linkContent=ys(i.src.slice(e+1,o)),!0;if(n===92&&o+1<a){o+=2;continue}o++}return!1}function Dg(i){return i.trim().replace(/\s+/g," ").toUpperCase()}function JS(i,o,n,e){var a,s,u,c,f,p,m,g,b;if(i.charCodeAt(0)!==91||i.indexOf("]:")===-1||(a=new Fa(i,o,n,e,[]),s=bs(a,0),s<0||i.charCodeAt(s+1)!==58))return-1;for(c=a.posMax,u=s+2;u<c&&(f=a.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(!Ng(a,u))return-1;for(m=a.linkContent,u=a.pos,p=u,u=u+1;u<c&&(f=a.src.charCodeAt(u),!(f!==32&&f!==10));u++);for(u<c&&p!==u&&Ig(a,u)?(g=a.linkContent,u=a.pos):(g="",u=p);u<c&&a.src.charCodeAt(u)===32;)u++;return u<c&&a.src.charCodeAt(u)!==10?-1:(b=Dg(i.slice(1,s)),re(e.references[b])>"u"&&(e.references[b]={title:g,href:m}),u)}function QS(i){var o=i.tokens,n,e,a,s;if(i.env.references=i.env.references||{},!i.inlineMode){for(n=1,e=o.length-1;n<e;n++)if(o[n].type==="inline"&&o[n-1].type==="paragraph_open"&&o[n+1].type==="paragraph_close"){for(a=o[n].content;a.length&&(s=JS(a,i.inline,i.options,i.env),!(s<0));)a=a.slice(s).trim();o[n].content=a,a.length||(o[n-1].tight=!0,o[n+1].tight=!0)}}}function $S(i){var o=i.tokens,n,e,a;for(e=0,a=o.length;e<a;e++)n=o[e],n.type==="inline"&&i.inline.parse(n.content,i.options,i.env,n.children)}function WS(i){var o,n,e,a,s,u,c,f,p,m=0,g=!1,b={};if(i.env.footnotes&&(i.tokens=i.tokens.filter(function(y){return y.type==="footnote_reference_open"?(g=!0,f=[],p=y.label,!1):y.type==="footnote_reference_close"?(g=!1,b[":"+p]=f,!1):(g&&f.push(y),!g)}),!!i.env.footnotes.list)){for(u=i.env.footnotes.list,i.tokens.push({type:"footnote_block_open",level:m++}),o=0,n=u.length;o<n;o++){for(i.tokens.push({type:"footnote_open",id:o,level:m++}),u[o].tokens?(c=[],c.push({type:"paragraph_open",tight:!1,level:m++}),c.push({type:"inline",content:"",level:m,children:u[o].tokens}),c.push({type:"paragraph_close",tight:!1,level:--m})):u[o].label&&(c=b[":"+u[o].label]),i.tokens=i.tokens.concat(c),i.tokens[i.tokens.length-1].type==="paragraph_close"?s=i.tokens.pop():s=null,a=u[o].count>0?u[o].count:1,e=0;e<a;e++)i.tokens.push({type:"footnote_anchor",id:o,subId:e,level:m});s&&i.tokens.push(s),i.tokens.push({type:"footnote_close",level:--m})}i.tokens.push({type:"footnote_block_close",level:--m})}}var ev=` 
()[]'".,!?-`;function Uc(i){return i.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function e_(i){var o,n,e,a,s,u,c,f,p,m,g,b,y=i.tokens;if(i.env.abbreviations){for(i.env.abbrRegExp||(b="(^|["+ev.split("").map(Uc).join("")+"])("+Object.keys(i.env.abbreviations).map(function(k){return k.substr(1)}).sort(function(k,E){return E.length-k.length}).map(Uc).join("|")+")($|["+ev.split("").map(Uc).join("")+"])",i.env.abbrRegExp=new RegExp(b,"g")),m=i.env.abbrRegExp,n=0,e=y.length;n<e;n++)if(y[n].type==="inline"){for(a=y[n].children,o=a.length-1;o>=0;o--)if(s=a[o],s.type==="text"){for(f=0,u=s.content,m.lastIndex=0,p=s.level,c=[];g=m.exec(u);)m.lastIndex>f&&c.push({type:"text",content:u.slice(f,g.index+g[1].length),level:p}),c.push({type:"abbr_open",title:i.env.abbreviations[":"+g[2]],level:p++}),c.push({type:"text",content:g[2],level:p}),c.push({type:"abbr_close",level:--p}),f=m.lastIndex-g[3].length;c.length&&(f<u.length&&c.push({type:"text",content:u.slice(f),level:p}),y[n].children=a=[].concat(a.slice(0,o),c,a.slice(o+1)))}}}}var t_=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,n_=/\((c|tm|r|p)\)/ig,a_={c:"©",r:"®",p:"§",tm:"™"};function r_(i){return i.indexOf("(")<0?i:i.replace(n_,function(o,n){return a_[n.toLowerCase()]})}function i_(i){var o,n,e,a,s;if(i.options.typographer){for(s=i.tokens.length-1;s>=0;s--)if(i.tokens[s].type==="inline")for(a=i.tokens[s].children,o=a.length-1;o>=0;o--)n=a[o],n.type==="text"&&(e=n.content,e=r_(e),t_.test(e)&&(e=e.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1—$2").replace(/(^|\s)--(\s|$)/mg,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1–$2")),n.content=e)}}var s_=/['"]/,tv=/['"]/g,l_=/[-\s()\[\]]/,nv="’";function av(i,o){return o<0||o>=i.length?!1:!l_.test(i[o])}function Nr(i,o,n){return i.substr(0,o)+n+i.substr(o+1)}function o_(i){var o,n,e,a,s,u,c,f,p,m,g,b,y,k,E,w,M;if(i.options.typographer){for(M=[],E=i.tokens.length-1;E>=0;E--)if(i.tokens[E].type==="inline"){for(w=i.tokens[E].children,M.length=0,o=0;o<w.length;o++)if(n=w[o],!(n.type!=="text"||s_.test(n.text))){for(c=w[o].level,y=M.length-1;y>=0&&!(M[y].level<=c);y--);M.length=y+1,e=n.content,s=0,u=e.length;e:for(;s<u&&(tv.lastIndex=s,a=tv.exec(e),!!a);){if(f=!av(e,a.index-1),s=a.index+1,k=a[0]==="'",p=!av(e,s),!p&&!f){k&&(n.content=Nr(n.content,a.index,nv));continue}if(g=!p,b=!f,b){for(y=M.length-1;y>=0&&(m=M[y],!(M[y].level<c));y--)if(m.single===k&&M[y].level===c){m=M[y],k?(w[m.token].content=Nr(w[m.token].content,m.pos,i.options.quotes[2]),n.content=Nr(n.content,a.index,i.options.quotes[3])):(w[m.token].content=Nr(w[m.token].content,m.pos,i.options.quotes[0]),n.content=Nr(n.content,a.index,i.options.quotes[1])),M.length=y;continue e}}g?M.push({token:o,pos:a.index,single:k,level:c}):b&&k&&(n.content=Nr(n.content,a.index,nv))}}}}}var jc=[["block",YS],["abbr",ZS],["references",QS],["inline",$S],["footnote_tail",WS],["abbr2",e_],["replacements",i_],["smartquotes",o_]];function Bg(){this.options={},this.ruler=new Gt;for(var i=0;i<jc.length;i++)this.ruler.push(jc[i][0],jc[i][1])}Bg.prototype.process=function(i){var o,n,e;for(e=this.ruler.getRules(""),o=0,n=e.length;o<n;o++)e[o](i)};function Ga(i,o,n,e,a){var s,u,c,f,p,m,g;for(this.src=i,this.parser=o,this.options=n,this.env=e,this.tokens=a,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",u=this.src,m=0,g=!1,c=f=m=0,p=u.length;f<p;f++){if(s=u.charCodeAt(f),!g)if(s===32){m++;continue}else g=!0;(s===10||f===p-1)&&(s!==10&&f++,this.bMarks.push(c),this.eMarks.push(f),this.tShift.push(m),g=!1,m=0,c=f+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}Ga.prototype.isEmpty=function(i){return this.bMarks[i]+this.tShift[i]>=this.eMarks[i]};Ga.prototype.skipEmptyLines=function(i){for(var o=this.lineMax;i<o&&!(this.bMarks[i]+this.tShift[i]<this.eMarks[i]);i++);return i};Ga.prototype.skipSpaces=function(i){for(var o=this.src.length;i<o&&this.src.charCodeAt(i)===32;i++);return i};Ga.prototype.skipChars=function(i,o){for(var n=this.src.length;i<n&&this.src.charCodeAt(i)===o;i++);return i};Ga.prototype.skipCharsBack=function(i,o,n){if(i<=n)return i;for(;i>n;)if(o!==this.src.charCodeAt(--i))return i+1;return i};Ga.prototype.getLines=function(i,o,n,e){var a,s,u,c,f,p=i;if(i>=o)return"";if(p+1===o)return s=this.bMarks[p]+Math.min(this.tShift[p],n),u=e?this.eMarks[p]+1:this.eMarks[p],this.src.slice(s,u);for(c=new Array(o-i),a=0;p<o;p++,a++)f=this.tShift[p],f>n&&(f=n),f<0&&(f=0),s=this.bMarks[p]+f,p+1<o||e?u=this.eMarks[p]+1:u=this.eMarks[p],c[a]=this.src.slice(s,u);return c.join("")};function u_(i,o,n){var e,a;if(i.tShift[o]-i.blkIndent<4)return!1;for(a=e=o+1;e<n;){if(i.isEmpty(e)){e++;continue}if(i.tShift[e]-i.blkIndent>=4){e++,a=e;continue}break}return i.line=e,i.tokens.push({type:"code",content:i.getLines(o,a,4+i.blkIndent,!0),block:!0,lines:[o,i.line],level:i.level}),!0}function c_(i,o,n,e){var a,s,u,c,f,p=!1,m=i.bMarks[o]+i.tShift[o],g=i.eMarks[o];if(m+3>g||(a=i.src.charCodeAt(m),a!==126&&a!==96)||(f=m,m=i.skipChars(m,a),s=m-f,s<3)||(u=i.src.slice(m,g).trim(),u.indexOf("`")>=0))return!1;if(e)return!0;for(c=o;c++,!(c>=n||(m=f=i.bMarks[c]+i.tShift[c],g=i.eMarks[c],m<g&&i.tShift[c]<i.blkIndent));)if(i.src.charCodeAt(m)===a&&!(i.tShift[c]-i.blkIndent>=4)&&(m=i.skipChars(m,a),!(m-f<s)&&(m=i.skipSpaces(m),!(m<g)))){p=!0;break}return s=i.tShift[o],i.line=c+(p?1:0),i.tokens.push({type:"fence",params:u,content:i.getLines(o+1,c,s,!0),lines:[o,i.line],level:i.level}),!0}function d_(i,o,n,e){var a,s,u,c,f,p,m,g,b,y,k,E=i.bMarks[o]+i.tShift[o],w=i.eMarks[o];if(E>w||i.src.charCodeAt(E++)!==62||i.level>=i.options.maxNesting)return!1;if(e)return!0;for(i.src.charCodeAt(E)===32&&E++,f=i.blkIndent,i.blkIndent=0,c=[i.bMarks[o]],i.bMarks[o]=E,E=E<w?i.skipSpaces(E):E,s=E>=w,u=[i.tShift[o]],i.tShift[o]=E-i.bMarks[o],g=i.parser.ruler.getRules("blockquote"),a=o+1;a<n&&(E=i.bMarks[a]+i.tShift[a],w=i.eMarks[a],!(E>=w));a++){if(i.src.charCodeAt(E++)===62){i.src.charCodeAt(E)===32&&E++,c.push(i.bMarks[a]),i.bMarks[a]=E,E=E<w?i.skipSpaces(E):E,s=E>=w,u.push(i.tShift[a]),i.tShift[a]=E-i.bMarks[a];continue}if(s)break;for(k=!1,b=0,y=g.length;b<y;b++)if(g[b](i,a,n,!0)){k=!0;break}if(k)break;c.push(i.bMarks[a]),u.push(i.tShift[a]),i.tShift[a]=-1337}for(p=i.parentType,i.parentType="blockquote",i.tokens.push({type:"blockquote_open",lines:m=[o,0],level:i.level++}),i.parser.tokenize(i,o,a),i.tokens.push({type:"blockquote_close",level:--i.level}),i.parentType=p,m[1]=i.line,b=0;b<u.length;b++)i.bMarks[b+o]=c[b],i.tShift[b+o]=u[b];return i.blkIndent=f,!0}function f_(i,o,n,e){var a,s,u,c=i.bMarks[o],f=i.eMarks[o];if(c+=i.tShift[o],c>f||(a=i.src.charCodeAt(c++),a!==42&&a!==45&&a!==95))return!1;for(s=1;c<f;){if(u=i.src.charCodeAt(c++),u!==a&&u!==32)return!1;u===a&&s++}return s<3?!1:(e||(i.line=o+1,i.tokens.push({type:"hr",lines:[o,i.line],level:i.level})),!0)}function rv(i,o){var n,e,a;return e=i.bMarks[o]+i.tShift[o],a=i.eMarks[o],e>=a||(n=i.src.charCodeAt(e++),n!==42&&n!==45&&n!==43)||e<a&&i.src.charCodeAt(e)!==32?-1:e}function iv(i,o){var n,e=i.bMarks[o]+i.tShift[o],a=i.eMarks[o];if(e+1>=a||(n=i.src.charCodeAt(e++),n<48||n>57))return-1;for(;;){if(e>=a)return-1;if(n=i.src.charCodeAt(e++),!(n>=48&&n<=57)){if(n===41||n===46)break;return-1}}return e<a&&i.src.charCodeAt(e)!==32?-1:e}function h_(i,o){var n,e,a=i.level+2;for(n=o+2,e=i.tokens.length-2;n<e;n++)i.tokens[n].level===a&&i.tokens[n].type==="paragraph_open"&&(i.tokens[n+2].tight=!0,i.tokens[n].tight=!0,n+=2)}function p_(i,o,n,e){var a,s,u,c,f,p,m,g,b,y,k,E,w,M,O,X,ne,P,G=!0,le,K,be,W;if((g=iv(i,o))>=0)w=!0;else if((g=rv(i,o))>=0)w=!1;else return!1;if(i.level>=i.options.maxNesting)return!1;if(E=i.src.charCodeAt(g-1),e)return!0;for(O=i.tokens.length,w?(m=i.bMarks[o]+i.tShift[o],k=Number(i.src.substr(m,g-m-1)),i.tokens.push({type:"ordered_list_open",order:k,lines:ne=[o,0],level:i.level++})):i.tokens.push({type:"bullet_list_open",lines:ne=[o,0],level:i.level++}),a=o,X=!1,le=i.parser.ruler.getRules("list");a<n&&(M=i.skipSpaces(g),b=i.eMarks[a],M>=b?y=1:y=M-g,y>4&&(y=1),y<1&&(y=1),s=g-i.bMarks[a]+y,i.tokens.push({type:"list_item_open",lines:P=[o,0],level:i.level++}),c=i.blkIndent,f=i.tight,u=i.tShift[o],p=i.parentType,i.tShift[o]=M-i.bMarks[o],i.blkIndent=s,i.tight=!0,i.parentType="list",i.parser.tokenize(i,o,n,!0),(!i.tight||X)&&(G=!1),X=i.line-o>1&&i.isEmpty(i.line-1),i.blkIndent=c,i.tShift[o]=u,i.tight=f,i.parentType=p,i.tokens.push({type:"list_item_close",level:--i.level}),a=o=i.line,P[1]=a,M=i.bMarks[o],!(a>=n||i.isEmpty(a)||i.tShift[a]<i.blkIndent));){for(W=!1,K=0,be=le.length;K<be;K++)if(le[K](i,a,n,!0)){W=!0;break}if(W)break;if(w){if(g=iv(i,a),g<0)break}else if(g=rv(i,a),g<0)break;if(E!==i.src.charCodeAt(g-1))break}return i.tokens.push({type:w?"ordered_list_close":"bullet_list_close",level:--i.level}),ne[1]=a,i.line=a,G&&h_(i,O),!0}function m_(i,o,n,e){var a,s,u,c,f,p=i.bMarks[o]+i.tShift[o],m=i.eMarks[o];if(p+4>m||i.src.charCodeAt(p)!==91||i.src.charCodeAt(p+1)!==94||i.level>=i.options.maxNesting)return!1;for(c=p+2;c<m;c++){if(i.src.charCodeAt(c)===32)return!1;if(i.src.charCodeAt(c)===93)break}return c===p+2||c+1>=m||i.src.charCodeAt(++c)!==58?!1:(e||(c++,i.env.footnotes||(i.env.footnotes={}),i.env.footnotes.refs||(i.env.footnotes.refs={}),f=i.src.slice(p+2,c-2),i.env.footnotes.refs[":"+f]=-1,i.tokens.push({type:"footnote_reference_open",label:f,level:i.level++}),a=i.bMarks[o],s=i.tShift[o],u=i.parentType,i.tShift[o]=i.skipSpaces(c)-c,i.bMarks[o]=c,i.blkIndent+=4,i.parentType="footnote",i.tShift[o]<i.blkIndent&&(i.tShift[o]+=i.blkIndent,i.bMarks[o]-=i.blkIndent),i.parser.tokenize(i,o,n,!0),i.parentType=u,i.blkIndent-=4,i.tShift[o]=s,i.bMarks[o]=a,i.tokens.push({type:"footnote_reference_close",level:--i.level})),!0)}function v_(i,o,n,e){var a,s,u,c=i.bMarks[o]+i.tShift[o],f=i.eMarks[o];if(c>=f||(a=i.src.charCodeAt(c),a!==35||c>=f))return!1;for(s=1,a=i.src.charCodeAt(++c);a===35&&c<f&&s<=6;)s++,a=i.src.charCodeAt(++c);return s>6||c<f&&a!==32?!1:(e||(f=i.skipCharsBack(f,32,c),u=i.skipCharsBack(f,35,c),u>c&&i.src.charCodeAt(u-1)===32&&(f=u),i.line=o+1,i.tokens.push({type:"heading_open",hLevel:s,lines:[o,i.line],level:i.level}),c<f&&i.tokens.push({type:"inline",content:i.src.slice(c,f).trim(),level:i.level+1,lines:[o,i.line],children:[]}),i.tokens.push({type:"heading_close",hLevel:s,level:i.level})),!0)}function g_(i,o,n){var e,a,s,u=o+1;return u>=n||i.tShift[u]<i.blkIndent||i.tShift[u]-i.blkIndent>3||(a=i.bMarks[u]+i.tShift[u],s=i.eMarks[u],a>=s)||(e=i.src.charCodeAt(a),e!==45&&e!==61)||(a=i.skipChars(a,e),a=i.skipSpaces(a),a<s)?!1:(a=i.bMarks[o]+i.tShift[o],i.line=u+1,i.tokens.push({type:"heading_open",hLevel:e===61?1:2,lines:[o,i.line],level:i.level}),i.tokens.push({type:"inline",content:i.src.slice(a,i.eMarks[o]).trim(),level:i.level+1,lines:[o,i.line-1],children:[]}),i.tokens.push({type:"heading_close",hLevel:e===61?1:2,level:i.level}),!0)}var Ug={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(i){Ug[i]=!0});var y_=/^<([a-zA-Z]{1,15})[\s\/>]/,b_=/^<\/([a-zA-Z]{1,15})[\s>]/;function S_(i){var o=i|32;return o>=97&&o<=122}function __(i,o,n,e){var a,s,u,c=i.bMarks[o],f=i.eMarks[o],p=i.tShift[o];if(c+=p,!i.options.html||p>3||c+2>=f||i.src.charCodeAt(c)!==60)return!1;if(a=i.src.charCodeAt(c+1),a===33||a===63){if(e)return!0}else if(a===47||S_(a)){if(a===47){if(s=i.src.slice(c,f).match(b_),!s)return!1}else if(s=i.src.slice(c,f).match(y_),!s)return!1;if(Ug[s[1].toLowerCase()]!==!0)return!1;if(e)return!0}else return!1;for(u=o+1;u<i.lineMax&&!i.isEmpty(u);)u++;return i.line=u,i.tokens.push({type:"htmlblock",level:i.level,lines:[o,i.line],content:i.getLines(o,u,0,!0)}),!0}function zc(i,o){var n=i.bMarks[o]+i.blkIndent,e=i.eMarks[o];return i.src.substr(n,e-n)}function E_(i,o,n,e){var a,s,u,c,f,p,m,g,b,y,k;if(o+2>n||(f=o+1,i.tShift[f]<i.blkIndent)||(u=i.bMarks[f]+i.tShift[f],u>=i.eMarks[f])||(a=i.src.charCodeAt(u),a!==124&&a!==45&&a!==58)||(s=zc(i,o+1),!/^[-:| ]+$/.test(s))||(p=s.split("|"),p<=2))return!1;for(g=[],c=0;c<p.length;c++){if(b=p[c].trim(),!b){if(c===0||c===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;b.charCodeAt(b.length-1)===58?g.push(b.charCodeAt(0)===58?"center":"right"):b.charCodeAt(0)===58?g.push("left"):g.push("")}if(s=zc(i,o).trim(),s.indexOf("|")===-1||(p=s.replace(/^\||\|$/g,"").split("|"),g.length!==p.length))return!1;if(e)return!0;for(i.tokens.push({type:"table_open",lines:y=[o,0],level:i.level++}),i.tokens.push({type:"thead_open",lines:[o,o+1],level:i.level++}),i.tokens.push({type:"tr_open",lines:[o,o+1],level:i.level++}),c=0;c<p.length;c++)i.tokens.push({type:"th_open",align:g[c],lines:[o,o+1],level:i.level++}),i.tokens.push({type:"inline",content:p[c].trim(),lines:[o,o+1],level:i.level,children:[]}),i.tokens.push({type:"th_close",level:--i.level});for(i.tokens.push({type:"tr_close",level:--i.level}),i.tokens.push({type:"thead_close",level:--i.level}),i.tokens.push({type:"tbody_open",lines:k=[o+2,0],level:i.level++}),f=o+2;f<n&&!(i.tShift[f]<i.blkIndent||(s=zc(i,f).trim(),s.indexOf("|")===-1));f++){for(p=s.replace(/^\||\|$/g,"").split("|"),i.tokens.push({type:"tr_open",level:i.level++}),c=0;c<p.length;c++)i.tokens.push({type:"td_open",align:g[c],level:i.level++}),m=p[c].substring(p[c].charCodeAt(0)===124?1:0,p[c].charCodeAt(p[c].length-1)===124?p[c].length-1:p[c].length).trim(),i.tokens.push({type:"inline",content:m,level:i.level,children:[]}),i.tokens.push({type:"td_close",level:--i.level});i.tokens.push({type:"tr_close",level:--i.level})}return i.tokens.push({type:"tbody_close",level:--i.level}),i.tokens.push({type:"table_close",level:--i.level}),y[1]=k[1]=f,i.line=f,!0}function Hl(i,o){var n,e,a=i.bMarks[o]+i.tShift[o],s=i.eMarks[o];return a>=s||(e=i.src.charCodeAt(a++),e!==126&&e!==58)||(n=i.skipSpaces(a),a===n)||n>=s?-1:n}function k_(i,o){var n,e,a=i.level+2;for(n=o+2,e=i.tokens.length-2;n<e;n++)i.tokens[n].level===a&&i.tokens[n].type==="paragraph_open"&&(i.tokens[n+2].tight=!0,i.tokens[n].tight=!0,n+=2)}function T_(i,o,n,e){var a,s,u,c,f,p,m,g,b,y,k,E,w,M;if(e)return i.ddIndent<0?!1:Hl(i,o)>=0;if(m=o+1,i.isEmpty(m)&&++m>n||i.tShift[m]<i.blkIndent||(a=Hl(i,m),a<0)||i.level>=i.options.maxNesting)return!1;p=i.tokens.length,i.tokens.push({type:"dl_open",lines:f=[o,0],level:i.level++}),u=o,s=m;e:for(;;){for(M=!0,w=!1,i.tokens.push({type:"dt_open",lines:[u,u],level:i.level++}),i.tokens.push({type:"inline",content:i.getLines(u,u+1,i.blkIndent,!1).trim(),level:i.level+1,lines:[u,u],children:[]}),i.tokens.push({type:"dt_close",level:--i.level});;){if(i.tokens.push({type:"dd_open",lines:c=[m,0],level:i.level++}),E=i.tight,b=i.ddIndent,g=i.blkIndent,k=i.tShift[s],y=i.parentType,i.blkIndent=i.ddIndent=i.tShift[s]+2,i.tShift[s]=a-i.bMarks[s],i.tight=!0,i.parentType="deflist",i.parser.tokenize(i,s,n,!0),(!i.tight||w)&&(M=!1),w=i.line-s>1&&i.isEmpty(i.line-1),i.tShift[s]=k,i.tight=E,i.parentType=y,i.blkIndent=g,i.ddIndent=b,i.tokens.push({type:"dd_close",level:--i.level}),c[1]=m=i.line,m>=n||i.tShift[m]<i.blkIndent)break e;if(a=Hl(i,m),a<0)break;s=m}if(m>=n||(u=m,i.isEmpty(u))||i.tShift[u]<i.blkIndent||(s=u+1,s>=n)||(i.isEmpty(s)&&s++,s>=n)||i.tShift[s]<i.blkIndent||(a=Hl(i,s),a<0))break}return i.tokens.push({type:"dl_close",level:--i.level}),f[1]=m,i.line=m,M&&k_(i,p),!0}function w_(i,o){var n,e,a,s,u,c=o+1,f;if(n=i.lineMax,c<n&&!i.isEmpty(c)){for(f=i.parser.ruler.getRules("paragraph");c<n&&!i.isEmpty(c);c++)if(!(i.tShift[c]-i.blkIndent>3)){for(a=!1,s=0,u=f.length;s<u;s++)if(f[s](i,c,n,!0)){a=!0;break}if(a)break}}return e=i.getLines(o,c,i.blkIndent,!1).trim(),i.line=c,e.length&&(i.tokens.push({type:"paragraph_open",tight:!1,lines:[o,i.line],level:i.level}),i.tokens.push({type:"inline",content:e,level:i.level+1,lines:[o,i.line],children:[]}),i.tokens.push({type:"paragraph_close",tight:!1,level:i.level})),!0}var ql=[["code",u_],["fences",c_,["paragraph","blockquote","list"]],["blockquote",d_,["paragraph","blockquote","list"]],["hr",f_,["paragraph","blockquote","list"]],["list",p_,["paragraph","blockquote"]],["footnote",m_,["paragraph"]],["heading",v_,["paragraph","blockquote"]],["lheading",g_],["htmlblock",__,["paragraph","blockquote"]],["table",E_,["paragraph"]],["deflist",T_,["paragraph"]],["paragraph",w_]];function Ed(){this.ruler=new Gt;for(var i=0;i<ql.length;i++)this.ruler.push(ql[i][0],ql[i][1],{alt:(ql[i][2]||[]).slice()})}Ed.prototype.tokenize=function(i,o,n){for(var e=this.ruler.getRules(""),a=e.length,s=o,u=!1,c,f;s<n&&(i.line=s=i.skipEmptyLines(s),!(s>=n||i.tShift[s]<i.blkIndent));){for(f=0;f<a&&(c=e[f](i,s,n,!1),!c);f++);if(i.tight=!u,i.isEmpty(i.line-1)&&(u=!0),s=i.line,s<n&&i.isEmpty(s)){if(u=!0,s++,s<n&&i.parentType==="list"&&i.isEmpty(s))break;i.line=s}}};var A_=/[\n\t]/g,C_=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,x_=/\u00a0/g;Ed.prototype.parse=function(i,o,n,e){var a,s=0,u=0;if(!i)return[];i=i.replace(x_," "),i=i.replace(C_,`
`),i.indexOf("	")>=0&&(i=i.replace(A_,function(c,f){var p;return i.charCodeAt(f)===10?(s=f+1,u=0,c):(p="    ".slice((f-s-u)%4),u=f-s+1,p)})),a=new Ga(i,this,o,n,e),this.tokenize(a,a.line,a.lineMax)};function M_(i){switch(i){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function R_(i,o){for(var n=i.pos;n<i.posMax&&!M_(i.src.charCodeAt(n));)n++;return n===i.pos?!1:(o||(i.pending+=i.src.slice(i.pos,n)),i.pos=n,!0)}function O_(i,o){var n,e,a=i.pos;if(i.src.charCodeAt(a)!==10)return!1;if(n=i.pending.length-1,e=i.posMax,!o)if(n>=0&&i.pending.charCodeAt(n)===32)if(n>=1&&i.pending.charCodeAt(n-1)===32){for(var s=n-2;s>=0;s--)if(i.pending.charCodeAt(s)!==32){i.pending=i.pending.substring(0,s+1);break}i.push({type:"hardbreak",level:i.level})}else i.pending=i.pending.slice(0,-1),i.push({type:"softbreak",level:i.level});else i.push({type:"softbreak",level:i.level});for(a++;a<e&&i.src.charCodeAt(a)===32;)a++;return i.pos=a,!0}var kd=[];for(var sv=0;sv<256;sv++)kd.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(i){kd[i.charCodeAt(0)]=1});function L_(i,o){var n,e=i.pos,a=i.posMax;if(i.src.charCodeAt(e)!==92)return!1;if(e++,e<a){if(n=i.src.charCodeAt(e),n<256&&kd[n]!==0)return o||(i.pending+=i.src[e]),i.pos+=2,!0;if(n===10){for(o||i.push({type:"hardbreak",level:i.level}),e++;e<a&&i.src.charCodeAt(e)===32;)e++;return i.pos=e,!0}}return o||(i.pending+="\\"),i.pos++,!0}function N_(i,o){var n,e,a,s,u,c=i.pos,f=i.src.charCodeAt(c);if(f!==96)return!1;for(n=c,c++,e=i.posMax;c<e&&i.src.charCodeAt(c)===96;)c++;for(a=i.src.slice(n,c),s=u=c;(s=i.src.indexOf("`",u))!==-1;){for(u=s+1;u<e&&i.src.charCodeAt(u)===96;)u++;if(u-s===a.length)return o||i.push({type:"code",content:i.src.slice(c,s).replace(/[ \n]+/g," ").trim(),block:!1,level:i.level}),i.pos=u,!0}return o||(i.pending+=a),i.pos+=a.length,!0}function I_(i,o){var n,e,a,s=i.posMax,u=i.pos,c,f;if(i.src.charCodeAt(u)!==126||o||u+4>=s||i.src.charCodeAt(u+1)!==126||i.level>=i.options.maxNesting||(c=u>0?i.src.charCodeAt(u-1):-1,f=i.src.charCodeAt(u+2),c===126)||f===126||f===32||f===10)return!1;for(e=u+2;e<s&&i.src.charCodeAt(e)===126;)e++;if(e>u+3)return i.pos+=e-u,o||(i.pending+=i.src.slice(u,e)),!0;for(i.pos=u+2,a=1;i.pos+1<s;){if(i.src.charCodeAt(i.pos)===126&&i.src.charCodeAt(i.pos+1)===126&&(c=i.src.charCodeAt(i.pos-1),f=i.pos+2<s?i.src.charCodeAt(i.pos+2):-1,f!==126&&c!==126&&(c!==32&&c!==10?a--:f!==32&&f!==10&&a++,a<=0))){n=!0;break}i.parser.skipToken(i)}return n?(i.posMax=i.pos,i.pos=u+2,o||(i.push({type:"del_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"del_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=s,!0):(i.pos=u,!1)}function D_(i,o){var n,e,a,s=i.posMax,u=i.pos,c,f;if(i.src.charCodeAt(u)!==43||o||u+4>=s||i.src.charCodeAt(u+1)!==43||i.level>=i.options.maxNesting||(c=u>0?i.src.charCodeAt(u-1):-1,f=i.src.charCodeAt(u+2),c===43)||f===43||f===32||f===10)return!1;for(e=u+2;e<s&&i.src.charCodeAt(e)===43;)e++;if(e!==u+2)return i.pos+=e-u,o||(i.pending+=i.src.slice(u,e)),!0;for(i.pos=u+2,a=1;i.pos+1<s;){if(i.src.charCodeAt(i.pos)===43&&i.src.charCodeAt(i.pos+1)===43&&(c=i.src.charCodeAt(i.pos-1),f=i.pos+2<s?i.src.charCodeAt(i.pos+2):-1,f!==43&&c!==43&&(c!==32&&c!==10?a--:f!==32&&f!==10&&a++,a<=0))){n=!0;break}i.parser.skipToken(i)}return n?(i.posMax=i.pos,i.pos=u+2,o||(i.push({type:"ins_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"ins_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=s,!0):(i.pos=u,!1)}function B_(i,o){var n,e,a,s=i.posMax,u=i.pos,c,f;if(i.src.charCodeAt(u)!==61||o||u+4>=s||i.src.charCodeAt(u+1)!==61||i.level>=i.options.maxNesting||(c=u>0?i.src.charCodeAt(u-1):-1,f=i.src.charCodeAt(u+2),c===61)||f===61||f===32||f===10)return!1;for(e=u+2;e<s&&i.src.charCodeAt(e)===61;)e++;if(e!==u+2)return i.pos+=e-u,o||(i.pending+=i.src.slice(u,e)),!0;for(i.pos=u+2,a=1;i.pos+1<s;){if(i.src.charCodeAt(i.pos)===61&&i.src.charCodeAt(i.pos+1)===61&&(c=i.src.charCodeAt(i.pos-1),f=i.pos+2<s?i.src.charCodeAt(i.pos+2):-1,f!==61&&c!==61&&(c!==32&&c!==10?a--:f!==32&&f!==10&&a++,a<=0))){n=!0;break}i.parser.skipToken(i)}return n?(i.posMax=i.pos,i.pos=u+2,o||(i.push({type:"mark_open",level:i.level++}),i.parser.tokenize(i),i.push({type:"mark_close",level:--i.level})),i.pos=i.posMax+2,i.posMax=s,!0):(i.pos=u,!1)}function lv(i){return i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122}function ov(i,o){var n=o,e,a,s,u=!0,c=!0,f=i.posMax,p=i.src.charCodeAt(o);for(e=o>0?i.src.charCodeAt(o-1):-1;n<f&&i.src.charCodeAt(n)===p;)n++;return n>=f&&(u=!1),s=n-o,s>=4?u=c=!1:(a=n<f?i.src.charCodeAt(n):-1,(a===32||a===10)&&(u=!1),(e===32||e===10)&&(c=!1),p===95&&(lv(e)&&(u=!1),lv(a)&&(c=!1))),{can_open:u,can_close:c,delims:s}}function U_(i,o){var n,e,a,s,u,c,f,p=i.posMax,m=i.pos,g=i.src.charCodeAt(m);if(g!==95&&g!==42||o)return!1;if(f=ov(i,m),n=f.delims,!f.can_open)return i.pos+=n,o||(i.pending+=i.src.slice(m,i.pos)),!0;if(i.level>=i.options.maxNesting)return!1;for(i.pos=m+n,c=[n];i.pos<p;){if(i.src.charCodeAt(i.pos)===g){if(f=ov(i,i.pos),e=f.delims,f.can_close){for(s=c.pop(),u=e;s!==u;){if(u<s){c.push(s-u);break}if(u-=s,c.length===0)break;i.pos+=s,s=c.pop()}if(c.length===0){n=s,a=!0;break}i.pos+=e;continue}f.can_open&&c.push(e),i.pos+=e;continue}i.parser.skipToken(i)}return a?(i.posMax=i.pos,i.pos=m+n,o||((n===2||n===3)&&i.push({type:"strong_open",level:i.level++}),(n===1||n===3)&&i.push({type:"em_open",level:i.level++}),i.parser.tokenize(i),(n===1||n===3)&&i.push({type:"em_close",level:--i.level}),(n===2||n===3)&&i.push({type:"strong_close",level:--i.level})),i.pos=i.posMax+n,i.posMax=p,!0):(i.pos=m,!1)}var j_=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function z_(i,o){var n,e,a=i.posMax,s=i.pos;if(i.src.charCodeAt(s)!==126||o||s+2>=a||i.level>=i.options.maxNesting)return!1;for(i.pos=s+1;i.pos<a;){if(i.src.charCodeAt(i.pos)===126){n=!0;break}i.parser.skipToken(i)}return!n||s+1===i.pos||(e=i.src.slice(s+1,i.pos),e.match(/(^|[^\\])(\\\\)*\s/))?(i.pos=s,!1):(i.posMax=i.pos,i.pos=s+1,o||i.push({type:"sub",level:i.level,content:e.replace(j_,"$1")}),i.pos=i.posMax+1,i.posMax=a,!0)}var P_=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function H_(i,o){var n,e,a=i.posMax,s=i.pos;if(i.src.charCodeAt(s)!==94||o||s+2>=a||i.level>=i.options.maxNesting)return!1;for(i.pos=s+1;i.pos<a;){if(i.src.charCodeAt(i.pos)===94){n=!0;break}i.parser.skipToken(i)}return!n||s+1===i.pos||(e=i.src.slice(s+1,i.pos),e.match(/(^|[^\\])(\\\\)*\s/))?(i.pos=s,!1):(i.posMax=i.pos,i.pos=s+1,o||i.push({type:"sup",level:i.level,content:e.replace(P_,"$1")}),i.pos=i.posMax+1,i.posMax=a,!0)}function q_(i,o){var n,e,a,s,u,c,f,p,m=!1,g=i.pos,b=i.posMax,y=i.pos,k=i.src.charCodeAt(y);if(k===33&&(m=!0,k=i.src.charCodeAt(++y)),k!==91||i.level>=i.options.maxNesting||(n=y+1,e=bs(i,y),e<0))return!1;if(c=e+1,c<b&&i.src.charCodeAt(c)===40){for(c++;c<b&&(p=i.src.charCodeAt(c),!(p!==32&&p!==10));c++);if(c>=b)return!1;for(y=c,Ng(i,c)?(s=i.linkContent,c=i.pos):s="",y=c;c<b&&(p=i.src.charCodeAt(c),!(p!==32&&p!==10));c++);if(c<b&&y!==c&&Ig(i,c))for(u=i.linkContent,c=i.pos;c<b&&(p=i.src.charCodeAt(c),!(p!==32&&p!==10));c++);else u="";if(c>=b||i.src.charCodeAt(c)!==41)return i.pos=g,!1;c++}else{if(i.linkLevel>0)return!1;for(;c<b&&(p=i.src.charCodeAt(c),!(p!==32&&p!==10));c++);if(c<b&&i.src.charCodeAt(c)===91&&(y=c+1,c=bs(i,c),c>=0?a=i.src.slice(y,c++):c=y-1),a||(re(a)>"u"&&(c=e+1),a=i.src.slice(n,e)),f=i.env.references[Dg(a)],!f)return i.pos=g,!1;s=f.href,u=f.title}return o||(i.pos=n,i.posMax=e,m?i.push({type:"image",src:s,title:u,alt:i.src.substr(n,e-n),level:i.level}):(i.push({type:"link_open",href:s,title:u,level:i.level++}),i.linkLevel++,i.parser.tokenize(i),i.linkLevel--,i.push({type:"link_close",level:--i.level}))),i.pos=c,i.posMax=b,!0}function F_(i,o){var n,e,a,s,u=i.posMax,c=i.pos;return c+2>=u||i.src.charCodeAt(c)!==94||i.src.charCodeAt(c+1)!==91||i.level>=i.options.maxNesting||(n=c+2,e=bs(i,c+1),e<0)?!1:(o||(i.env.footnotes||(i.env.footnotes={}),i.env.footnotes.list||(i.env.footnotes.list=[]),a=i.env.footnotes.list.length,i.pos=n,i.posMax=e,i.push({type:"footnote_ref",id:a,level:i.level}),i.linkLevel++,s=i.tokens.length,i.parser.tokenize(i),i.env.footnotes.list[a]={tokens:i.tokens.splice(s)},i.linkLevel--),i.pos=e+1,i.posMax=u,!0)}function G_(i,o){var n,e,a,s,u=i.posMax,c=i.pos;if(c+3>u||!i.env.footnotes||!i.env.footnotes.refs||i.src.charCodeAt(c)!==91||i.src.charCodeAt(c+1)!==94||i.level>=i.options.maxNesting)return!1;for(e=c+2;e<u;e++){if(i.src.charCodeAt(e)===32||i.src.charCodeAt(e)===10)return!1;if(i.src.charCodeAt(e)===93)break}return e===c+2||e>=u||(e++,n=i.src.slice(c+2,e-1),re(i.env.footnotes.refs[":"+n])>"u")?!1:(o||(i.env.footnotes.list||(i.env.footnotes.list=[]),i.env.footnotes.refs[":"+n]<0?(a=i.env.footnotes.list.length,i.env.footnotes.list[a]={label:n,count:0},i.env.footnotes.refs[":"+n]=a):a=i.env.footnotes.refs[":"+n],s=i.env.footnotes.list[a].count,i.env.footnotes.list[a].count++,i.push({type:"footnote_ref",id:a,subId:s,level:i.level})),i.pos=e,i.posMax=u,!0)}var V_=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],K_=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Y_=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function X_(i,o){var n,e,a,s,u,c=i.pos;return i.src.charCodeAt(c)!==60||(n=i.src.slice(c),n.indexOf(">")<0)?!1:(e=n.match(Y_),e?V_.indexOf(e[1].toLowerCase())<0||(s=e[0].slice(1,-1),u=$c(s),!i.parser.validateLink(s))?!1:(o||(i.push({type:"link_open",href:u,level:i.level}),i.push({type:"text",content:s,level:i.level+1}),i.push({type:"link_close",level:i.level})),i.pos+=e[0].length,!0):(a=n.match(K_),a?(s=a[0].slice(1,-1),u=$c("mailto:"+s),i.parser.validateLink(u)?(o||(i.push({type:"link_open",href:u,level:i.level}),i.push({type:"text",content:s,level:i.level+1}),i.push({type:"link_close",level:i.level})),i.pos+=a[0].length,!0):!1):!1))}function lo(i,o){return i=i.source,o=o||"",function n(e,a){return e?(a=a.source||a,i=i.replace(e,a),n):new RegExp(i,o)}}var Z_=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,J_=/[^"'=<>`\x00-\x20]+/,Q_=/'[^']*'/,$_=/"[^"]*"/,W_=lo(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",J_)("single_quoted",Q_)("double_quoted",$_)(),eE=lo(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Z_)("attr_value",W_)(),tE=lo(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",eE)(),nE=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,aE=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,rE=/<[?].*?[?]>/,iE=/<![A-Z]+\s+[^>]*>/,sE=/<!\[CDATA\[[\s\S]*?\]\]>/,lE=lo(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",tE)("close_tag",nE)("comment",aE)("processing",rE)("declaration",iE)("cdata",sE)();function oE(i){var o=i|32;return o>=97&&o<=122}function uE(i,o){var n,e,a,s=i.pos;return!i.options.html||(a=i.posMax,i.src.charCodeAt(s)!==60||s+2>=a)||(n=i.src.charCodeAt(s+1),n!==33&&n!==63&&n!==47&&!oE(n))||(e=i.src.slice(s).match(lE),!e)?!1:(o||i.push({type:"htmltag",content:i.src.slice(s,s+e[0].length),level:i.level}),i.pos+=e[0].length,!0)}var cE=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,dE=/^&([a-z][a-z0-9]{1,31});/i;function fE(i,o){var n,e,a,s=i.pos,u=i.posMax;if(i.src.charCodeAt(s)!==38)return!1;if(s+1<u){if(n=i.src.charCodeAt(s+1),n===35){if(a=i.src.slice(s).match(cE),a)return o||(e=a[1][0].toLowerCase()==="x"?parseInt(a[1].slice(1),16):parseInt(a[1],10),i.pending+=Og(e)?Qc(e):Qc(65533)),i.pos+=a[0].length,!0}else if(a=i.src.slice(s).match(dE),a){var c=Mg(a[1]);if(a[1]!==c)return o||(i.pending+=c),i.pos+=a[0].length,!0}}return o||(i.pending+="&"),i.pos++,!0}var Pc=[["text",R_],["newline",O_],["escape",L_],["backticks",N_],["del",I_],["ins",D_],["mark",B_],["emphasis",U_],["sub",z_],["sup",H_],["links",q_],["footnote_inline",F_],["footnote_ref",G_],["autolink",X_],["htmltag",uE],["entity",fE]];function oo(){this.ruler=new Gt;for(var i=0;i<Pc.length;i++)this.ruler.push(Pc[i][0],Pc[i][1]);this.validateLink=hE}oo.prototype.skipToken=function(i){var o=this.ruler.getRules(""),n=o.length,e=i.pos,a,s;if((s=i.cacheGet(e))>0){i.pos=s;return}for(a=0;a<n;a++)if(o[a](i,!0)){i.cacheSet(e,i.pos);return}i.pos++,i.cacheSet(e,i.pos)};oo.prototype.tokenize=function(i){for(var o=this.ruler.getRules(""),n=o.length,e=i.posMax,a,s;i.pos<e;){for(s=0;s<n&&(a=o[s](i,!1),!a);s++);if(a){if(i.pos>=e)break;continue}i.pending+=i.src[i.pos++]}i.pending&&i.pushPending()};oo.prototype.parse=function(i,o,n,e){var a=new Fa(i,this,o,n,e);this.tokenize(a)};function hE(i){var o=["vbscript","javascript","file","data"],n=i.trim().toLowerCase();return n=Pa(n),!(n.indexOf(":")!==-1&&o.indexOf(n.split(":")[0])!==-1)}var pE={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},mE={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},vE={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},gE={default:pE,full:mE,commonmark:vE};function jg(i,o,n){this.src=o,this.env=n,this.options=i.options,this.tokens=[],this.inlineMode=!1,this.inline=i.inline,this.block=i.block,this.renderer=i.renderer,this.typographer=i.typographer}function fn(i,o){typeof i!="string"&&(o=i,i="default"),o&&o.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new oo,this.block=new Ed,this.core=new Bg,this.renderer=new _d,this.ruler=new Gt,this.options={},this.configure(gE[i]),this.set(o||{})}fn.prototype.set=function(i){Rg(this.options,i)};fn.prototype.configure=function(i){var o=this;if(!i)throw new Error("Wrong `remarkable` preset, check name/content");i.options&&o.set(i.options),i.components&&Object.keys(i.components).forEach(function(n){i.components[n].rules&&o[n].ruler.enable(i.components[n].rules,!0)})};fn.prototype.use=function(i,o){return i(this,o),this};fn.prototype.parse=function(i,o){var n=new jg(this,i,o);return this.core.process(n),n.tokens};fn.prototype.render=function(i,o){return o=o||{},this.renderer.render(this.parse(i,o),this.options,o)};fn.prototype.parseInline=function(i,o){var n=new jg(this,i,o);return n.inlineMode=!0,this.core.process(n),n.tokens};fn.prototype.renderInline=function(i,o){return o=o||{},this.renderer.render(this.parseInline(i,o),this.options,o)};var zg=(function(){function i(){N(this,i)}return I(i,null,[{key:"instantiate",value:function(n){if(n)return new fn(Oe(Oe({},i.DEFAULT_PROPERTIES),n));if(window.hljs){var e=window.hljs;return new fn({highlight:function(s,u){if(u&&e.getLanguage(u))try{return e.highlight(s,{language:u}).value}catch{console.error("failed to setup the highlight dependency")}try{return e.highlightAuto(s).value}catch{console.error("failed to automatically highlight messages")}return""},html:!1,xhtmlOut:!1,breaks:!0,langPrefix:"language-",linkTarget:"_blank",typographer:!0})}else return new fn(i.DEFAULT_PROPERTIES)}},{key:"createNew",value:function(n){var e=i.instantiate(n);return e.inline.validateLink=function(){return!0},e}}])})();zg.DEFAULT_PROPERTIES={breaks:!0,linkTarget:"_blank"};var Wc=zg,yE=(function(){function i(o){N(this,i),this.storageKey="deep-chat-storage",this.maxMessages=1e3,re(o)=="object"&&(o.key&&(this.storageKey=o.key),o.maxMessages&&(this.maxMessages=o.maxMessages),o.clear=this.clear.bind(this))}return I(i,[{key:"get",value:function(){var n=localStorage.getItem(this.storageKey);return n?JSON.parse(n):[]}},{key:"addMessages",value:function(n){var e=n.length-this.maxMessages;e<0&&(e=0);var a=n.slice(e,n.length);localStorage.setItem(this.storageKey,JSON.stringify(a))}},{key:"clear",value:function(){localStorage.removeItem(this.storageKey)}}])})(),Yl=(function(){function i(){N(this,i)}return I(i,null,[{key:"applyCustomStylesToElements",value:function(n,e,a){if(a&&(Object.assign(n.outerContainer.style,a.outerContainer),Object.assign(n.innerContainer.style,a.innerContainer),Object.assign(n.bubbleElement.style,a.bubble),e)){var s=n.bubbleElement.children[0],u=s.tagName.toLocaleLowerCase()!=="a"?s:s.children[0];Object.assign(u.style,a.media)}}},{key:"applySideStyles",value:function(n,e,a,s){s&&(i.applyCustomStylesToElements(n,a,s.shared),e===fe.USER_ROLE?i.applyCustomStylesToElements(n,a,s.user):(i.applyCustomStylesToElements(n,a,s.ai),i.applyCustomStylesToElements(n,a,s[e])))}},{key:"isElementsStyles",value:function(n){return!!(n.outerContainer||n.innerContainer||n.bubble||n.media)}},{key:"applyCustomStyles",value:function(n,e,a,s,u){var c;u&&n.default!==u?i.isElementsStyles(u)?(i.applyCustomStylesToElements(e,s,(c=n.default)==null?void 0:c.shared),i.applyCustomStylesToElements(e,s,u)):(i.applySideStyles(e,a,s,n.default),i.applySideStyles(e,a,s,u)):i.applySideStyles(e,a,s,n.default)}},{key:"extractParticularSharedStyles",value:function(n,e){if(e!=null&&e.shared){var a=e.shared,s={outerContainer:{},innerContainer:{},bubble:{},media:{}};return n.forEach(function(u){var c,f,p,m;s.outerContainer[u]=((c=a.outerContainer)==null?void 0:c[u])||"",s.innerContainer[u]=((f=a.innerContainer)==null?void 0:f[u])||"",s.bubble[u]=((p=a.bubble)==null?void 0:p[u])||"",s.media[u]=((m=a.media)==null?void 0:m[u])||""}),s}}}])})(),Ss=(function(){function i(){N(this,i)}return I(i,null,[{key:"onMessage",value:function(n,e,a){var s,u=JSON.parse(JSON.stringify({message:e,isHistory:a,isInitial:a}));Tt.reAddFileRefToObject(e,u.message),(s=n.onMessage)==null||s.call(n,u),n.dispatchEvent(new CustomEvent("message",{detail:u})),Nt.fireOnNewMessage(n,u)}},{key:"onClearMessages",value:function(n){var e;(e=n.onClearMessages)==null||e.call(n),n.dispatchEvent(new CustomEvent("clear-messages"))}},{key:"onRender",value:function(n){var e;(e=n.onComponentRender)==null||e.call(n,n),n.dispatchEvent(new CustomEvent("render",{detail:n}))}},{key:"onInput",value:function(n,e,a){var s,u,c=JSON.parse(JSON.stringify({content:e,isUser:a}));e.files&&Tt.reAddFileRefToObject({files:(s=e.files)==null?void 0:s.map(function(f){return{ref:f}})},c.content),(u=n.onInput)==null||u.call(n,c),n.dispatchEvent(new CustomEvent("input",{detail:c}))}},{key:"onError",value:function(n,e){var a;(a=n.onError)==null||a.call(n,e),n.dispatchEvent(new CustomEvent("error",{detail:e}))}}])})(),Xl=(function(){function i(){N(this,i)}return I(i,null,[{key:"generateLoadingRingElement",value:function(){var n=document.createElement("div");return n.classList.add("loading-history"),n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),n}},{key:"apply",value:function(n,e,a){Ba.setRing(e.bubbleElement,a?.bubble),a!=null&&a.bubble&&(a=JSON.parse(JSON.stringify(a)),delete a.bubble),n.applyCustomStyles(e,"history",!1,a)}},{key:"addLoadHistoryMessage",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s,u,c,f,p,m,g,b;n.bubbleElement.classList.add(i.CLASS);var y=a?i.FULL_VIEW_CLASS:i.SMALL_CLASS;n.outerContainer.classList.add(y);var k=a?(f=(c=(u=(s=e.messageStyles)==null?void 0:s.loading)==null?void 0:u.history)==null?void 0:c.full)==null?void 0:f.styles:(b=(g=(m=(p=e.messageStyles)==null?void 0:p.loading)==null?void 0:m.history)==null?void 0:g.small)==null?void 0:b.styles;i.apply(e,n,k),e.elementRef.prepend(n.outerContainer)}},{key:"createDefaultElements",value:function(n){var e=n.createMessageElements("",fe.AI_ROLE),a=e.bubbleElement,s=i.generateLoadingRingElement();return a.appendChild(s),e}},{key:"addMessage",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a,s,u,c,f=(c=(u=(s=(a=n.messageStyles)==null?void 0:a.loading)==null?void 0:s.history)==null?void 0:u.full)==null?void 0:c.html,p=f?fa.createElements(n,f,fe.AI_ROLE,!0,!0):i.createDefaultElements(n);return i.addLoadHistoryMessage(p,n,e),fe.softRemRoleElements(p.innerContainer,n.avatar,n.name),p}},{key:"tryChangeViewToSmall",value:function(n,e){var a,s,u,c,f,p,m,g;if(e!=null&&e.outerContainer.classList.contains(i.FULL_VIEW_CLASS)){e.outerContainer.classList.replace(i.FULL_VIEW_CLASS,i.SMALL_CLASS);var b=(c=(u=(s=(a=n.messageStyles)==null?void 0:a.loading)==null?void 0:s.history)==null?void 0:u.small)==null?void 0:c.styles;b&&i.apply(n,e,b);var y=(g=(m=(p=(f=n.messageStyles)==null?void 0:f.loading)==null?void 0:p.history)==null?void 0:m.small)==null?void 0:g.html;return y&&(e.bubbleElement.innerHTML=y),!0}return!1}},{key:"changeFullViewToSmall",value:function(n){var e=n.messageElementRefs[n.messageElementRefs.length-1];i.tryChangeViewToSmall(n,e)||i.tryChangeViewToSmall(n,n.messageElementRefs[0])}}])})();Xl.CLASS="loading-history-message",Xl.FULL_VIEW_CLASS="loading-history-message-full-view",Xl.SMALL_CLASS="loading-history-message-small";var ja=Xl,Pg=(function(){function i(){N(this,i)}return I(i,null,[{key:"setFade",value:function(n,e){n.style.transitionDuration=typeof e=="number"?"".concat(e,"ms"):"".concat(i.DEFAULT_FADE_MS,"ms")}},{key:"fadeAnimation",value:(function(){var o=z(T().mark(function e(a,s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a.style.opacity="0",u=typeof s=="number"?s:i.DEFAULT_FADE_MS,f.next=4,new Promise(function(p){setTimeout(function(){return p()},u)});case 4:a.style.opacity="1";case 5:case"end":return f.stop()}},e)}));function n(e,a){return o.apply(this,arguments)}return n})()}])})();Pg.DEFAULT_FADE_MS=500;var Hg=Pg,uv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%20xml:space='preserve'%3e%3cpath%20d='M23,30.36H9c-2.404,0-4.36-1.956-4.36-4.36V15c0-2.404,1.956-4.36,4.36-4.36h3.659%20c0.167-1.566,1.415-2.813,2.981-2.981V5.333c-1.131-0.174-2-1.154-2-2.333c0-1.301,1.059-2.36,2.36-2.36%20c1.302,0,2.36,1.059,2.36,2.36c0,1.179-0.869,2.159-2,2.333V7.66c1.566,0.167,2.814,1.415,2.981,2.981H23%20c2.404,0,4.36,1.956,4.36,4.36v11C27.36,28.404,25.404,30.36,23,30.36z%20M9,11.36c-2.007,0-3.64,1.633-3.64,3.64v11%20c0,2.007,1.633,3.64,3.64,3.64h14c2.007,0,3.64-1.633,3.64-3.64V15c0-2.007-1.633-3.64-3.64-3.64H9z%20M13.384,10.64h5.231%20C18.439,9.354,17.334,8.36,16,8.36C14.667,8.36,13.561,9.354,13.384,10.64z%20M16,1.36c-0.904,0-1.64,0.736-1.64,1.64%20S15.096,4.64,16,4.64c0.904,0,1.64-0.736,1.64-1.64S16.904,1.36,16,1.36z%20M20,27.36h-8c-1.301,0-2.36-1.059-2.36-2.36%20s1.059-2.36,2.36-2.36h8c1.302,0,2.36,1.059,2.36,2.36S21.302,27.36,20,27.36z%20M12,23.36c-0.904,0-1.64,0.735-1.64,1.64%20s0.736,1.64,1.64,1.64h8c0.904,0,1.64-0.735,1.64-1.64s-0.735-1.64-1.64-1.64H12z%20M31,23.86h-2c-0.199,0-0.36-0.161-0.36-0.36V15%20c0-0.199,0.161-0.36,0.36-0.36h2c0.199,0,0.36,0.161,0.36,0.36v8.5C31.36,23.699,31.199,23.86,31,23.86z%20M29.36,23.14h1.279v-7.78%20H29.36V23.14z%20M3,23.86H1c-0.199,0-0.36-0.161-0.36-0.36V15c0-0.199,0.161-0.36,0.36-0.36h2c0.199,0,0.36,0.161,0.36,0.36v8.5%20C3.36,23.699,3.199,23.86,3,23.86z%20M1.36,23.14h1.28v-7.78H1.36V23.14z%20M20,20.36c-1.302,0-2.36-1.059-2.36-2.36%20s1.059-2.36,2.36-2.36s2.36,1.059,2.36,2.36C22.36,19.302,21.302,20.36,20,20.36z%20M20,16.36c-0.904,0-1.64,0.736-1.64,1.64%20s0.735,1.64,1.64,1.64s1.64-0.735,1.64-1.64S20.904,16.36,20,16.36z%20M12,20.36c-1.301,0-2.36-1.059-2.36-2.36s1.059-2.36,2.36-2.36%20s2.36,1.059,2.36,2.36C14.36,19.302,13.301,20.36,12,20.36z%20M12,16.36c-0.904,0-1.64,0.736-1.64,1.64s0.736,1.64,1.64,1.64%20s1.64-0.735,1.64-1.64S12.904,16.36,12,16.36z'/%3e%3crect%20style='fill:none;'%20width='32'%20height='32'/%3e%3c/svg%3e",ed="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAMAAAC/MqoPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAADNQTFRF////9vX18vLy/Pz86enp4+Li2tnZ1tbWzczM+fn57Ozs4N/f09LS0M/P5uXl7+/v3dzcwtncCAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAZNSURBVHja7d3bdtsqEABQYABZSLH9/3+ZpnUsIcF5iOM6PfElNoMHMfPQdq3GmL0GkLhEUqLaUExnOtOZznSmM53pTGc605nOdKYznelMZzrTmV4LXSqllKyJDkob26xWq8Zae/iH0QoWTm9d1xur4WuypQJtTd+5dqn0VjcxzNO5/57mEBvdLo8Oron6aseWOjYOFkVvjQs3DmgyONMuht52EfztP+4hdu0i6LCO808/M8c1lE/fuPGej41uUzgdtoO/75N+2ELJ9I3b3//hPXbiMenm3pR/Jt4USgcLBIp4Bh10gqKVhvLo0klCxeSky96nKcj3siw6pJIL4XsoiQ7apyvMY/V3HHrSRioLopvEhSpTCn2TPEuwKYMOIX0tAxRBf/Hpa+lfSqBv9gi1FPsNfTrMAiVmIE/vJhz61FGnQxRIEYE4vfNYdN8Rp6MlHaHotHTn8ejekaZPAjEmyvQWdZFTtYTpXqCGJ0zvcek9Yfoel76nS0ffv1NMp1ca+pkgyfRCGind4L7OWWc605l+cxjsyhqy9AGbPpClc1/nvl5VX0c/3Alk6RU3+Am7shNZ+h6bvidLr7jBB+zKBrL0irOOudmIUDzTmf5gIP+iEuXtRuTVaEmY/oZLfyNMrzjryPc0gerMTdpVg0tvjJUU6bLPcGOoUv46SLL6Wi8yhLf06C7TUyekI0efRaaYqdFltkeNpPumRPSMDxgBYvSM035FrKAmH72hRW99PrpvSdEHkTEGUvSsK3yKVDkuJ92RohcZaehzzirPpOg+J92Tolfc4Cumx5xVXpGiZ34+ICX6W84qv5GiR5NPbiIpOv6BCoSvSkTX+eiaGP092zINvBOj4x8mSf9FqejvNo/cvpOji19ZbmviL0GPLsYMFzgzCor0+Bv/ePDvSJKOb9dJ5UlnbnEHiHgzv6cdTpJOWuc/u3FEucLDOL75xGtBiefrcwgoC9NDSH/jkH6pAuXmBqPQ9HSUPVdZBH1GGOrMXAQdYxcKZfxAoK+KKBKFLosoEoX+u4giUehz8jlcnAuhp78I46yDYNAd+QLR6K+pr+yvxdBTHyVDubQh0UfSxaHSd0lbvNkVRE87JGOtc+PQd2QLQ6fHhJkKsSh6yg13tO08JPprsgrrXWH0dJd2vH1MLPprot4eXoujpzrdhngiD40ek2y92lggPcnWa8qN1Yz0BFuvZhRl0uOfR0v4Ewuli/Bg4Qr3lArqGdndQ3UPO1EunXYwnelMZzrTmc50pjOd6UxnOtOZznSmM53pTGf6kuj6oedFKV0s3fX6sX1S3bsi6a4PD7+/YAqYeBw6pIB/4qEgOqxdSPbGiim4NRRCbzs3Jj0L4UfXtQXQVRfn5IdA/Bw7RZzurEV6EtdsLeGXkIPuA+K1UoVeA0l62zmN/LqfSSft9KkepmoRuvi3nd5uKNFB9zbbXEANqdr941XO0NJx2v2jdJenpf+/3bvn0ts16ph+sd6hX7dPo2+2cZzE02Ia43bzDHqr+2Evnhz74ZHU30ffbKOeng1/NPV30Ns1gYQnSP2P6e65Pfxc6h02XZqXQCjhJ6kPL6bFo4NrGvAU4UII4SE2P1vQuZkuOxckVfehisF1MjUddN/MZBN+kvq5uf0O/xa66gyNS9ktMWlz44rO1Z8C19i5FPdHzPamXn+F3hryPfxMr78+4F+kq22kO6Rf6fUQt+puuustyWv4rbG3l/duztFB96GYoe1cTBdXMr+nw9qVM6ZfxOvzezff0nXi/ZOndvrR6Zvpm0c3h6nhdb+5iS7tsIim/qXZD9+97/Jf+rpZ5BET1ayv0GUzLhEuhBBjIy/RdVPgndutIRt9nt7p5cKFEEJ3Z+jQFDZL+XnMDXxHB73gxn5s9Kc3d3/pFciFkN/QTSXHJpX5l66gDrkQoP6hL3xsPw39la4qOiV8tH78XeSbue6N9mvWa6J/ybpc1CT1Wnh5Qq9meP8IOKH3ddH7E/ri1iYux/SXDrXR4UiPdck/wUpU+FtPf6/orja6O9KL3l56LOvVxe5Ib2qjN0d6Vbex4ghWlU3bPqI90If66MNng680FNpbJijH6kCvaF3uMzQ3+IrpFerV4Y9dffQdN3im10ivbuImhD3Qq5u4HdZkua8znelMZ/pS4z9CPVKkxowNxgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMy0yN1QxNTo0NToxNSswMDowMN1xSg4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDMtMjdUMTU6NDU6MTUrMDA6MDCsLPKyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",qg=(function(){function i(o){N(this,i),this.className=o}return I(i,[{key:"tryHide",value:function(n){var e;(e=n.getElementsByClassName(this.className)[0].style).visibility||(e.visibility="hidden")}},{key:"tryReveal",value:function(n){n.getElementsByClassName(this.className)[0].style.visibility=""}},{key:"trySoftRem",value:function(n){n.getElementsByClassName(this.className)[0].classList.add("role-hidden")}}])})(),bE=(function(i){function o(n){var e;return N(this,o),e=pe(this,o,["avatar-container"]),e._avatars=n,e}return me(o,i),I(o,[{key:"addBesideMsg",value:function(e,a){var s=typeof this._avatars=="boolean"?void 0:this._avatars,u=this.createAvatar(a,s),c=this.getPosition(a,s);u.classList.add(c==="left"?"left-item-position":"right-item-position"),e.insertAdjacentElement(c==="left"?"beforebegin":"afterend",u)}},{key:"createAvatar",value:function(e,a){var s,u,c,f,p,m=document.createElement("img");e===fe.USER_ROLE?(m.src=((s=a?.user)==null?void 0:s.src)||((u=a?.default)==null?void 0:u.src)||ed,m.onerror=o.errorFallback.bind(this,ed)):(m.src=((c=a?.[e])==null?void 0:c.src)||((f=a?.ai)==null?void 0:f.src)||((p=a?.default)==null?void 0:p.src)||uv,m.onerror=o.errorFallback.bind(this,uv)),m.classList.add("avatar"),m.alt="".concat(e," avatar");var g=document.createElement("div");return g.classList.add(this.className),g.appendChild(m),a&&o.applyCustomStyles(g,m,a,e),g}},{key:"getPosition",value:function(e,a){var s,u,c,f,p,m,g=(u=(s=a?.[e])==null?void 0:s.styles)==null?void 0:u.position;return e!==fe.USER_ROLE&&(g??(g=(f=(c=a?.ai)==null?void 0:c.styles)==null?void 0:f.position)),g??(g=(m=(p=a?.default)==null?void 0:p.styles)==null?void 0:m.position),g??(g=e===fe.USER_ROLE?"right":"left"),g}}],[{key:"errorFallback",value:function(e,a){var s=a.target;s.onerror=null,s.src=e}},{key:"applyCustomStylesToElements",value:function(e,a,s){Object.assign(e.style,s.container),Object.assign(a.style,s.avatar)}},{key:"applyCustomStyles",value:function(e,a,s,u){var c,f,p,m;if((c=s.default)!=null&&c.styles&&o.applyCustomStylesToElements(e,a,s.default.styles),u===fe.USER_ROLE)(f=s.user)!=null&&f.styles&&o.applyCustomStylesToElements(e,a,s.user.styles);else{(p=s.ai)!=null&&p.styles&&o.applyCustomStylesToElements(e,a,s.ai.styles);var g=(m=s[u])==null?void 0:m.styles;g&&o.applyCustomStylesToElements(e,a,g)}}}])})(qg),SE=(function(i){function o(n){var e;return N(this,o),e=pe(this,o,["name"]),e._names=n,e}return me(o,i),I(o,[{key:"addBesideMsg",value:function(e,a){var s=typeof this._names=="boolean"?{}:this._names,u=this.createName(a,s),c=o.getPosition(a,s);u.classList.add(c==="left"?"left-item-position":"right-item-position"),e.insertAdjacentElement(c==="left"?"beforebegin":"afterend",u)}},{key:"createName",value:function(e,a){var s=document.createElement("div");return s.classList.add(this.className),s.textContent=o.getNameText(e,a),o.applyStyle(s,e,a),s}}],[{key:"getPosition",value:function(e,a){var s,u,c,f=(s=a?.[e])==null?void 0:s.position;return e!==fe.USER_ROLE&&(f??(f=(u=a?.ai)==null?void 0:u.position)),f??(f=(c=a?.default)==null?void 0:c.position),f??(f=e===fe.USER_ROLE?"right":"left"),f}},{key:"applyStyle",value:function(e,a,s){var u,c,f,p;Object.assign(e.style,(u=s.default)==null?void 0:u.style),a===fe.USER_ROLE?Object.assign(e.style,(c=s.user)==null?void 0:c.style):(Object.assign(e.style,(f=s.ai)==null?void 0:f.style),Object.assign(e.style,(p=s[a])==null?void 0:p.style))}},{key:"getNameText",value:function(e,a){var s,u,c,f,p,m;return e===fe.USER_ROLE?((s=a.user)==null?void 0:s.text)||((u=a.default)==null?void 0:u.text)||"User":e===fe.AI_ROLE?((c=a.ai)==null?void 0:c.text)||((f=a.default)==null?void 0:f.text)||"AI":((p=a[e])==null?void 0:p.text)||((m=a.default)==null?void 0:m.text)||e}}])})(qg),Zl=(function(){function i(o){var n=this;N(this,i);var e;this.messageElementRefs=[],this.htmlClassUtilities={},this.messageToElements=[],this.elementRef=i.createContainerElement(),this.messageStyles=Nt.processMessageStyles(o.messageStyles),this._remarkable=Wc.createNew(o.remarkable),o.avatars&&(this.avatar=new bE(o.avatars)),o.names&&(this.name=new SE(o.names)),o.browserStorage&&(this.browserStorage=new yE(o.browserStorage)),this._onMessage=Ss.onMessage.bind(this,o),o.htmlClassUtilities&&(this.htmlClassUtilities=o.htmlClassUtilities),this.focusMode=o.focusMode,this.focusMode||(this._lastGroupMessagesElement=document.createElement("div")),typeof this.focusMode!="boolean"&&(e=this.focusMode)!=null&&e.fade&&Hg.setFade(this.elementRef,this.focusMode.fade),setTimeout(function(){n.submitUserMessage=o.submitUserMessage})}return I(i,[{key:"addNewTextMessage",value:function(n,e,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(a!=null&&a.status){var u=this.overwriteText(e,n,this.messageElementRefs);if(u)return u;a.status=!1}var c=s?this.createAndPrependNewMessageElement(n,e,s):this.createAndAppendNewMessageElement(n,e);return c.bubbleElement.classList.add(i.TEXT_BUBBLE_CLASS),this.applyCustomStyles(c,e,!1),fe.fillEmptyMessageElement(c.bubbleElement,n),c}},{key:"overwriteText",value:function(n,e,a){var s=fe.overwriteMessage(this.messageToElements,a,e,n,"text",i.TEXT_BUBBLE_CLASS);return s&&this.renderText(s.bubbleElement,e),s}},{key:"createAndAppendNewMessageElement",value:function(n,e){return this.focusMode?this.appendNewMessageElementFocusMode(n,e):this.createAndAppendNewMessageElementDefault(n,e)}},{key:"appendNewMessageElementFocusMode",value:function(n,e){var a,s=this.createNewMessageElement(n,e);if(this.appendOuterContainerElemet(s.outerContainer,e),e==="user"){var u=typeof this.focusMode!="boolean"&&((a=this.focusMode)==null?void 0:a.scroll);Ot.scrollToBottom(this.elementRef,u)}return s}},{key:"createNewGroupElementFocusMode",value:function(){var n;(n=this._lastGroupMessagesElement)==null||n.classList.remove(i.LAST_GROUP_MESSAGES_ACTIVE);var e=document.createElement("div");this._lastGroupMessagesElement&&e.classList.add(i.LAST_GROUP_MESSAGES_ACTIVE),this._lastGroupMessagesElement=e}},{key:"createAndAppendNewMessageElementDefault",value:function(n,e){var a=this,s=this.createNewMessageElement(n,e);return this.appendOuterContainerElemet(s.outerContainer),setTimeout(function(){return Ot.scrollToBottom(a.elementRef)}),s}},{key:"appendOuterContainerElemet",value:function(n,e){var a;this.focusMode&&(e==="user"||!this._lastGroupMessagesElement)&&this.createNewGroupElementFocusMode(),(a=this._lastGroupMessagesElement)==null||a.appendChild(n),this.elementRef.appendChild(this._lastGroupMessagesElement)}},{key:"createAndPrependNewMessageElement",value:function(n,e,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u,c=this.createNewMessageElement(n,e,a,s);if(a&&(u=this.elementRef.firstChild)!=null&&u.classList.contains(i.INTRO_CLASS)){this.elementRef.firstChild.insertAdjacentElement("afterend",c.outerContainer);var f=this.messageElementRefs[0];this.messageElementRefs[0]=this.messageElementRefs[1],this.messageElementRefs[1]=f}else this.elementRef.insertBefore(c.outerContainer,this.elementRef.firstChild);return c}},{key:"createMessageElementsOnOrientation",value:function(n,e,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return a?this.createAndPrependNewMessageElement(n,e,!0,s):this.createNewMessageElement(n,e,s)}},{key:"createNewMessageElement",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u;s||(u=this._introPanel)==null||u.hide();var c=this.messageElementRefs[this.messageElementRefs.length-1];return ja.changeFullViewToSmall(this),!a&&i.isTemporaryElement(c)&&(this.revealRoleElementsIfTempRemoved(c,e),this.removeLastMessage()),this.createMessageElements(n,e,a)}},{key:"revealRoleElementsIfTempRemoved",value:function(n,e){if((this.avatar||this.name)&&Br.isElementTemporary(n)){var a=this.messageElementRefs[this.messageElementRefs.length-2];a&&this.messageToElements.length>0&&!n.bubbleElement.classList.contains(fe.getRoleClass(e))&&fe.revealRoleElements(a.innerContainer,this.avatar,this.name)}}},{key:"createElements",value:function(n,e){var a=i.createBaseElements(e),s=a.outerContainer,u=a.innerContainer,c=a.bubbleElement;return s.appendChild(u),this.addInnerContainerElements(c,n,e),a}},{key:"createMessageElements",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.createElements(n,e);return fe.updateRefArr(this.messageElementRefs,s,a),fe.classifyRoleMessages(this.messageElementRefs,e),s}},{key:"addInnerContainerElements",value:function(n,e,a){var s=this.messageElementRefs[this.messageElementRefs.length-1];return fe.areOuterContainerClassRolesSame(a,s)&&!this.isLastMessageError()&&fe.hideRoleElements(s.innerContainer,this.avatar,this.name),n.classList.add("message-bubble",fe.getRoleClass(a),a===fe.USER_ROLE?"user-message-text":"ai-message-text"),this.renderText(n,e),fe.addRoleElements(n,a,this.avatar,this.name),{bubbleElement:n}}},{key:"applyCustomStyles",value:function(n,e,a,s){n&&this.messageStyles&&Yl.applyCustomStyles(this.messageStyles,n,e,a,s)}},{key:"removeMessage",value:function(n){n.outerContainer.remove();var e=this.messageElementRefs.findIndex(function(a){return a===n});this.messageElementRefs.splice(e,1)}},{key:"removeLastMessage",value:function(){this.messageElementRefs[this.messageElementRefs.length-1].outerContainer.remove(),this.messageElementRefs.pop()}},{key:"isLastMessageError",value:function(){var n;return(n=fe.getLastMessageBubbleElement(this.elementRef))==null?void 0:n.classList.contains(fe.ERROR_MESSAGE_TEXT_CLASS)}},{key:"sendClientUpdate",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a;(a=this._onMessage)==null||a.call(this,n,e)}},{key:"renderText",value:function(n,e){n.innerHTML=this._remarkable.render(e),n.innerText.trim().length===0&&(n.innerText=e)}},{key:"refreshTextMessages",value:function(n){var e=this;this._remarkable=Wc.createNew(n),this.messageToElements.forEach(function(a){a[1].text&&a[0].text&&e.renderText(a[1].text.bubbleElement,a[0].text)})}}],[{key:"createContainerElement",value:function(){var n=document.createElement("div");return n.id="messages",n}},{key:"isTemporaryElement",value:function(n){return i.isLoadingMessage(n)||Br.isElementTemporary(n)}},{key:"createBaseElements",value:function(n){var e=document.createElement("div"),a=document.createElement("div");a.classList.add("inner-message-container"),e.appendChild(a),e.classList.add("outer-message-container"),e.classList.add(fe.buildRoleOuterContainerClass(n));var s=document.createElement("div");return s.classList.add("message-bubble"),a.appendChild(s),{outerContainer:e,innerContainer:a,bubbleElement:s}}},{key:"createMessageContent",value:function(n){var e=n.text,a=n.files,s=n.html,u=n.custom,c=n._sessionId,f=n.role,p={role:f||fe.AI_ROLE};return e&&(p.text=e),a&&(p.files=a),s&&(p.html=s),!e&&!a&&!s&&(p.text=""),u&&(p.custom=u),c&&(p._sessionId=c),p}},{key:"isLoadingMessage",value:function(n){return n?.bubbleElement.classList.contains(Ba.BUBBLE_CLASS)}}])})();Zl.TEXT_BUBBLE_CLASS="text-message",Zl.INTRO_CLASS="deep-chat-intro",Zl.LAST_GROUP_MESSAGES_ACTIVE="deep-chat-last-group-messages-active";var cn=Zl,Mn=(function(){function i(){N(this,i)}return I(i,null,[{key:"getLastElementsByClass",value:function(n,e,a){for(var s=function(){var p=n[c];if(p.bubbleElement.classList.contains(e[0])&&!e.slice(1).find(function(m){return!p.bubbleElement.classList.contains(m)}))if(a){if(!a.find(function(m){return p.bubbleElement.classList.contains(m)}))return{v:p}}else return{v:p}},u,c=n.length-1;c>=0;c-=1)if(u=s(),u)return u.v}},{key:"getLastMessage",value:function(n,e,a){for(var s=n.length-1;s>=0;s-=1)if(n[s][0].role===e)if(a){if(n[s][0][a])return n[s][0]}else return n[s][0]}},{key:"getLastTextToElement",value:function(n,e){for(var a=n.length-1;a>=0;a-=1)if(n[a][0]===e)return n[a]}},{key:"overwriteMessage",value:function(n,e,a,s,u,c){var f=i.getLastElementsByClass(e,[i.getRoleClass(s),c],[Ba.BUBBLE_CLASS]),p=i.getLastMessage(n,s,u);return p&&(p[u]=a),f}},{key:"getRoleClass",value:function(n){return"".concat(n,"-message")}},{key:"fillEmptyMessageElement",value:function(n,e){e.trim().length===0&&(n.classList.add(i.EMPTY_MESSAGE_CLASS),n.innerHTML='<div style="color:#00000000">.</div>')}},{key:"unfillEmptyMessageElement",value:function(n,e){n.classList.contains(i.EMPTY_MESSAGE_CLASS)&&e.trim().length>0&&n.replaceChildren()}},{key:"getLastMessageBubbleElement",value:function(n){var e,a,s,u;return(u=Array.from(((s=(a=(e=i.getLastMessageElement(n))==null?void 0:e.children)==null?void 0:a[0])==null?void 0:s.children)||[]).map(function(c){return Array.from(c?.children||[]).find(function(f){return f.classList.contains("message-bubble")})}))==null?void 0:u[0]}},{key:"getLastMessageElement",value:function(n){return n.children[n.children.length-1]}},{key:"addRoleElements",value:function(n,e,a,s){a?.addBesideMsg(n,e),s?.addBesideMsg(n,e)}},{key:"hideRoleElements",value:function(n,e,a){e?.tryHide(n),a?.tryHide(n)}},{key:"revealRoleElements",value:function(n,e,a){e?.tryReveal(n),a?.tryReveal(n)}},{key:"softRemRoleElements",value:function(n,e,a){e?.trySoftRem(n),a?.trySoftRem(n)}},{key:"updateRefArr",value:function(n,e,a){a?n.unshift(e):n.push(e)}},{key:"buildRoleOuterContainerClass",value:function(n){return"".concat(i.OUTER_CONTAINER_CLASS_ROLE_PREFIX).concat(n)}},{key:"addNewPositionClasses",value:function(n,e){var a;n.outerContainer.classList.remove(i.POSITION_TOP_MESSAGE_CLASS,i.POSITION_MIDDLE_MESSAGE_CLASS,i.POSITION_BOTTOM_MESSAGE_CLASS),(a=n.outerContainer.classList).add.apply(a,Es(e))}},{key:"getNumberOfElements",value:function(n){var e=0;return n.text!==void 0&&(e+=1),n.html!==void 0&&(e+=1),n.files&&(e+=n.files.length),e}},{key:"filterdMessageElements",value:function(n,e){return n.filter(function(a){return a.bubbleElement.classList.contains(e)})}},{key:"findMessageElements",value:function(n,e){return n.find(function(a){return a.bubbleElement.classList.contains(e)})}},{key:"generateMessageBodyElements",value:function(n,e){var a={};return n.text&&(a.text=i.findMessageElements(e,cn.TEXT_BUBBLE_CLASS)),n.html&&(a.html=i.findMessageElements(e,fa.HTML_BUBBLE_CLASS)),n.files&&(a.files=i.filterdMessageElements(e,Tt.FILE_BUBBLE_CLASS)),a}},{key:"generateMessageBody",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=i.getNumberOfElements(n),u=a?e.slice(0,s):e.slice(e.length-s);return i.generateMessageBodyElements(n,u)}},{key:"classifyRoleMessages",value:function(n,e){for(var a=e?i.buildRoleOuterContainerClass(e):void 0,s=n.length-1;s>=0;s-=1)if(e||(a=Array.from(n[s].outerContainer.classList).find(function(b){return b.startsWith(i.OUTER_CONTAINER_CLASS_ROLE_PREFIX)})),!!a){var u=n[s],c=u.outerContainer.classList.contains(a),f=n[s-1],p=n[s+1],m=f?.outerContainer.classList.contains(a),g=p?.outerContainer.classList.contains(a);if(c)!m&&g?i.addNewPositionClasses(u,[i.POSITION_TOP_MESSAGE_CLASS]):m&&g?i.addNewPositionClasses(u,[i.POSITION_MIDDLE_MESSAGE_CLASS]):m&&!g?i.addNewPositionClasses(u,[i.POSITION_BOTTOM_MESSAGE_CLASS]):!m&&!g&&i.addNewPositionClasses(u,[i.POSITION_TOP_MESSAGE_CLASS,i.POSITION_BOTTOM_MESSAGE_CLASS]);else if(e)break}}},{key:"areOuterContainerClassRolesSame",value:function(n,e){return e?Array.from(e.outerContainer.classList).find(function(a){return a.startsWith(i.OUTER_CONTAINER_CLASS_ROLE_PREFIX)})===i.buildRoleOuterContainerClass(n):!1}},{key:"resetAllRoleElements",value:function(n,e,a){if(!(!e&&!a)){var s="";n.forEach(function(u,c){u.bubbleElement.classList.contains(i.ERROR_MESSAGE_TEXT_CLASS)||i.revealRoleElements(u.innerContainer,e,a);var f=Array.from(u.outerContainer.classList).find(function(p){return p.startsWith(i.OUTER_CONTAINER_CLASS_ROLE_PREFIX)});s===f&&i.hideRoleElements(n[c-1].innerContainer,e,a),s=f})}}},{key:"deepCloneMessagesWithReferences",value:function(n){return n.map(function(e){return i.processMessageContent(e)})}},{key:"processMessageContent",value:function(n){if(n==null||re(n)!="object")return n;if(Array.isArray(n))return n.map(function(a){return i.processMessageContent(a)});var e={};return Object.entries(n).forEach(function(a){var s=za(a,2),u=s[0],c=s[1];u==="ref"&&c instanceof File||u==="custom"?e[u]=c:c!==null&&re(c)=="object"?e[u]=i.processMessageContent(c):e[u]=c}),e}}])})();Mn.AI_ROLE="ai",Mn.USER_ROLE="user",Mn.ERROR_MESSAGE_TEXT_CLASS="error-message-text",Mn.OUTER_CONTAINER_CLASS_ROLE_PREFIX="deep-chat-outer-container-role-",Mn.EMPTY_MESSAGE_CLASS="empty-message",Mn.POSITION_TOP_MESSAGE_CLASS="deep-chat-top-message",Mn.POSITION_MIDDLE_MESSAGE_CLASS="deep-chat-middle-message",Mn.POSITION_BOTTOM_MESSAGE_CLASS="deep-chat-bottom-message";var fe=Mn,Jl=(function(){function i(o,n){N(this,i),this._fileAdded=!1,this._streamType="",this._hasStreamEnded=!1,this._partialText="",this._messages=o,re(n)=="object"&&(this._partialRender=n.partialRender,this._customWrappers=n.htmlWrappers)}return I(i,[{key:"upsertStreamedMessage",value:function(n){if(!this._hasStreamEnded){if(n?.text===void 0&&n?.html===void 0)return console.error(qe.INVALID_STREAM_EVENT);n!=null&&n.custom&&this._message&&(this._message.custom=n.custom);var e=n?.text||n?.html||"",a=Ot.isScrollbarAtBottomOfElement(this._messages.elementRef),s=n?.text!==void 0?"text":"html";if(!this._elements&&!this._message)this.setInitialState(s,e,n?.role);else{if(this._streamType!==s)return console.error(qe.INVALID_STREAM_EVENT_MIX);this.updateBasedOnType(e,s,n?.overwrite)}a&&Ot.scrollToBottom(this._messages.elementRef)}}},{key:"setInitialState",value:function(n,e,a){var s,u,c;this._streamType=n,a??(a=fe.AI_ROLE);var f=((s=this._customWrappers)==null?void 0:s[a])||((u=this._customWrappers)==null?void 0:u.default),p=f?"":e;this._elements=n==="text"?this._messages.addNewTextMessage(p,a):fa.add(this._messages,p,a),this._elements&&(this._elements.bubbleElement.classList.add(i.MESSAGE_CLASS),this._activeMessageRole=a,this._message=ro({role:this._activeMessageRole},n,p),this._messages.messageToElements.push([this._message,ro({},n,this._elements)]),(c=this._messages.browserStorage)==null||c.addMessages(this._messages.messageToElements.map(function(m){var g=za(m,1),b=g[0];return b})),f&&this.setTargetWrapperIfNeeded(this._elements,e,this._streamType,f))}},{key:"setTargetWrapperIfNeeded",value:function(n,e,a,s){n.bubbleElement.innerHTML=s,this._targetWrapper=n.bubbleElement.getElementsByClassName(i.TARGET_WRAPPER_CLASS)[0],this._elements&&On.apply(this._messages,this._elements.bubbleElement),this.updateBasedOnType(e,a)}},{key:"updateBasedOnType",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s,u=this._targetWrapper||((s=this._elements)==null?void 0:s.bubbleElement);this._partialRender||fe.unfillEmptyMessageElement(u,n),(e==="text"?this.updateText:this.updateHTML).bind(this)(n,u,a)}},{key:"updateText",value:function(n,e,a){this._message&&(this._message.text=a?n:this._message.text+n,this._partialRender&&this.isNewPartialRenderParagraph(e,a)&&this.partialRenderNewParagraph(e),this._partialBubble?this.partialRenderBubbleUpdate(n):this._messages.renderText(e,this._message.text))}},{key:"isNewPartialRenderParagraph",value:function(n,e){var a,s;return e?(n.innerHTML="",!0):this._partialBubble?this._partialText&&((s=this._partialText)==null?void 0:s.indexOf(i.PARTIAL_RENDER_TEXT_MARK))>-1:((a=this._message)==null?void 0:a.text)&&this._message.text.indexOf(i.PARTIAL_RENDER_TEXT_MARK)>-1}},{key:"partialRenderNewParagraph",value:function(n){this._partialText="",this._partialBubble=document.createElement("div"),this._partialBubble.classList.add("partial-render-message"),n.appendChild(this._partialBubble)}},{key:"partialRenderBubbleUpdate",value:function(n){this._partialText+=n,this._messages.renderText(this._partialBubble,this._partialText)}},{key:"updateHTML",value:function(n,e,a){if(this._message)if(a)this._message.html=n,e.innerHTML=n;else{var s=document.createElement("span");s.innerHTML=n,e.appendChild(s),this._message.html=e?.innerHTML||""}}},{key:"finaliseStreamedMessage",value:function(){var n;if(!(this._endStreamAfterOperation||!this._message)&&!(this._fileAdded&&!this._elements)){if(!this._elements)throw Error(qe.NO_VALID_STREAM_EVENTS_SENT);(n=this._elements.bubbleElement)!=null&&n.classList.contains(i.MESSAGE_CLASS)&&(this._streamType==="text"?this._messages.textToSpeech&&Kl.speak(this._message.text||"",this._messages.textToSpeech):this._streamType==="html"&&this._elements&&On.apply(this._messages,this._elements.outerContainer),this._elements.bubbleElement.classList.remove(i.MESSAGE_CLASS),this._message&&(this._targetWrapper&&(this._message.html=this._elements.bubbleElement.children[0].outerHTML,this._streamType==="text"&&delete this._message.text),this._messages.sendClientUpdate(cn.createMessageContent(this._message),!1)),this._hasStreamEnded=!0)}}},{key:"markFileAdded",value:function(){this._fileAdded=!0}},{key:"newMessage",value:function(){this.finaliseStreamedMessage(),this._elements=void 0,delete this._message,this._fileAdded=!1,this._hasStreamEnded=!1,this._activeMessageRole=void 0}},{key:"endStreamAfterFileDownloaded",value:(function(){var o=z(T().mark(function e(a,s){var u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return this._endStreamAfterOperation=!0,m.next=3,s();case 3:u=m.sent,c=u.text,f=u.files,c&&this.updateBasedOnType(c,"text",!0),this._endStreamAfterOperation=!1,this.finaliseStreamedMessage(),f&&a.addNewMessage({files:f});case 7:case"end":return m.stop()}},e,this)}));function n(e,a){return o.apply(this,arguments)}return n})()}])})();Jl.MESSAGE_CLASS="streamed-message",Jl.PARTIAL_RENDER_TEXT_MARK=`

`,Jl.TARGET_WRAPPER_CLASS="stream-wrapper";var ha=Jl,Fg=(function(){function i(){N(this,i)}return I(i,null,[{key:"tempRemoveContentHeader",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a!=null&&a.headers){m.next=2;break}throw new Error("Request settings have not been set up");case 2:return c=a.headers[i.CONTENT_TYPE],delete a.headers[i.CONTENT_TYPE],m.prev=4,m.next=7,s(u);case 7:f=m.sent,m.next=13;break;case 10:throw m.prev=10,m.t0=m.catch(4),a.headers[i.CONTENT_TYPE]=c,m.t0;case 13:return m.abrupt("return",(a.headers[i.CONTENT_TYPE]=c,f));case 14:case"end":return m.stop()}},e,null,[[4,10]])}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"displayError",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Service error, please try again.";if(console.error(e),re(e)=="object")return e instanceof Error?n.addNewErrorMessage("service",e.message):Array.isArray(e)||typeof e.error=="string"?n.addNewErrorMessage("service",e):Object.keys(e).length===0?n.addNewErrorMessage("service",a):n.addNewErrorMessage("service",JSON.stringify(e));n.addNewErrorMessage("service",e)}},{key:"fetch",value:(function(o){function n(e,a,s,u){return o.apply(this,arguments)}return n.toString=function(){return o.toString()},n})(function(o,n,e,a){var s,u,c={method:((s=o.connectSettings)==null?void 0:s.method)||"POST",headers:n};return c.method!=="GET"&&(c.body=e?JSON.stringify(a):a),o.connectSettings.credentials&&(c.credentials=o.connectSettings.credentials),fetch(((u=o.connectSettings)==null?void 0:u.url)||o.url||"",c)})},{key:"processResponseByType",value:function(n){var e=n.headers.get("content-type");return e!=null&&e.includes("application/json")?n.json():e!=null&&e.includes("text/plain")||!e?n:n.blob()}},{key:"processRequestInterceptor",value:(function(){var o=z(T().mark(function e(a,s){var u,c,f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(u=a.requestInterceptor)==null?void 0:u.call(a,s);case 2:if(g.t0=g.sent,g.t0){g.next=5;break}g.t0=s;case 5:return c=g.t0,f=c,p=c,g.abrupt("return",{body:f.body,headers:f.headers,error:p.error});case 9:case"end":return g.stop()}},e)}));function n(e,a){return o.apply(this,arguments)}return n})()},{key:"validateResponseFormat",value:function(n,e){if(!n)return!1;var a=Array.isArray(n)?n:[n];return e&&a.length>1?(console.error(qe.INVALID_STREAM_ARRAY_RESPONSE),!1):!a.find(function(s){return re(s)!="object"||!(typeof s.error=="string"||typeof s.text=="string"||typeof s.html=="string"||Array.isArray(s.files))})}},{key:"onInterceptorError",value:function(n,e,a){n.addNewErrorMessage("service",e),a?.()}},{key:"basicResponseProcessing",value:(function(){var o=z(T().mark(function e(a,s){var u,c,f,p,m,g,b,y,k,E,w=arguments;return T().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(u=w.length>2&&w[2]!==void 0?w[2]:{},c=u.io,f=u.displayError,p=f===void 0?!0:f,m=u.useRI,g=m===void 0?!0:m,c!=null&&c.extractResultData){O.next=4;break}return O.abrupt("return",s);case 4:return b=g?c.deepChat.responseInterceptor:void 0,O.next=7,b?.(s);case 7:if(O.t0=O.sent,O.t0){O.next=10;break}O.t0=s;case 10:return y=O.t0,O.next=13,c.extractResultData(y);case 13:if(k=O.sent,!(!k||re(k)!="object"&&!Array.isArray(k))){O.next=17;break}return p&&(E=qe.INVALID_RESPONSE(s,"response",!!b,y),i.displayError(a,E)),O.abrupt("return");case 17:return O.abrupt("return",k);case 18:case"end":return O.stop()}},e)}));function n(e,a){return o.apply(this,arguments)}return n})()}])})();Fg.CONTENT_TYPE="Content-Type";var _e=Fg;function _E(i,o){return td.apply(this,arguments)}function td(){return td=z(T().mark(function i(o,n){var e,a;return T().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=o.getReader();case 1:return u.next=3,e.read();case 3:if((a=u.sent).done){u.next=7;break}n(a.value);case 5:u.next=1;break;case 7:case"end":return u.stop()}},i)})),td.apply(this,arguments)}function EE(i){var o,n,e,a=!1;return function(s){o===void 0?(o=s,n=0,e=-1):o=TE(o,s);for(var u=o.length,c=0;n<u;){a&&(o[n]===10&&(c=++n),a=!1);for(var f=-1;n<u&&f===-1;++n)switch(o[n]){case 58:e===-1&&(e=n-c);break;case 13:a=!0;case 10:f=n;break}if(f===-1)break;i(o.subarray(c,f),e),c=n,e=-1}c===u?o=void 0:c!==0&&(o=o.subarray(c),n-=c)}}function kE(i,o,n){var e=cv(),a=new TextDecoder;return function(s,u){if(s.length===0)n?.(e),e=cv();else if(u>0){var c=a.decode(s.subarray(0,u)),f=u+(s[u+1]===32?2:1),p=a.decode(s.subarray(f));switch(c){case"data":e.data=e.data?e.data+`
`+p:p;break;case"event":e.event=p;break;case"id":i(e.id=p);break;case"retry":var m=parseInt(p,10);isNaN(m)||o(e.retry=m);break}}}}function TE(i,o){var n=new Uint8Array(i.length+o.length);return n.set(i),n.set(o,i.length),n}function cv(){return{data:"",event:"",id:"",retry:void 0}}var wE=function(o,n){var e={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&n.indexOf(a)<0&&(e[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(o);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(o,a[s])&&(e[a[s]]=o[a[s]]);return e},nd="text/event-stream",AE=1e3,dv="last-event-id";function CE(i,o){var n=o.signal,e=o.headers,a=o.onopen,s=o.onmessage,u=o.onclose,c=o.onerror,f=o.openWhenHidden,p=o.fetch,m=wE(o,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise(function(g,b){var y=Object.assign({},e);y.accept||(y.accept=nd);var k;function E(){k.abort(),document.hidden||P()}f||document.addEventListener("visibilitychange",E);var w=AE,M=0;function O(){document.removeEventListener("visibilitychange",E),window.clearTimeout(M),k.abort()}n?.addEventListener("abort",function(){O(),g()});var X=p??window.fetch,ne=a??xE;function P(){return G.apply(this,arguments)}function G(){return G=z(T().mark(function le(){var K,be,W;return T().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return k=new AbortController,q.prev=1,q.next=4,X(i,Object.assign(Object.assign({},m),{headers:y,signal:k.signal}));case 4:return be=q.sent,q.next=7,ne(be);case 7:return q.next=9,_E(be.body,EE(kE(function(se){se?y[dv]=se:delete y[dv]},function(se){w=se},s)));case 9:u?.(),O(),g(),q.next=17;break;case 14:if(q.prev=14,q.t0=q.catch(1),!k.signal.aborted)try{W=(K=c?.(q.t0))!==null&&K!==void 0?K:w,window.clearTimeout(M),M=window.setTimeout(P,W)}catch(se){O(),b(se)}case 17:case"end":return q.stop()}},le,null,[[1,14]])})),G.apply(this,arguments)}P()})}function xE(i){var o=i.headers.get("content-type");if(!(o!=null&&o.startsWith(nd)))throw new Error("Expected content-type to be ".concat(nd,", Actual: ").concat(o))}var it=(function(){function i(){N(this,i)}return I(i,null,[{key:"request",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p,m,g,b,y,k,E,w,M,O,X,ne,P,G=arguments;return T().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return c=G.length>3&&G[3]!==void 0?G[3]:!0,f=G.length>4&&G[4]!==void 0?G[4]:!1,k={body:s,headers:(p=a.connectSettings)==null?void 0:p.headers},K.next=5,_e.processRequestInterceptor(a.deepChat,k);case 5:if(E=K.sent,w=E.body,M=E.headers,O=E.error,!O){K.next=11;break}return K.abrupt("return",_e.onInterceptorError(u,O,a.streamHandlers.onClose));case 11:if(!((m=a.connectSettings)!=null&&m.handler)){K.next=13;break}return K.abrupt("return",Td.stream(a,w,u));case 13:if(((g=a.connectSettings)==null?void 0:g.url)!==In.URL){K.next=15;break}return K.abrupt("return",In.requestStream(u,a));case 15:return X=new ha(u,a.stream),ne=_e.fetch.bind(this,a,M,c),P={method:((b=a.connectSettings)==null?void 0:b.method)||"POST",headers:M,credentials:(y=a.connectSettings)==null?void 0:y.credentials,body:c?JSON.stringify(w):w},K.abrupt("return",(re(a.stream)=="object"&&a.stream.readable?i.handleReadableStream(a,u,X,P,f,ne,w):i.handleEventStream(a,u,X,P,f,ne,w),X));case 17:case"end":return K.stop()}},e,this)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"handleReadableStream",value:function(n,e,a,s,u,c,f){var p,m=n.streamHandlers,g=m.onOpen,b=m.onClose,y=m.abortStream,k=!1;fetch(((p=n.connectSettings)==null?void 0:p.url)||n.url||"",s).then((function(){var E=z(T().mark(function w(M){var O,X,ne,P,G,le,K,be,W,Q,q;return T().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(M.body){$.next=2;break}throw new Error(qe.READABLE_STREAM_CONNECTION_ERROR);case 2:ne=M.body.getReader(),P=new TextDecoder,g(),G=!1;case 5:if(!(!G&&!k)){$.next=26;break}return $.next=8,ne.read();case 8:if(le=$.sent,K=le.value,be=le.done,G=be,!G){$.next=15;break}i.handleClose(n,a,b,u),$.next=24;break;case 15:return W=P.decode(K,{stream:!0}),$.next=18,(X=(O=n.deepChat).responseInterceptor)==null?void 0:X.call(O,W);case 18:if($.t0=$.sent,$.t0){$.next=21;break}$.t0=W;case 21:Q=$.t0,q=re(Q)=="object"?Q:{text:W},i.handleMessage(n,e,a,b,q,c,f);case 24:$.next=5;break;case 26:case"end":return $.stop()}},w)}));return function(w){return E.apply(this,arguments)}})()).catch(function(E){i.handleError(n,e,E)}),y.abort=function(){k=!0}}},{key:"handleEventStream",value:function(n,e,a,s,u,c,f){var p,m=n.streamHandlers,g=m.onOpen,b=m.onClose,y=m.abortStream;CE(((p=n.connectSettings)==null?void 0:p.url)||n.url||"",Oe(Oe({},s),{},{openWhenHidden:!0,onopen:function(E){return z(T().mark(function w(){return T().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!E.ok){O.next=2;break}return O.abrupt("return",g());case 2:return O.next=4,_e.processResponseByType(E);case 4:throw O.sent;case 5:case"end":return O.stop()}},w)}))()},onmessage:function(E){return z(T().mark(function w(){var M,O,X,ne;return T().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(JSON.stringify(E.data)===JSON.stringify("[DONE]")){G.next=9;break}try{X=JSON.parse(E.data)}catch{X={}}return G.next=4,(O=(M=n.deepChat).responseInterceptor)==null?void 0:O.call(M,X);case 4:if(G.t0=G.sent,G.t0){G.next=7;break}G.t0=X;case 7:ne=G.t0,i.handleMessage(n,e,a,b,ne,c,f);case 9:case"end":return G.stop()}},w)}))()},onerror:function(E){throw b(),E},onclose:function(){i.handleClose(n,a,b,u)},signal:y.signal})).catch(function(k){i.handleError(n,e,k)})}},{key:"handleMessage",value:function(n,e,a,s,u,c,f){var p;(p=n.extractResultData)==null||p.call(n,u,c,f).then(function(m){n.asyncCallInProgress&&m&&m.text!==""?(i.simulate(e,n.streamHandlers,m),s(),n.asyncCallInProgress=!1):i.upsertWFiles(e,a.upsertStreamedMessage.bind(a),a,m)}).catch(function(m){return _e.displayError(e,m)})}},{key:"handleError",value:function(n,e,a){var s;e.isLastMessageError()||(s=n.extractResultData)==null||s.call(n,a).then(function(){_e.displayError(e,a)}).catch(function(u){_e.displayError(e,u)})}},{key:"handleClose",value:function(n,e,a,s){if(!n.asyncCallInProgress)try{e.finaliseStreamedMessage(),a()}catch(u){if(!s)throw u}}},{key:"simulate",value:(function(){var o=z(T().mark(function e(a,s,u,c){var f,p,m,g,b,y;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return f=s,E.next=3,_e.basicResponseProcessing(a,u,{io:c,useRI:!1});case 3:if(E.sent){E.next=5;break}return E.abrupt("return",s.onClose());case 5:if(Array.isArray(u)&&(u=u[0]),!u.files){E.next=10;break}return E.next=8,_e.basicResponseProcessing(a,{files:u.files},{io:c});case 8:p=E.sent,a.addNewMessage(Oe({sendUpdate:!1,ignoreText:!0},p),!1);case 10:u.text&&(s.onOpen(),m=u.text.split(""),g=new ha(a,c?.stream),i.populateMessages(a,m,g,f,"text",0,c)),u.html&&(s.onOpen(),b=On.splitHTML(u.html),b.length===0&&(b=u.html.split("")),y=new ha(a,c?.stream),i.populateMessages(a,b,y,f,"html",0,c)),u.error&&(_e.displayError(a,u.error),s.onClose());case 13:case"end":return E.stop()}},e)}));function n(e,a,s,u){return o.apply(this,arguments)}return n})()},{key:"populateMessages",value:(function(){var o=z(T().mark(function e(a,s,u,c,f,p,m){var g,b,y;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(g=s[p],!g){E.next=10;break}return E.next=4,_e.basicResponseProcessing(a,ro({},f,g),{io:m});case 4:b=E.sent,i.upsertWFiles(a,u.upsertStreamedMessage.bind(u),u,b),y=setTimeout(function(){i.populateMessages(a,s,u,c,f,p+1,m)},c.simulationInterim||6),c.abortStream.abort=function(){i.abort(y,u,c.onClose)},E.next=11;break;case 10:u.finaliseStreamedMessage(),c.onClose();case 11:case"end":return E.stop()}},e)}));function n(e,a,s,u,c,f,p){return o.apply(this,arguments)}return n})()},{key:"isSimulation",value:function(n){return re(n)=="object"&&!!n.simulation}},{key:"isSimulatable",value:function(n,e){return i.isSimulation(n)&&e&&(e.text||e.html)}},{key:"abort",value:function(n,e,a){clearTimeout(n),e.finaliseStreamedMessage(),a()}},{key:"upsertWFiles",value:function(n,e,a,s){if(s&&Array.isArray(s)&&(s=s[0]),s!=null&&s.text||s!=null&&s.html){var u=e(s);a??(a=u||void 0)}s!=null&&s.files&&(n.addNewMessage({files:s.files}),a?.markFileAdded())}}])})(),Gg=(function(){function i(){N(this,i)}return I(i,null,[{key:"generateResponse",value:function(n){var e=n[n.length-1][0];if(e.files&&e.files.length>0){if(e.files.length>1)return"These are interesting files!";var a=e.files[0];return a.src&&a.src.startsWith("data:image/gif")?"That is a nice gif!":a.type==="image"?"That is a nice image!":a.type==="audio"?"I like the sound of that!":"That is an interesting file!"}if(e.text){if(e.text.charAt(e.text.length-1)==="?")return"I'm sorry but I can't answer that question...";if(e.text.includes("updog"))return"What's updog?"}return"Hi there! This is a demo response!"}},{key:"getCustomResponse",value:function(n,e){return typeof n=="function"?n(e):n}},{key:"getResponse",value:function(n){var e=n.customDemoResponse,a=n.messageToElements;return e?i.getCustomResponse(e,a[a.length-1][0]):{text:i.generateResponse(a)}}},{key:"request",value:function(n,e){var a=i.getResponse(e);setTimeout(z(T().mark(function s(){var u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,_e.basicResponseProcessing(e,a,{io:n});case 2:if(u=m.sent,u){m.next=5;break}return m.abrupt("return",n.completionsHandlers.onFinish());case 5:c=Array.isArray(u)?u:[u],f=c.find(function(g){return typeof g.error=="string"}),f?(e.addNewErrorMessage("service",f.error),n.completionsHandlers.onFinish()):it.isSimulatable(n.stream,u)?it.simulate(e,n.streamHandlers,u):(c.forEach(function(g){return e.addNewMessage(g)}),n.completionsHandlers.onFinish());case 7:case"end":return m.stop()}},s)})),400)}},{key:"requestStream",value:function(n,e){setTimeout(function(){var a=i.getResponse(n);it.simulate(n,e.streamHandlers,a,e)},400)}}])})();Gg.URL="deep-chat-demo";var In=Gg,_s=(function(){function i(){N(this,i)}return I(i,null,[{key:"setup",value:function(n){n.permittedErrorPrefixes=["Connection error","Error in server message"],n.websocket="pending"}},{key:"isElementPresentInDOM",value:function(n){return n.getRootNode({composed:!0})instanceof Document}},{key:"createConnection",value:function(n,e){if(i.isElementPresentInDOM(n.deepChat)){var a=n.connectSettings.websocket;if(a){if(n.connectSettings.handler)return Td.websocket(n,e);try{var s=typeof a!="boolean"?a:void 0,u=new WebSocket(n.connectSettings.url||"",s);n.websocket=u,n.websocket.onopen=function(){var c,f;e.removeError(),n.websocket&&re(n.websocket)=="object"&&i.assignListeners(n,u,e),(f=(c=n.deepChat)._validationHandler)==null||f.call(c)},n.websocket.onerror=function(c){console.error(c),i.retryConnection(n,e)}}catch(c){console.error(c),i.retryConnection(n,e)}}}}},{key:"retryConnection",value:function(n,e){var a,s;(s=(a=n.deepChat)._validationHandler)==null||s.call(a),i.isElementPresentInDOM(n.deepChat)&&(n.websocket="pending",e.isLastMessageError()||e.addNewErrorMessage("service","Connection error"),setTimeout(function(){i.createConnection(n,e)},5e3))}},{key:"assignListeners",value:function(n,e,a){var s=this,u={};e.onmessage=(function(){var c=z(T().mark(function f(p){var m,g,b,y,k,E;return T().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!n.extractResultData){M.next=22;break}return M.prev=1,m=JSON.parse(p.data),M.next=5,_e.basicResponseProcessing(a,m,{io:n,displayError:!1});case 5:if(g=M.sent,g){M.next=8;break}throw Error(qe.INVALID_RESPONSE(m,"server",!!n.deepChat.responseInterceptor,g));case 8:if(!it.isSimulation(n.stream)){M.next=13;break}b=i.stream.bind(s,n,a,u),y=u[m.role||fe.AI_ROLE],it.upsertWFiles(a,b,y,g),M.next=17;break;case 13:if(k=Array.isArray(g)?g:[g],E=k.find(function(O){return typeof O.error=="string"}),!E){M.next=16;break}throw E.error;case 16:k.forEach(function(O){return a.addNewMessage(O)});case 17:M.next=22;break;case 19:M.prev=19,M.t0=M.catch(1),_e.displayError(a,M.t0,"Error in server message");case 22:case"end":return M.stop()}},f,null,[[1,19]])}));return function(f){return c.apply(this,arguments)}})(),e.onclose=function(){console.error("Connection closed"),a.isLastMessageError()||a.addNewErrorMessage("service","Connection error"),n.stream&&n.streamHandlers.abortStream.abort(),i.createConnection(n,a)}}},{key:"sendWebsocket",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p,m,g,b,y,k,E,w=arguments;return T().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(c=w.length>3&&w[3]!==void 0?w[3]:!0,((f=a.connectSettings)==null?void 0:f.url)!==In.URL){O.next=3;break}return O.abrupt("return",In.request(a,u));case 3:if(m=a.websocket,!(!m||m==="pending")){O.next=6;break}return O.abrupt("return");case 6:return g={body:s,headers:(p=a.connectSettings)==null?void 0:p.headers},O.next=9,_e.processRequestInterceptor(a.deepChat,g);case 9:if(b=O.sent,y=b.body,k=b.error,!k){O.next=14;break}return O.abrupt("return",u.addNewErrorMessage("service",k));case 14:if(i.isWebSocket(m)){O.next=16;break}return O.abrupt("return",m.newUserMessage.listener(y));case 16:E=c?JSON.stringify(y):y,m.readyState===void 0||m.readyState!==m.OPEN?(console.error("Connection is not open"),u.isLastMessageError()||u.addNewErrorMessage("service","Connection error")):(m.send(JSON.stringify(E)),a.completionsHandlers.onFinish());case 18:case"end":return O.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"canSendMessage",value:function(n){return n?n==="pending"?!1:i.isWebSocket(n)?n.readyState!==void 0&&n.readyState===n.OPEN:n.isOpen:!0}},{key:"isWebSocket",value:function(n){return n.send!==void 0}},{key:"stream",value:function(n,e,a,s){if(s){var u=n.stream.simulation;if(typeof u=="string"){var c,f=s.role||fe.AI_ROLE,p=a[f];s.text===u||s.html===u?(p?.finaliseStreamedMessage(),delete a[f]):((c=a[f])!==null&&c!==void 0||(a[f]=new ha(e,n.stream)),a[f].upsertStreamedMessage(s))}else it.simulate(e,n.streamHandlers,s)}}}])})(),Td=(function(){function i(){N(this,i)}return I(i,null,[{key:"request",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:p=!0,m=(function(){var k=z(T().mark(function E(w){var M,O,X;return T().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(p){P.next=2;break}return P.abrupt("return");case 2:return p=!1,P.next=5,_e.basicResponseProcessing(u,w,{io:a,displayError:!1});case 5:M=P.sent,M?(O=Array.isArray(M)?M:[M],X=O.find(function(G){return typeof G.error=="string"}),X?(console.error(X.error),u.addNewErrorMessage("service",X.error),a.completionsHandlers.onFinish()):it.isSimulatable(a.stream,M)?it.simulate(u,a.streamHandlers,M):(O.forEach(function(G){return u.addNewMessage(G)}),a.completionsHandlers.onFinish())):(console.error(qe.INVALID_RESPONSE(w,"server",!!a.deepChat.responseInterceptor,M)),u.addNewErrorMessage("service","Error in server message"),a.completionsHandlers.onFinish());case 7:case"end":return P.stop()}},E)}));return function(w){return k.apply(this,arguments)}})(),g=i.generateOptionalSignals(),(f=(c=a.connectSettings).handler)==null||f.call(c,s,Oe(Oe({},g),{},{onResponse:m}));case 3:case"end":return y.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"attemptToFinaliseStream",value:function(n,e){try{var a=e.messageElementRefs[e.messageElementRefs.length-1];cn.isLoadingMessage(a)?e.removeLastMessage():n.finaliseStreamedMessage()}catch(s){console.error(s),e.addNewErrorMessage("service",s)}}},{key:"stream",value:function(n,e,a){var s,u,c=!0,f=!1,p=new ha(a,n.stream),m=function(){f||!c||(n.streamHandlers.onOpen(),f=!0)},g=function(){c&&(i.attemptToFinaliseStream(p,a),n.streamHandlers.onClose(),c=!1)},b=(function(){var k=z(T().mark(function E(w){var M,O;return T().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(c){ne.next=2;break}return ne.abrupt("return");case 2:return ne.next=4,_e.basicResponseProcessing(a,w,{io:n,displayError:!1});case 4:M=ne.sent,M?M.error?(i.streamError(M.error,p,n,a),c=!1):it.upsertWFiles(a,p.upsertStreamedMessage.bind(p),p,M):(O=qe.INVALID_RESPONSE(w,"server",!!n.deepChat.responseInterceptor,M),i.streamError(O,p,n,a),c=!1);case 6:case"end":return ne.stop()}},E)}));return function(w){return k.apply(this,arguments)}})();n.streamHandlers.abortStream.abort=function(){i.attemptToFinaliseStream(p,a),n.streamHandlers.onClose(),c=!1};var y=i.generateOptionalSignals();(u=(s=n.connectSettings).handler)==null||u.call(s,e,Oe(Oe({},y),{},{onOpen:m,onResponse:b,onClose:g,stopClicked:n.streamHandlers.stopClicked}))}},{key:"streamError",value:function(n,e,a,s){console.error(n),e.finaliseStreamedMessage(),s.addNewErrorMessage("service",n),a.streamHandlers.onClose()}},{key:"websocket",value:function(n,e){var a=this,s,u,c={isOpen:!1,newUserMessage:{listener:function(){}},roleToStream:{}};n.websocket=c;var f=function(){e.removeError(),c.isOpen=!0},p=function(){c.isOpen=!1},m=(function(){var b=z(T().mark(function y(k){var E,w,M,O,X,ne;return T().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(c.isOpen){G.next=2;break}return G.abrupt("return");case 2:return G.next=4,_e.basicResponseProcessing(e,k,{io:n,displayError:!1});case 4:E=G.sent,E?(w=Array.isArray(E)?E:[E],M=w.find(function(le){return typeof le.error=="string"}),M?(console.error(M.error),e.isLastMessageError()||e.addNewErrorMessage("service",M.error)):it.isSimulation(n.stream)?(O=E,X=_s.stream.bind(a,n,e,c.roleToStream),ne=c.roleToStream[O.role||fe.AI_ROLE],it.upsertWFiles(e,X,ne,O)):w.forEach(function(le){return e.addNewMessage(le)})):(console.error(qe.INVALID_RESPONSE(k,"server",!!n.deepChat.responseInterceptor,E)),e.addNewErrorMessage("service","Error in server message"));case 6:case"end":return G.stop()}},y)}));return function(k){return b.apply(this,arguments)}})(),g=i.generateOptionalSignals();(u=(s=n.connectSettings).handler)==null||u.call(s,void 0,Oe(Oe({},g),{},{onOpen:f,onResponse:m,onClose:p,newUserMessage:c.newUserMessage}))}},{key:"generateOptionalSignals",value:function(){return{onClose:function(){},onOpen:function(){},stopClicked:{listener:function(){}},newUserMessage:{listener:function(){}}}}}])})(),Xe=(function(){function i(){N(this,i)}return I(i,null,[{key:"request",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p,m,g,b,y,k,E,w,M,O,X=arguments;return T().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return c=X.length>3&&X[3]!==void 0?X[3]:!0,g={body:s,headers:(f=a.connectSettings)==null?void 0:f.headers},P.next=4,_e.processRequestInterceptor(a.deepChat,g);case 4:if(b=P.sent,y=b.body,k=b.headers,E=b.error,w=a.completionsHandlers.onFinish,!E){P.next=11;break}return P.abrupt("return",_e.onInterceptorError(u,E,w));case 11:if(!((p=a.connectSettings)!=null&&p.handler)){P.next=13;break}return P.abrupt("return",Td.request(a,y,u));case 13:if(((m=a.connectSettings)==null?void 0:m.url)!==In.URL){P.next=15;break}return P.abrupt("return",In.request(a,u));case 15:M=!0,O=_e.fetch.bind(this,a,k,c),O(y).then(function(G){return M=!!G.ok,G}).then(function(G){return _e.processResponseByType(G)}).then((function(){var G=z(T().mark(function le(K){var be,W,Q,q;return T().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(a.extractResultData){$.next=2;break}return $.abrupt("return");case 2:return $.next=4,(W=(be=a.deepChat).responseInterceptor)==null?void 0:W.call(be,K);case 4:if($.t0=$.sent,$.t0){$.next=7;break}$.t0=K;case 7:return Q=$.t0,$.next=10,a.extractResultData(Q,O,y);case 10:if(q=$.sent,M){$.next=13;break}throw K;case 13:if(!(!q||re(q)!="object"&&!Array.isArray(q))){$.next=15;break}throw Error(qe.INVALID_RESPONSE(K,"response",!!a.deepChat.responseInterceptor,Q));case 15:q.makingAnotherRequest||(it.isSimulatable(a.stream,q)?it.simulate(u,a.streamHandlers,q):((Array.isArray(q)?q:[q]).forEach(function(he){return u.addNewMessage(he)}),w()));case 16:case"end":return $.stop()}},le)}));return function(le){return G.apply(this,arguments)}})()).catch(function(G){_e.displayError(u,G),w()});case 18:case"end":return P.stop()}},e,this)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"executePollRequest",value:function(n,e,a,s){var u=n.completionsHandlers.onFinish;fetch(e,a).then(function(c){return c.json()}).then((function(){var c=z(T().mark(function f(p){var m,g,b;return T().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(n.extractPollResultData){k.next=2;break}return k.abrupt("return");case 2:return k.t0=n,k.next=5,(g=(m=n.deepChat).responseInterceptor)==null?void 0:g.call(m,p);case 5:if(k.t1=k.sent,k.t1){k.next=8;break}k.t1=p;case 8:return k.t2=k.t1,k.next=11,k.t0.extractPollResultData.call(k.t0,k.t2);case 11:b=k.sent,b.timeoutMS?setTimeout(function(){i.executePollRequest(n,e,a,s)},b.timeoutMS):it.isSimulatable(n.stream,b)?it.simulate(s,n.streamHandlers,b):(s.addNewMessage(b),u());case 13:case"end":return k.stop()}},f)}));return function(f){return c.apply(this,arguments)}})()).catch(function(c){_e.displayError(s,c),u()})}},{key:"poll",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p,m,g,b,y,k,E,w,M,O,X,ne=arguments;return T().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return c=ne.length>3&&ne[3]!==void 0?ne[3]:!0,g={body:s,headers:(f=a.connectSettings)==null?void 0:f.headers},G.next=4,_e.processRequestInterceptor(a.deepChat,g);case 4:if(b=G.sent,y=b.body,k=b.headers,E=b.error,!E){G.next=10;break}return G.abrupt("return",_e.onInterceptorError(u,E));case 10:w=((p=a.connectSettings)==null?void 0:p.url)||a.url||"",M=((m=a.connectSettings)==null?void 0:m.method)||"POST",O=c?JSON.stringify(y):y,X={method:M,body:O,headers:k},a.connectSettings.credentials&&(X.credentials=a.connectSettings.credentials),i.executePollRequest(a,w,X,u);case 12:case"end":return G.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"verifyKey",value:function(n,e,a,s,u,c,f,p,m){if(n==="")return c(qe.INVALID_KEY);f(),fetch(e,{method:s,headers:a,body:m||null}).then(function(g){return _e.processResponseByType(g)}).then(function(g){p(g,n,u,c)}).catch(function(g){c(qe.CONNECTION_FAILED),console.error(g)})}}])})(),Vg=(function(){function i(o,n,e){N(this,i),this._isLoading=!1,this._isPaginationComplete=!1,this._index=0,this._messages=n,e.fetchHistory&&this.fetchHistory(e.fetchHistory),o.loadHistory&&this.setupLoadHistoryOnScroll(o.loadHistory),this.setupInitialHistory(o)}return I(i,[{key:"fetchHistory",value:(function(){var o=z(T().mark(function e(a){var s=this,u,c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u=ja.addMessage(this._messages),p.next=3,a();case 3:c=p.sent,this._messages.removeMessage(u),i.displayIntroMessages(this._messages.messageElementRefs),c.forEach(function(m){return s._messages.addAnyMessage(m,!0)}),setTimeout(function(){return Ot.scrollToBottom(s._messages.elementRef)},0);case 5:case"end":return p.stop()}},e,this)}));function n(e){return o.apply(this,arguments)}return n})()},{key:"processLoadedHistory",value:function(n){var e=this,a,s=this._messages,u=s.messageElementRefs,c=s.messageToElements,f=s.elementRef,p=(a=u.find(function(g){return!g.outerContainer.classList.contains(cn.INTRO_CLASS)}))==null?void 0:a.outerContainer,m=f.scrollTop;n?.reverse().map(function(g){var b=e._messages.addAnyMessage(Oe(Oe({},g),{},{sendUpdate:!0}),!0,!0);if(b){var y=fe.generateMessageBody(b,u,!0);c.unshift([b,y])}return b}).filter(function(g){return!!g}).reverse().forEach(function(g){return e._messages.sendClientUpdate(g,!0)}),p&&(f.scrollTop=m+p.offsetTop-40)}},{key:"populateMessages",value:function(n,e){this._messages.removeMessage(n),this._isPaginationComplete=e.findIndex(function(p){return!p})<0;var a=e.filter(function(p){return!!p});this.processLoadedHistory(a);var s=this._messages,u=s.messageElementRefs,c=s.avatar,f=s.name;fe.resetAllRoleElements(u,c,f)}},{key:"setupLoadHistoryOnScroll",value:(function(){var o=z(T().mark(function e(a){var s=this;return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this._messages.elementRef.onscroll=z(T().mark(function f(){var p,m;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(!s._isLoading&&!s._isPaginationComplete&&s._messages.elementRef.scrollTop===0)){b.next=13;break}return s._isLoading=!0,p=ja.addMessage(s._messages,!1),b.prev=3,b.next=6,a(s._index++);case 6:m=b.sent,s.populateMessages(p,m),s._isLoading=!1,b.next=13;break;case 10:b.prev=10,b.t0=b.catch(3),s._messages.removeMessage(p),s._isPaginationComplete=!0,s._messages.addNewErrorMessage("service",i.FAILED_ERROR_MESSAGE,!0),console.error(b.t0);case 13:case"end":return b.stop()}},f,null,[[3,10]])}));case 1:case"end":return c.stop()}},e,this)}));function n(e){return o.apply(this,arguments)}return n})()},{key:"populateInitialHistory",value:function(n){var e=this;n.forEach(function(a){Nt.processHistoryFile(a),e._messages.addAnyMessage(a,!0)})}},{key:"loadInitialHistory",value:(function(){var o=z(T().mark(function e(a){var s=this,u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return this._isLoading=!0,u=ja.addMessage(this._messages),m.prev=2,m.next=5,a(this._index++);case 5:c=m.sent,f=this._messages.elementRef.scrollTop,this.populateMessages(u,c),f===0&&setTimeout(function(){return Ot.scrollToBottom(s._messages.elementRef)},0),m.next=13;break;case 10:m.prev=10,m.t0=m.catch(2),this._messages.removeMessage(u),this._isPaginationComplete=!0,this._messages.addNewErrorMessage("service",i.FAILED_ERROR_MESSAGE,!0),console.error(m.t0);case 13:i.displayIntroMessages(this._messages.messageElementRefs),this._isLoading=!1;case 14:case"end":return m.stop()}},e,this,[[2,10]])}));function n(e){return o.apply(this,arguments)}return n})()},{key:"setupInitialHistory",value:(function(){var o=z(T().mark(function e(a){var s,u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:a.loadHistory&&this.loadInitialHistory(a.loadHistory),u=a.history||Nt.processHistory(a)||((s=this._messages.browserStorage)==null?void 0:s.get()),u&&(this.populateInitialHistory(u),this._index+=1);case 3:case"end":return f.stop()}},e,this)}));function n(e){return o.apply(this,arguments)}return n})()}],[{key:"addErrorPrefix",value:function(n){var e;(e=n.permittedErrorPrefixes)!==null&&e!==void 0||(n.permittedErrorPrefixes=[]),n.permittedErrorPrefixes.push(i.FAILED_ERROR_MESSAGE)}},{key:"displayIntroMessages",value:function(n){for(var e=0;e<n.length;e+=1){var a=n[0];if(a.outerContainer.classList.contains(cn.INTRO_CLASS))a.outerContainer.style.display="";else break}}}])})();Vg.FAILED_ERROR_MESSAGE="Failed to load history";var wd=Vg,uo=(function(){function i(){N(this,i)}return I(i,null,[{key:"getCharacterLimitMessages",value:function(n,e){var a;if(e===-1)return n;var s=0,u=n.length-1;for(u;u>=0;u-=1){var c=(a=n[u])==null?void 0:a.text;if(c!==void 0&&(s+=c.length,s>e)){n[u].text=c.substring(0,c.length-(s-e));break}}return n.slice(Math.max(u,0))}},{key:"getMaxMessages",value:function(n,e){return n.slice(Math.max(n.length-e,0))}},{key:"processMessages",value:function(n,e,a){return e!==void 0?e>0&&(n=i.getMaxMessages(n,e)):n=[n[n.length-1]],n=JSON.parse(JSON.stringify(n)),a===void 0?n:i.getCharacterLimitMessages(n,a)}}])})(),ME=(function(){function i(){N(this,i)}return I(i,null,[{key:"parseConfig",value:function(n,e,a,s){var u,c={files:e};if(re(s)=="object"){Nt.processFileConfigConnect(s);var f=s.files,p=s.connect,m=s.button;f&&(f.infoModal&&(c.files.infoModal=f.infoModal,(u=f.infoModal)!=null&&u.textMarkDown&&(c.infoModalTextMarkUp=a.render(f.infoModal.textMarkDown))),f.acceptedFormats&&(c.files.acceptedFormats=f.acceptedFormats),f.maxNumberOfFiles&&(c.files.maxNumberOfFiles=f.maxNumberOfFiles)),c.button=m,p&&(p.headers||p.method||p.url||p.credentials||n.headers||n.method||n.url||n.credentials)&&(c.connect={url:p?.url||n.url,method:p?.method||n.method,headers:p?.headers||n.headers,credentials:p?.credentials||n.credentials})}return c}},{key:"processMixedFiles",value:function(n,e,a){if(a){var s={acceptedFormats:""};n.fileTypes.mixedFiles=i.parseConfig(n.connectSettings,s,e,a)}}},{key:"processMicrophone",value:function(n,e,a,s){var u,c,f,p,m,g,b,y,k=Oe({acceptedFormats:"audio/*"},((f=n.fileTypes.audio)==null?void 0:f.files)||{});a&&(navigator.mediaDevices.getUserMedia!==void 0?(n.recordAudio=i.parseConfig(n.connectSettings,k,e,a),re(a)=="object"&&a.files&&((u=(p=n.recordAudio).files)!==null&&u!==void 0||(p.files={}),n.recordAudio.files.format=(m=a.files)==null?void 0:m.format,n.recordAudio.files.maxDurationSeconds=(g=a.files)==null?void 0:g.maxDurationSeconds,(b=n.fileTypes.audio)!=null&&b.files&&((c=(y=n.fileTypes.audio.files).maxNumberOfFiles)!==null&&c!==void 0||(y.maxNumberOfFiles=a.files.maxNumberOfFiles)))):s||(n.fileTypes.audio=i.parseConfig(n.connectSettings,k,e,a)))}},{key:"processAudioConfig",value:function(n,e,a,s){if(!(!a&&!s)){var u=Oe({acceptedFormats:"audio/*"},s?.files||{});n.fileTypes.audio=i.parseConfig(n.connectSettings,u,e,a)}}},{key:"processGifConfig",value:function(n,e,a,s){if(!(!a&&!s)){var u=Oe({acceptedFormats:"image/gif"},s?.files||{});n.fileTypes.gifs=i.parseConfig(n.connectSettings,u,e,a)}}},{key:"processCamera",value:function(n,e,a,s){var u,c,f,p,m,g=Oe({acceptedFormats:"image/*"},((c=n.fileTypes.images)==null?void 0:c.files)||{});a&&(navigator.mediaDevices.getUserMedia!==void 0?(n.camera=i.parseConfig(n.connectSettings,g,e,a),re(a)=="object"&&(n.camera.modalContainerStyle=a.modalContainerStyle,a.files&&((u=(f=n.camera).files)!==null&&u!==void 0||(f.files={}),n.camera.files.format=(p=a.files)==null?void 0:p.format,n.camera.files.dimensions=(m=a.files)==null?void 0:m.dimensions))):s||(n.fileTypes.images=i.parseConfig(n.connectSettings,g,e,a)))}},{key:"processImagesConfig",value:function(n,e,a,s){if(!(!a&&!s)){var u=Oe({acceptedFormats:"image/*"},s?.files||{});n.fileTypes.images=i.parseConfig(n.connectSettings,u,e,a)}}},{key:"populateDefaultFileIO",value:function(n,e){var a,s,u,c,f;n&&((a=n.files)!==null&&a!==void 0||(n.files={}),(s=(c=n.files).acceptedFormats)!==null&&s!==void 0||(c.acceptedFormats=e),(u=(f=n.files).maxNumberOfFiles)!==null&&u!==void 0||(f.maxNumberOfFiles=1))}},{key:"set",value:function(n,e,a){i.populateDefaultFileIO(a?.audio,".4a,.mp3,.webm,.mp4,.mpga,.wav,.mpeg,.m4a"),i.populateDefaultFileIO(a?.images,".png,.jpg");var s=Wc.createNew(n.remarkable);i.processImagesConfig(e,s,n.images,a?.images),i.processCamera(e,s,n.camera,n.images),i.processGifConfig(e,s,n.gifs,a?.gifs),i.processAudioConfig(e,s,n.audio,a?.audio),i.processMicrophone(e,s,n.microphone,n.audio),i.processMixedFiles(e,s,n.mixedFiles)}}])})(),io=(function(){function i(o,n,e){var a;N(this,i);var s,u,c,f,p;this.rawBody={},this.validateKeyProperty=!1,this.canSendMessage=i.canSendMessage,this.connectSettings={},this.fileTypes={},this.completionsHandlers={},this.streamHandlers={},this.deepChat=o,this.demo=e,Object.assign(this.rawBody,(s=o.connect)==null?void 0:s.additionalBodyProps),this.totalMessagesMaxCharLength=(u=o?.requestBodyLimits)==null?void 0:u.totalMessagesMaxCharLength,this.maxMessages=(c=o?.requestBodyLimits)==null?void 0:c.maxMessages,ME.set(o,this,n),o.connect&&(this.connectSettings=o.connect),this.demo&&((a=(f=this.connectSettings).url)!==null&&a!==void 0||(f.url=In.URL)),this.connectSettings.websocket&&_s.setup(this),this.stream=((p=this.deepChat.connect)==null?void 0:p.stream)||Nt.checkForStream(this.deepChat),o.loadHistory&&wd.addErrorPrefix(this)}return I(i,[{key:"verifyKey",value:function(n,e){}},{key:"getServiceIOByType",value:function(n){if(n.type.startsWith("audio")&&this.fileTypes.audio)return this.fileTypes.audio;if(n.type.startsWith("image")){if(this.fileTypes.gifs&&n.type.endsWith("/gif"))return this.fileTypes.gifs;if(this.fileTypes.images)return this.fileTypes.images;if(this.camera)return this.camera}return this.fileTypes.mixedFiles}},{key:"request",value:(function(){var o=z(T().mark(function e(a,s){var u,c=arguments;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u=c.length>2&&c[2]!==void 0?c[2]:!0,p.abrupt("return",this.stream&&!it.isSimulation(this.stream)?it.request(this,a,s,u):Xe.request(this,a,s,u));case 2:case"end":return p.stop()}},e,this)}));function n(e,a){return o.apply(this,arguments)}return n})()},{key:"callAPIWithText",value:(function(){var o=z(T().mark(function e(a,s){var u,c,f,p,m,g,b,y;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=Oe({messages:s},this.rawBody),y=!1,(f=this.connectSettings.headers)!=null&&f["Content-Type"]||((u=(p=this.connectSettings).headers)!==null&&u!==void 0||(p.headers={}),(c=(m=this.connectSettings.headers)["Content-Type"])!==null&&c!==void 0||(m["Content-Type"]="application/json"),y=!0),E.next=5,this.request(b,a);case 5:y&&((g=this.connectSettings.headers)==null||delete g["Content-Type"]);case 6:case"end":return E.stop()}},e,this)}));function n(e,a){return o.apply(this,arguments)}return n})()},{key:"callApiWithFiles",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return c=i.createCustomFormDataBody(this.rawBody,s,u),f=this.connectSettings,p=this.getServiceIOByType(u[0]),this.connectSettings=p?.connect||this.connectSettings,g.next=4,this.request(c,a,!1);case 4:this.connectSettings=f;case 5:case"end":return g.stop()}},e,this)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"callServiceAPI",value:(function(){var o=z(T().mark(function e(a,s,u){return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:u?this.callApiWithFiles(a,s,u):this.callAPIWithText(a,s);case 1:case"end":return f.stop()}},e,this)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"callAPI",value:(function(){var o=z(T().mark(function e(a,s){var u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.connectSettings){m.next=2;break}throw new Error("Request settings have not been set up");case 2:c=uo.processMessages(s.messageToElements.map(function(g){var b=za(g,1),y=b[0];return y}),this.maxMessages,this.totalMessagesMaxCharLength),this.connectSettings.websocket&&(!this.connectSettings.handler||this.connectSettings.url!==In.URL)?(f=Oe({messages:c},this.rawBody),a.files&&(u=this.getServiceIOByType(a.files[0]))!=null&&u.connect?this.callApiWithFiles(s,c,a.files):_s.sendWebsocket(this,f,s,!1)):this.callServiceAPI(s,c,a.files);case 4:case"end":return m.stop()}},e,this)}));function n(e,a){return o.apply(this,arguments)}return n})()},{key:"extractResultData",value:(function(){var o=z(T().mark(function e(a){return T().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!a.result){u.next=2;break}return u.abrupt("return",Nt.handleResponseProperty(a));case 2:if(!_e.validateResponseFormat(a,!!this.stream)){u.next=4;break}return u.abrupt("return",a);case 4:case"end":return u.stop()}},e,this)}));function n(e){return o.apply(this,arguments)}return n})()},{key:"isDirectConnection",value:function(){return!1}},{key:"isWebModel",value:function(){return!1}},{key:"isCustomView",value:function(){return!1}}],[{key:"canSendMessage",value:function(n,e,a){return a?!0:!!(n&&n.trim()!=="")||!!(e&&e.length>0)}},{key:"createCustomFormDataBody",value:function(n,e,a){var s=new FormData;a.forEach(function(f){return s.append("files",f)}),Object.keys(n).forEach(function(f){return s.append(f,String(n[f]))});var u=0;e.slice(0,e.length-1).forEach(function(f){s.append("message".concat(u+=1),JSON.stringify(f))});var c=e[e.length-1];return c.text&&(delete c.files,s.append("message".concat(u+=1),JSON.stringify(c))),s}}])})(),bt=(function(i){function o(n,e,a,s,u){var c;N(this,o);var f;return c=pe(this,o,[n,u]),c.insertKeyPlaceholderText="API Key",c.keyHelpUrl="",Object.assign(c.rawBody,(f=n.connect)==null?void 0:f.additionalBodyProps),c._keyVerificationDetails=e,c._buildHeadersFunc=a,s&&c.setApiKeyProperties(s),c.connectSettings=c.buildConnectSettings(c.key||"",n.connect),c}return me(o,i),I(o,[{key:"setApiKeyProperties",value:function(e){this.key=e.key,e.validateKeyProperty&&(this.validateKeyProperty=e.validateKeyProperty)}},{key:"buildConnectSettings",value:function(e,a){var s,u=a??{};return(s=u.headers)!==null&&s!==void 0||(u.headers={}),Object.assign(u.headers,this._buildHeadersFunc(e)),u}},{key:"keyAuthenticated",value:function(e,a){this.connectSettings=this.buildConnectSettings(a,this.connectSettings),this.key=a,e()}},{key:"verifyKey",value:function(e,a){var s=this._keyVerificationDetails,u=s.url,c=s.method,f=s.handleVerificationResult,p=s.createHeaders,m=s.body,g=p?.(e)||this._buildHeadersFunc(e);Xe.verifyKey(e,u,g,c,this.keyAuthenticated.bind(this,a.onSuccess),a.onFail,a.onLoad,f,m)}},{key:"isDirectConnection",value:function(){return!0}}])})(io),RE=(function(){function i(){N(this,i)}return I(i,null,[{key:"waitForPropertiesToBeUpdatedBeforeRender",value:function(n){n._propUpdated_=!1,setTimeout(function(){n._propUpdated_?i.waitForPropertiesToBeUpdatedBeforeRender(n):(n._waitingToRender_=!1,n.onRender())})}},{key:"attemptRender",value:function(n){n._propUpdated_=!0,n._waitingToRender_||(n._waitingToRender_=!0,i.waitForPropertiesToBeUpdatedBeforeRender(n))}}])})(),ad=(function(i){function o(){var n;return N(this,o),n=pe(this,o),n._waitingToRender_=!1,n._propUpdated_=!1,Object.keys(o._attributeToProperty_).forEach(function(e){var a=o._attributeToProperty_[e];n.constructPropertyAccessors(a),n.hasOwnProperty(e)||n.constructPropertyAccessors(a,e)}),n}return me(o,i),I(o,[{key:"constructPropertyAccessors",value:function(e,a){var s;Object.defineProperty(this,a||e,{get:function(){return s},set:function(c){s=c,a?this[e]=c:RE.attemptRender(this)}})}},{key:"attributeChangedCallback",value:function(e,a,s){if(a!==s){var u=o._attributes_[e](s),c=o._attributeToProperty_[e];this[c]=u}}},{key:"onRender",value:function(){}}],[{key:"observedAttributes",get:function(){return Object.keys(o._attributes_)||[]}}])})(Vc(HTMLElement));ad._attributes_={},ad._attributeToProperty_={};var OE=ad,LE=`<?xml version="1.0" standalone="no"?>
<svg version="1.1"
	xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.9em" height="0.9em"
	viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200">
		<path d="
			M669.727,273.516c-22.891-2.476-46.15-3.895-69.727-4.248c-103.025,0.457-209.823,25.517-310.913,73.536
			c-75.058,37.122-148.173,89.529-211.67,154.174C46.232,529.978,6.431,577.76,0,628.74c0.76,44.162,48.153,98.67,77.417,131.764
			c59.543,62.106,130.754,113.013,211.67,154.174c2.75,1.335,5.51,2.654,8.276,3.955l-75.072,131.102l102.005,60.286l551.416-960.033
			l-98.186-60.008L669.727,273.516z M902.563,338.995l-74.927,129.857c34.47,44.782,54.932,100.006,54.932,159.888
			c0,149.257-126.522,270.264-282.642,270.264c-6.749,0-13.29-0.728-19.922-1.172l-49.585,85.84c22.868,2.449,45.99,4.233,69.58,4.541
			c103.123-0.463,209.861-25.812,310.84-73.535c75.058-37.122,148.246-89.529,211.743-154.174
			c31.186-32.999,70.985-80.782,77.417-131.764c-0.76-44.161-48.153-98.669-77.417-131.763
			c-59.543-62.106-130.827-113.013-211.743-154.175C908.108,341.478,905.312,340.287,902.563,338.995L902.563,338.995z
			M599.927,358.478c6.846,0,13.638,0.274,20.361,0.732l-58.081,100.561c-81.514,16.526-142.676,85.88-142.676,168.897
			c0,20.854,3.841,40.819,10.913,59.325c0.008,0.021-0.008,0.053,0,0.074l-58.228,100.854
			c-34.551-44.823-54.932-100.229-54.932-160.182C317.285,479.484,443.808,358.477,599.927,358.478L599.927,358.478z M768.896,570.513
			L638.013,797.271c81.076-16.837,141.797-85.875,141.797-168.603C779.81,608.194,775.724,588.729,768.896,570.513L768.896,570.513z"
			/>
</svg>
`,NE=`<?xml version="1.0" standalone="no"?>
<svg version="1.1"
	xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
	xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.9em" height="0.9em"
	viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200">
		<path id="path6686" inkscape:connector-curvature="0" d="M779.843,599.925c0,95.331-80.664,172.612-180.169,172.612
			c-99.504,0-180.168-77.281-180.168-172.612c0-95.332,80.664-172.612,180.168-172.612
			C699.179,427.312,779.843,504.594,779.843,599.925z M600,240.521c-103.025,0.457-209.814,25.538-310.904,73.557
			c-75.058,37.122-148.206,89.496-211.702,154.141C46.208,501.218,6.431,549,0,599.981c0.76,44.161,48.13,98.669,77.394,131.763
			c59.543,62.106,130.786,113.018,211.702,154.179c94.271,45.751,198.616,72.092,310.904,73.557
			c103.123-0.464,209.888-25.834,310.866-73.557c75.058-37.122,148.243-89.534,211.74-154.179
			c31.185-32.999,70.962-80.782,77.394-131.763c-0.76-44.161-48.13-98.671-77.394-131.764
			c-59.543-62.106-130.824-112.979-211.74-154.141C816.644,268.36,712.042,242.2,600,240.521z M599.924,329.769
			c156.119,0,282.675,120.994,282.675,270.251c0,149.256-126.556,270.25-282.675,270.25S317.249,749.275,317.249,600.02
			C317.249,450.763,443.805,329.769,599.924,329.769L599.924,329.769z"/>
</svg>
`,Ln=(function(){function i(){N(this,i)}return I(i,null,[{key:"createSVGElement",value:function(n){return new DOMParser().parseFromString(n,"image/svg+xml").documentElement}}])})(),Kg=(function(){function i(){N(this,i)}return I(i,null,[{key:"changeVisibility",value:function(n,e,a,s){s.target.id===i.VISIBLE_ICON_ID?(e.style.display="none",a.style.display="block",n.type="password"):(e.style.display="block",a.style.display="none",n.type="text")}},{key:"createIconElement",value:function(n,e){var a=Ln.createSVGElement(n);return a.id=e,a.classList.add("visibility-icon"),a}},{key:"create",value:function(n){var e=document.createElement("div");e.id="visibility-icon-container";var a=i.createIconElement(NE,i.VISIBLE_ICON_ID);a.style.display="none",e.appendChild(a);var s=i.createIconElement(LE,"not-visible-icon");return e.appendChild(s),e.onclick=i.changeVisibility.bind(this,n,a,s),e}}])})();Kg.VISIBLE_ICON_ID="visible-icon";var IE=Kg,DE=(function(){function i(){N(this,i)}return I(i,null,[{key:"createCautionText",value:function(){var n=document.createElement("a");return n.classList.add("insert-key-input-help-text"),n.innerText="Please exercise CAUTION when inserting your API key outside of deepchat.dev or localhost!!",n}},{key:"createHelpLink",value:function(n){var e=document.createElement("a");return e.classList.add("insert-key-input-help-text"),e.href=n,e.innerText="Find more info here",e.target="_blank",e}},{key:"createFailText",value:function(){var n=document.createElement("div");return n.id="insert-key-input-invalid-text",n.style.display="none",n}},{key:"createHelpTextContainer",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=document.createElement("div");a.id="insert-key-help-text-container";var s=document.createElement("div");s.id="insert-key-help-text-contents";var u=i.createFailText();if(s.appendChild(u),n){var c=i.createHelpLink(n);s.appendChild(c)}if(e===!0){var f=i.createCautionText();s.appendChild(f)}return a.appendChild(s),{helpTextContainerElement:a,failTextElement:u}}},{key:"onFail",value:function(n,e,a,s){n.classList.replace("insert-key-input-valid","insert-key-input-invalid"),a.innerText=s,a.style.display="block",e.innerText="Start",n.classList.remove("loading")}},{key:"onLoad",value:function(n,e){n.classList.add("loading"),e.innerHTML='<div id="loading-key"></div>'}},{key:"verifyKey",value:function(n,e,a){var s=n.value.trim();a.verifyKey(s,e)}},{key:"addVerificationEvents",value:function(n,e,a,s,u){var c={onSuccess:s,onFail:i.onFail.bind(this,n,e,a),onLoad:i.onLoad.bind(this,n,e)},f=i.verifyKey.bind(this,n,c,u);e.onclick=f,n.onkeydown=function(p){!n.classList.contains("loading")&&p.key===mt.ENTER&&f()}}},{key:"createStartButton",value:function(){var n=document.createElement("div");return n.id="start-button",n.innerText="Start",n}},{key:"onInputFocus",value:function(n){n.target.classList.replace("insert-key-input-invalid","insert-key-input-valid")}},{key:"createInput",value:function(n){var e=document.createElement("div");e.id="insert-key-input-container";var a=document.createElement("input");return a.id="insert-key-input",a.placeholder=n||"API Key",a.type="password",a.classList.add("insert-key-input-valid"),a.onfocus=i.onInputFocus,e.appendChild(a),e}},{key:"createContents",value:function(n,e){var a,s=document.createElement("div");s.id="insert-key-contents";var u=i.createInput(e.insertKeyPlaceholderText),c=u.children[0],f=IE.create(c);u.appendChild(f),s.appendChild(u);var p=i.createStartButton(),m=i.createHelpTextContainer(e.keyHelpUrl,(a=e.deepChat._insertKeyViewStyles)==null?void 0:a.displayCautionText),g=m.helpTextContainerElement,b=m.failTextElement;return s.appendChild(p),s.appendChild(g),i.addVerificationEvents(c,p,b,n,e),s}},{key:"createElements",value:function(n,e){var a=document.createElement("div");a.id="insert-key-view";var s=i.createContents(n,e);return a.appendChild(s),a}},{key:"render",value:function(n,e,a){var s=i.createElements(e,a);n.replaceChildren(s)}}])})(),us=(function(){function i(){N(this,i)}return I(i,null,[{key:"enableButtons",value:function(n,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;window.webLLM?(n&&(n.disabled=!1),e&&(e.disabled=!1)):a<Ad.MODULE_SEARCH_LIMIT_S*4&&setTimeout(function(){return i.enableButtons(n,e,a+1)},250)}},{key:"setUpInitial",value:function(n,e,a,s){var u=e?.downloadClass||i.DOWNLOAD_BUTTON_CLASS,c=e?.uploadClass||i.UPLOAD_BUTTON_CLASS,f=e?.fileInputClass||i.FILE_INPUT_CLASS;return setTimeout(function(){var p=a?.getElementsByClassName(u)[0],m=a?.getElementsByClassName(f)[0],g=a?.getElementsByClassName(c)[0];p&&(p.onclick=function(){return n()}),m&&(m.onchange=function(){m.files&&m.files.length>0&&n(m.files)}),g&&(g.onclick=function(){return m.click()}),(p||g)&&i.enableButtons(p,g)}),e?.initialHtml||`<div>
        Download or upload a web model that will run entirely on your browser: <br/> 
        <button disabled class="`.concat(u,` deep-chat-button deep-chat-web-model-button">Download</button>
        `).concat(s?"":'<input type="file" class="'.concat(f,`" hidden multiple />
          <button disabled class="`).concat(c,' deep-chat-button deep-chat-web-model-button">Upload</button>'),`
      </div>`)}},{key:"exportFile",value:function(n){for(var e=document.createElement("a"),a=4,s=function(f){setTimeout(function(){for(var p=f*a,m=p;m<Math.min(p+a,n.length);m+=1){var g=URL.createObjectURL(n[m]);e.href=g,e.download=n[m].name,document.body.appendChild(e),e.click(),URL.revokeObjectURL(g)}},500*f)},u=0;u<n.length/a;u+=1)s(u)}},{key:"setUpAfterLoad",value:function(n,e,a,s){var u=e?.exportFilesClass||i.EXPORT_BUTTON_CLASS;return setTimeout(function(){var c=a?.getElementsByClassName(u)[0];c&&(c.onclick=function(){return i.exportFile(n)})}),e?.afterLoadHtml||`<div>
        Model loaded successfully and has been cached for future requests.
        `.concat(s?"":'<br/> <button style="margin-top: 5px" class="'.concat(u,' deep-chat-button">Export</button>'),`
      </div>`)}}])})();us.DOWNLOAD_BUTTON_CLASS="deep-chat-download-button",us.UPLOAD_BUTTON_CLASS="deep-chat-upload-button",us.FILE_INPUT_CLASS="deep-chat-file-input",us.EXPORT_BUTTON_CLASS="deep-chat-export-button";var fv=us,hv={model_list:[{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f32_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f32_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f32_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:9109.03,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:6749.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-7b-chat-hf-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:4618.52,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-13b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-13b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-13b-chat-hf/Llama-2-13b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:11814.09,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Llama-2-70b-chat-hf-q4f16_1-MLC/resolve/main/",local_id:"Llama-2-70b-chat-hf-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-70b-chat-hf/Llama-2-70b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm",vram_required_MB:43729.05,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx2k-webgpu.wasm",vram_required_MB:2972.09,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f32_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx2k-webgpu.wasm",vram_required_MB:3928.09,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:2041.09,low_resource_required:!0,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/",local_id:"RedPajama-INCITE-Chat-3B-v1-q4f32_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx1k-webgpu.wasm",vram_required_MB:2558.09,low_resource_required:!0},{model_url:"https://huggingface.co/mlc-ai/WizardMath-7B-V1.1-q4f16_1-MLC/resolve/main/",local_id:"WizardMath-7B-V1.1-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/Mistral-7B-Instruct-v0.2-q4f16_1-MLC/resolve/main/",local_id:"Mistral-7B-Instruct-v0.2-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/OpenHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/",local_id:"OpenHermes-2.5-Mistral-7B-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/NeuralHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/",local_id:"NeuralHermes-2.5-Mistral-7B-q4f16_1",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm",vram_required_MB:6079.02,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q0f16-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q0f16",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q0f16-ctx2k-webgpu.wasm",vram_required_MB:5063.52,low_resource_required:!1,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q0f32-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q0f32",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q0f32-ctx2k-webgpu.wasm",vram_required_MB:5394.53,low_resource_required:!1},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q4f16_1-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q4f16_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q4f16_1-ctx1k-webgpu.wasm",vram_required_MB:899.11,low_resource_required:!0,required_features:["shader-f16"]},{model_url:"https://huggingface.co/mlc-ai/TinyLlama-1.1B-Chat-v0.4-q4f32_1-MLC/resolve/main/",local_id:"TinyLlama-1.1B-Chat-v0.4-q4f32_1-1k",model_lib_url:"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/TinyLlama-1.1B-Chat-v0.4/TinyLlama-1.1B-Chat-v0.4-q4f32_1-ctx1k-webgpu.wasm",vram_required_MB:992.11,low_resource_required:!0}],use_web_worker:!0},Ir=(function(i){function o(n){var e;N(this,o);var a,s;return e=pe(this,o,[n]),e._isModelLoaded=!1,e._isModelLoading=!1,e._loadOnFirstMessage=!1,e._webModel={},e.permittedErrorPrefixes=[o.MULTIPLE_MODELS_ERROR,o.WEB_LLM_NOT_FOUND_ERROR,o.GENERIC_ERROR],e._conversationHistory=[],re(n.webModel)=="object"&&(e._webModel=n.webModel),(a=e._webModel.load)!=null&&a.clearCache&&o.clearAllCache(),e.findModelInWindow(n),e.canSendMessage=e.canSubmit.bind(Ur(e)),e._chatEl=(s=n.shadowRoot)==null?void 0:s.children[0],n.history&&o.setUpHistory(e._conversationHistory,n.history),e}return me(o,i),I(o,[{key:"setUpMessages",value:function(e){var a=this;this._messages=e,this._removeIntro=function(){e.removeIntroductoryMessage(),a._removeIntro=void 0}}},{key:"findModelInWindow",value:function(e){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u;window.webLLM?this.configureInit(this.shouldAddIntroMessage(e.introMessage)):s>o.MODULE_SEARCH_LIMIT_S?((u=this._messages)==null||u.addNewErrorMessage("service",o.WEB_LLM_NOT_FOUND_ERROR),console.error("The deep-chat-web-llm module has not been attached to the window object. Please see the following guide:"),console.error("https://deepchat.dev/examples/externalModules")):setTimeout(function(){return a.findModelInWindow(e,s+1)},1e3)}},{key:"shouldAddIntroMessage",value:function(e){var a;return!e&&this._webModel&&((a=this._webModel.introMessage)==null?void 0:a.displayed)!==!1}},{key:"scrollToTop",value:function(e){var a=this,s;((s=this._webModel.introMessage)==null?void 0:s.autoScroll)!==!1&&setTimeout(function(){var u,c;(u=a._messages)!=null&&u.elementRef&&Ot.scrollToTop((c=a._messages)==null?void 0:c.elementRef)},e)}},{key:"getIntroMessage",value:function(e){if(!(!this.shouldAddIntroMessage(e)||!this._chatEl)){var a=fv.setUpInitial(this.init.bind(this),this._webModel.introMessage,this._chatEl,!!this._webModel.worker);return this.scrollToTop(1),{role:fe.AI_ROLE,html:a,sendUpdate:!1}}}},{key:"configureInit",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(u=this._webModel.load,!u){f.next=8;break}if(!u.onInit){f.next=5;break}return this.init(),f.abrupt("return");case 5:if(!u.onMessage){f.next=8;break}return this._loadOnFirstMessage=!0,f.abrupt("return");case 8:s||this.init();case 9:case"end":return f.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"init",value:(function(){var n=z(T().mark(function a(s){var u,c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if((u=this._messages)==null||u.removeError(),c=this.attemptToCreateChat(),p.t0=c,!p.t0){p.next=6;break}return p.next=6,this.loadModel(c,s);case 6:case"end":return p.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"attemptToCreateChat",value:function(){var e;if(o.chat){(e=this._messages)==null||e.addNewErrorMessage("service",o.MULTIPLE_MODELS_ERROR),console.error(o.MULTIPLE_MODELS_ERROR);return}if(!(this._isModelLoaded||this._isModelLoading)){var a=this._webModel.worker;return hv.use_web_worker&&a?new window.webLLM.ChatWorkerClient(a):new window.webLLM.ChatModule}}},{key:"getConfig",value:function(){var e,a=o.DEFAULT_MODEL;this._webModel.model&&(a=this._webModel.model);var s=JSON.parse(JSON.stringify(hv));if(this._webModel.urls){var u=s.model_list.find(function(c){return c.local_id=a});u&&(this._webModel.urls.model&&(u.model_url=this._webModel.urls.model),this._webModel.urls.wasm&&(u.model_lib_url=this._webModel.urls.wasm))}return(e=this._webModel.load)!=null&&e.skipCache&&(s.use_cache=!1),{model:a,appConfig:s}}},{key:"loadModel",value:(function(){var n=z(T().mark(function a(s,u){var c=this,f,p,m,g,b,y,k,E,w,M,O,X,ne,P,G;return T().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return this.scrollToTop(),o.chat=s,this._isModelLoading=!0,E=((f=this._webModel.introMessage)==null?void 0:f.displayed)===!1,w=function(W){var Q;(Q=c._messages)==null||Q.addNewMessage({html:"<div>".concat(W.text,"</div>"),overwrite:!0,sendUpdate:!1}),E&&(setTimeout(function(){var q;return Ot.scrollToBottom((q=c._messages)==null?void 0:q.elementRef)}),E=!1)},o.chat.setInitProgressCallback(w),K.prev=4,O=this.getConfig(),X=O.model,ne=O.appConfig,P={},this._webModel.instruction&&(P.conv_config={system:this._webModel.instruction}),this._conversationHistory.length>0&&(P.conversation_history=this._conversationHistory),K.next=10,o.chat.reload(X,P,ne,u);case 10:M=K.sent,K.next=16;break;case 13:return K.prev=13,K.t0=K.catch(4),K.abrupt("return",this.unloadChat(K.t0));case 16:(m=(p=this.deepChat)._validationHandler)==null||m.call(p),(g=this._webModel.introMessage)!=null&&g.removeAfterLoad?this._webModel.introMessage.displayed===!1?(y=this._messages)==null||y.removeLastMessage():(k=this._removeIntro)==null||k.call(this):(G=fv.setUpAfterLoad(M,this._webModel.introMessage,this._chatEl,!!this._webModel.worker),(b=this._messages)==null||b.addNewMessage({html:G,overwrite:!0,sendUpdate:!1})),this._isModelLoaded=!0,this._isModelLoading=!1;case 18:case"end":return K.stop()}},a,this,[[4,13]])}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"unloadChat",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if((u=this._messages)==null||u.addNewErrorMessage("service",o.GENERIC_ERROR),console.error(s),this._isModelLoaded=!1,this._isModelLoading=!1,f.t0=o.chat,!f.t0){f.next=9;break}return f.next=8,o.chat.unload();case 8:o.chat=void 0;case 9:case"end":return f.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"immediateResp",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,c.generate(u,void 0,0);case 2:return g.t0=g.sent,f={text:g.t0},g.next=6,o.processResponse(this.deepChat,s,f);case 6:p=g.sent,p&&p.forEach(function(b){return s.addNewMessage(b)}),this.completionsHandlers.onFinish();case 8:case"end":return g.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"streamResp",value:(function(){var n=z(T().mark(function a(s,u,c){var f=this,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.streamHandlers.abortStream.abort=function(){c.interruptGenerate()},this.streamHandlers.onOpen(),p=new ha(s),g.next=4,c.generate(u,(function(){var b=z(T().mark(function y(k,E){var w;return T().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,o.processResponse(f.deepChat,s,{text:E});case 2:w=O.sent,w&&p.upsertStreamedMessage({text:w[0].text,overwrite:!0});case 4:case"end":return O.stop()}},y)}));return function(y,k){return b.apply(this,arguments)}})());case 4:p.finaliseStreamedMessage(),this.streamHandlers.onClose();case 6:case"end":return g.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"generateRespByType",value:(function(){var n=z(T().mark(function a(s,u,c,f){var p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(g.prev=0,!c){g.next=6;break}return g.next=4,this.streamResp(s,u,f);case 4:g.next=8;break;case 6:return g.next=8,this.immediateResp(s,u,f);case 8:g.next=13;break;case 10:g.prev=10,g.t0=g.catch(0),(p=this._messages)==null||p.addNewErrorMessage("service"),console.log(g.t0);case 13:case"end":return g.stop()}},a,this,[[0,10]])}));function e(a,s,u,c){return n.apply(this,arguments)}return e})()},{key:"generateResp",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m,g,b,y,k;return T().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return f=u[u.length-1].text,w.next=3,_e.processRequestInterceptor(this.deepChat,{body:{text:f}});case 3:p=w.sent,m=p.body,g=p.error,b=!!this.stream;try{g?(_e.displayError(s,new Error(g)),(b?this.streamHandlers.onClose:this.completionsHandlers.onFinish)()):!m||!m.text?(y=qe.INVALID_MODEL_REQUEST({body:m},!1),console.error(y),k=b?this.streamHandlers.onClose:this.completionsHandlers.onFinish,_e.onInterceptorError(s,y,k)):this.generateRespByType(s,m.text,!!this.stream,c)}catch(M){this.unloadChat(M)}case 8:case"end":return w.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this._isModelLoaded){m.next=7;break}if(!this._loadOnFirstMessage){m.next=6;break}return m.next=4,this.init();case 4:m.next=7;break;case 6:return m.abrupt("return");case 7:!o.chat||this._isModelLoading||((c=this._webModel.introMessage)!=null&&c.removeAfterMessage&&((f=this._removeIntro)==null||f.call(this)),s.addLoadingMessage(),this.generateResp(s,u,o.chat));case 8:case"end":return m.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"canSubmit",value:function(e){return!(e!=null&&e.trim())||this._isModelLoading?!1:this._loadOnFirstMessage?!0:!!this._isModelLoaded}},{key:"isWebModel",value:function(){return!0}}],[{key:"setUpHistory",value:function(e,a){a.forEach(function(s,u){if(s.role===fe.USER_ROLE&&s.text){var c=a[u+1];c!=null&&c.text&&c.role!==fe.USER_ROLE&&e.push([s.text,c.text])}})}},{key:"processResponse",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m,g,b,y;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(f=s.responseInterceptor)==null?void 0:f.call(s,c);case 2:if(E.t0=E.sent,E.t0){E.next=5;break}E.t0=c;case 5:if(m=E.t0,!((p=s.connect)!=null&&p.stream&&Array.isArray(m)&&m.length>1)){E.next=9;break}return console.error(qe.INVALID_STREAM_ARRAY_RESPONSE),E.abrupt("return");case 9:if(g=Array.isArray(m)?m:[m],b=g.find(function(w){return typeof w.error=="string"}),!b){E.next=15;break}return _e.displayError(u,new Error(b.error)),E.abrupt("return");case 15:if(!g.find(function(w){return!w||!w.text})){E.next=19;break}return y=qe.INVALID_MODEL_RESPONSE(c,!!s.responseInterceptor,m),_e.displayError(u,new Error(y)),E.abrupt("return");case 19:return E.abrupt("return",g);case 20:case"end":return E.stop()}},a)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"clearAllCache",value:function(){o.clearCache("webllm/model"),o.clearCache("webllm/wasm")}},{key:"clearCache",value:function(e){caches.open(e).then(function(a){a.keys().then(function(s){s.forEach(function(u){a.delete(u)})})})}}])})(io);Ir.GENERIC_ERROR="Error, please check the [troubleshooting](https://deepchat.dev/docs/webModel#troubleshooting) section of documentation for help.",Ir.MULTIPLE_MODELS_ERROR="Cannot run multiple web models",Ir.WEB_LLM_NOT_FOUND_ERROR="WebLLM module not found",Ir.DEFAULT_MODEL="Llama-2-7b-chat-hf-q4f32_1",Ir.MODULE_SEARCH_LIMIT_S=5;var Ad=Ir,pv=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(n){return{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(n,e,a,s){var u=n;Array.isArray(u.error)&&u.error[0]==="Error in `parameters`: field required"?a(e):s(qe.INVALID_KEY)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api-inference.huggingface.co/models/gpt2",method:"POST",handleVerificationResult:i.handleVerificationResult}}}])})(),Yg=(function(i){function o(n,e,a,s,u,c){var f;return N(this,o),f=pe(this,o,[n,pv.buildKeyVerificationDetails(),pv.buildHeaders,u,c]),f.insertKeyPlaceholderText="Hugging Face Token",f.keyHelpUrl="https://huggingface.co/settings/tokens",f.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Hugging Face</b></div>
    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>`,f.permittedErrorPrefixes=["Authorization header"],f.url="".concat(o.URL_PREFIX).concat(a),f.textInputPlaceholderText=e,re(s)=="object"&&(s.model&&(f.url="".concat(o.URL_PREFIX).concat(s.model)),s.options&&(f.rawBody.options=s.options),s.parameters&&(f.rawBody.parameters=s.parameters)),f}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a,s){var u,c=JSON.parse(JSON.stringify(e)),f=a[a.length-1].text;if(f)return(u=c.options)!==null&&u!==void 0||(c.options={}),c.options.wait_for_model=!0,Oe({inputs:f},c)}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.connectSettings){m.next=2;break}throw new Error("Request settings have not been set up");case 2:f=this.preprocessBody(this.rawBody,u,c),Xe.request(this,f,s);case 4:case"end":return m.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()}])})(bt);Yg.URL_PREFIX="https://api-inference.huggingface.co/models/";var Va=Yg,Cd=(function(i){function o(n,e,a,s,u,c){var f;return N(this,o),f=pe(this,o,[n,e,a,s,u,c]),f.isTextInputDisabled=!0,f.canSendMessage=o.canSendFile,f}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a,s){return s[0]}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:if(c!=null&&c[0]){p.next=4;break}throw new Error("No file was added");case 4:Xe.poll(this,c[0],s,!1);case 5:case"end":return p.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()}],[{key:"canSendFile",value:function(e,a){return!!(a!=null&&a[0])}}])})(Va),BE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.huggingFace)==null?void 0:a.audioClassification,c=(s=n.directConnection)==null?void 0:s.huggingFace;return pe(this,o,[n,"Attach an audio file","ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition",u,c,{audio:{}}])}return me(o,i),I(o,[{key:"extractPollResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.estimated_time){f.next=2;break}return f.abrupt("return",{timeoutMS:(s.estimated_time+1)*1e3});case 2:if(!s.error){f.next=4;break}throw s.error;case 4:return f.abrupt("return",{text:((u=s[0])==null?void 0:u.label)||""});case 5:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Cd),UE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.huggingFace)==null?void 0:a.imageClassification,c=(s=n.directConnection)==null?void 0:s.huggingFace;return pe(this,o,[n,"Attach an image file","google/vit-base-patch16-224",u,c,{images:{}}])}return me(o,i),I(o,[{key:"extractPollResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.estimated_time){f.next=2;break}return f.abrupt("return",{timeoutMS:(s.estimated_time+1)*1e3});case 2:if(!s.error){f.next=4;break}throw s.error;case 4:return f.abrupt("return",{text:((u=s[0])==null?void 0:u.label)||""});case 5:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Cd),ks="data:image/png;base64,",ma=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(n){return{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(n,e,a,s){n.message?s(qe.INVALID_KEY):a(e)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.stability.ai/v1/engines/list",method:"GET",handleVerificationResult:i.handleVerificationResult}}}])})(),co=(function(i){function o(n,e,a,s,u){var c;return N(this,o),c=pe(this,o,[n,e,a,s,u]),c.insertKeyPlaceholderText="Stability AI API Key",c.keyHelpUrl="https://platform.stability.ai/docs/getting-started/authentication",c.permittedErrorPrefixes=["Incorrect","invalid_"],c}return me(o,i),I(o)})(bt),jE=(function(i){function o(n){var e;N(this,o);var a,s=JSON.parse(JSON.stringify(n.directConnection)),u=s?.stabilityAI,c={images:{files:{acceptedFormats:".png",maxNumberOfFiles:1}}};e=pe(this,o,[n,ma.buildKeyVerificationDetails(),ma.buildHeaders,u,c]),e.url="https://api.stability.ai/v1/generation/esrgan-v1-x2plus/image-to-image/upscale",e.textInputPlaceholderText="Describe image changes",e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI</b></div>
    <div style="width: 100%; text-align: center; margin-left: -10px; margin-top: 5px"><b>Image to Image Upscale</b></div>
    <p>Upload an image to generate a new one with higher resolution.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var f=(a=s?.stabilityAI)==null?void 0:a.imageToImageUpscale;return re(f)=="object"&&(f.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(f.engine_id,"/image-to-image/upscale")),o.cleanConfig(f),Object.assign(e.rawBody,f)),e.canSendMessage=o.canSendFileMessage,e}return me(o,i),I(o,[{key:"createFormDataBody",value:function(e,a){var s=new FormData;return s.append("image",a),Object.keys(e).forEach(function(u){s.append(u,String(e[u]))}),s}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.connectSettings){m.next=2;break}throw new Error("Request settings have not been set up");case 2:if(c){m.next=4;break}throw new Error("Image was not found");case 4:f=this.createFormDataBody(this.rawBody,c[0]),_e.tempRemoveContentHeader(this.connectSettings,Xe.request.bind(this,this,f,s),!1);case 6:case"end":return m.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{files:s.artifacts.map(function(f){return{src:"".concat(ks).concat(f.base64),type:"image"}})});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id}},{key:"canSendFileMessage",value:function(e,a){return!!(a!=null&&a[0])}}])})(co),zE=(function(i){function o(n){var e;N(this,o);var a,s=JSON.parse(JSON.stringify(n.directConnection)),u=s?.stabilityAI,c={images:{files:{acceptedFormats:".png",maxNumberOfFiles:2}}};e=pe(this,o,[n,ma.buildKeyVerificationDetails(),ma.buildHeaders,u,c]),e.url="https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/image-to-image/masking",e._maskSource="MASK_IMAGE_WHITE",e.textInputPlaceholderText="Describe image changes",e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI</b></div>
    <div style="width: 100%; text-align: center; margin-left: -10px; margin-top: 5px"><b>Image to Image Masking</b></div>
    <p>Upload an image, its mask image to create a new one based on the changes you have described for the mask area.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var f=(a=s?.stabilityAI)==null?void 0:a.imageToImageMasking;return re(f)=="object"&&(f.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(f.engine_id,"/image-to-image/masking")),f.weight!==void 0&&f.weight!==null&&(e._imageWeight=f.weight),f.mask_source!==void 0&&f.mask_source!==null&&(e._maskSource=f.mask_source),o.cleanConfig(f),Object.assign(e.rawBody,f)),e.canSendMessage=o.canSendFileTextMessage,e}return me(o,i),I(o,[{key:"createFormDataBody",value:function(e,a,s,u){var c=new FormData;return c.append("init_image",a),c.append("mask_source",String(this._maskSource)),c.append("mask_image",s),u&&u!==""&&c.append("text_prompts[0][text]",u),this._imageWeight!==void 0&&this._imageWeight!==null&&c.append("text_prompts[0][weight]",String(this._imageWeight)),Object.keys(e).forEach(function(f){c.append(f,String(e[f]))}),c.get("weight")===void 0&&c.append("weight",String(1)),c}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.connectSettings){y.next=2;break}throw new Error("Request settings have not been set up");case 2:if(!(!c||!c[0]||!c[1])){y.next=4;break}throw new Error("Image was not found");case 4:m=(p=(f=u[u.length-1])==null?void 0:f.text)==null?void 0:p.trim(),g=this.createFormDataBody(this.rawBody,c[0],c[1],m),_e.tempRemoveContentHeader(this.connectSettings,Xe.request.bind(this,this,g,s),!1);case 6:case"end":return y.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{files:s.artifacts.map(function(f){return{src:"".concat(ks).concat(f.base64),type:"image"}})});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id,delete e.weight}},{key:"canSendFileTextMessage",value:function(e,a){return!!(a!=null&&a[0])&&!!(e&&e.trim()!=="")}}])})(co),PE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.huggingFace)==null?void 0:a.audioSpeechRecognition,c=(s=n.directConnection)==null?void 0:s.huggingFace;return pe(this,o,[n,"Attach an audio file","facebook/wav2vec2-large-960h-lv60-self",u,c,{audio:{}}])}return me(o,i),I(o,[{key:"extractPollResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.estimated_time){c.next=2;break}return c.abrupt("return",{timeoutMS:(s.estimated_time+1)*1e3});case 2:if(!s.error){c.next=4;break}throw s.error;case 4:return c.abrupt("return",{text:s.text||""});case 5:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Cd),HE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.huggingFace)==null?void 0:a.textGeneration,c=(s=n.directConnection)==null?void 0:s.huggingFace;return pe(this,o,[n,"Once upon a time","gpt2",u,c])}return me(o,i),I(o,[{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.error){f.next=2;break}throw s.error;case 2:return f.abrupt("return",{text:((u=s[0])==null?void 0:u.generated_text)||""});case 3:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Va),qE=(function(i){function o(n){var e;N(this,o);var a,s,u,c=(s=(a=n.directConnection)==null?void 0:a.huggingFace)==null?void 0:s.questionAnswer,f=(u=n.directConnection)==null?void 0:u.huggingFace;return e=pe(this,o,[n,"Ask a question","bert-large-uncased-whole-word-masking-finetuned-squad",c,f]),e.permittedErrorPrefixes=["Authorization header","Error in"],e._context=c.context,e}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=a[a.length-1].text;if(s)return{inputs:{question:s,context:this._context,options:{wait_for_model:!0}}}}},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.error){c.next=2;break}throw s.error;case 2:return c.abrupt("return",{text:s.answer||""});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Va),FE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.huggingFace)==null?void 0:a.summarization,c=(s=n.directConnection)==null?void 0:s.huggingFace;return pe(this,o,[n,"Insert text to summarize","facebook/bart-large-cnn",u,c])}return me(o,i),I(o,[{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.error){f.next=2;break}throw s.error;case 2:return f.abrupt("return",{text:((u=s[0])==null?void 0:u.summary_text)||""});case 3:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Va),GE=(function(i){function o(n){var e,a;N(this,o);var s,u,c,f=(u=(s=n.directConnection)==null?void 0:s.huggingFace)==null?void 0:u.conversation,p=(c=n.directConnection)==null?void 0:c.huggingFace;return a=pe(this,o,[n,"Ask me anything!","facebook/blenderbot-400M-distill",f,p]),(e=a.maxMessages)!==null&&e!==void 0||(a.maxMessages=-1),a}return me(o,i),I(o,[{key:"processMessages",value:function(e){var a=e.filter(function(p){return p.text}),s=a[a.length-1].text,u=a.slice(0,a.length-1);if(s){var c=u.filter(function(p){return p.role==="user"}).map(function(p){return p.text}),f=u.filter(function(p){return p.role==="ai"}).map(function(p){return p.text});return{past_user_inputs:c,generated_responses:f,mostRecentMessageText:s}}}},{key:"preprocessBody",value:function(e,a){var s,u=JSON.parse(JSON.stringify(e)),c=this.processMessages(a);if(c)return(s=u.options)!==null&&s!==void 0||(u.options={}),u.options.wait_for_model=!0,Oe({inputs:{past_user_inputs:c.past_user_inputs,generated_responses:c.generated_responses,text:c.mostRecentMessageText}},u)}},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.error){c.next=2;break}throw s.error;case 2:return c.abrupt("return",{text:s.generated_text||""});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Va),VE=(function(i){function o(n){var e;N(this,o);var a,s=JSON.parse(JSON.stringify(n.directConnection)),u=s.stabilityAI,c={images:{files:{acceptedFormats:".png",maxNumberOfFiles:1}}};e=pe(this,o,[n,ma.buildKeyVerificationDetails(),ma.buildHeaders,u,c]),e.url="https://api.stability.ai/v1/generation/stable-diffusion-v1-6/image-to-image",e.textInputPlaceholderText="Describe image changes",e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI: Image to Image</b></div>
    <p>Upload an image to create a new one with the changes you have described.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var f=(a=s.stabilityAI)==null?void 0:a.imageToImage;return re(f)=="object"&&(f.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(f.engine_id,"/text-to-image")),f.weight!==void 0&&f.weight!==null&&(e._imageWeight=f.weight),o.cleanConfig(f),Object.assign(e.rawBody,f)),e.canSendMessage=o.canSendFileTextMessage,e}return me(o,i),I(o,[{key:"createFormDataBody",value:function(e,a,s){var u=new FormData;return u.append("init_image",a),s&&s!==""&&u.append("text_prompts[0][text]",s),this._imageWeight!==void 0&&this._imageWeight!==null&&u.append("text_prompts[0][weight]",String(this._imageWeight)),Object.keys(e).forEach(function(c){u.append(c,String(e[c]))}),u.get("weight")===void 0&&u.append("weight",String(1)),u}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.connectSettings){y.next=2;break}throw new Error("Request settings have not been set up");case 2:if(c){y.next=4;break}throw new Error("Image was not found");case 4:m=(p=(f=u[u.length-1])==null?void 0:f.text)==null?void 0:p.trim(),g=this.createFormDataBody(this.rawBody,c[0],m),_e.tempRemoveContentHeader(this.connectSettings,Xe.request.bind(this,this,g,s),!1);case 6:case"end":return y.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{files:s.artifacts.map(function(f){return{src:"".concat(ks).concat(f.base64),type:"image"}})});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id,delete e.weight}},{key:"canSendFileTextMessage",value:function(e,a){return!!(a!=null&&a[0])&&!!(e&&e.trim()!=="")}}])})(co),KE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.huggingFace)==null?void 0:a.translation,c=(s=n.directConnection)==null?void 0:s.huggingFace;return pe(this,o,[n,"Insert text to translate","Helsinki-NLP/opus-tatoeba-en-ja",u,c])}return me(o,i),I(o,[{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.error){f.next=2;break}throw s.error;case 2:return f.abrupt("return",{text:((u=s[0])==null?void 0:u.translation_text)||""});case 3:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Va),YE=(function(i){function o(n){var e;N(this,o);var a,s=JSON.parse(JSON.stringify(n.directConnection)),u=s.stabilityAI;e=pe(this,o,[n,ma.buildKeyVerificationDetails(),ma.buildHeaders,u]),e.url="https://api.stability.ai/v1/generation/stable-diffusion-v1-6/text-to-image",e.textInputPlaceholderText="Describe an image",e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Stability AI: Text to Image</b></div>
    <p>Insert text to generate an image.</p>
    <p>Click <a href="https://platform.stability.ai/">here</a> for more info.</p>`;var c=(a=s.stabilityAI)==null?void 0:a.textToImage;return re(c)=="object"&&(c.engine_id&&(e.url="https://api.stability.ai/v1/generation/".concat(c.engine_id,"/text-to-image")),c.weight!==void 0&&c.weight!==null&&(e._imageWeight=c.weight),o.cleanConfig(c),Object.assign(e.rawBody,c)),e.canSendMessage=o.canSendTextMessage,e}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=JSON.parse(JSON.stringify(e)),u={text:a};return this._imageWeight&&(u.weight=this._imageWeight),s.text_prompts=[u],s}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u[u.length-1].text),Xe.request(this,c,s);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{files:s.artifacts.map(function(f){return{src:"".concat(ks).concat(f.base64),type:"image"}})});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"cleanConfig",value:function(e){delete e.engine_id,delete e.weight}},{key:"canSendTextMessage",value:function(e){return!!(e&&e.trim()!=="")}}])})(co),XE=(function(i){function o(n){var e;N(this,o);var a,s,u,c=(s=(a=n.directConnection)==null?void 0:a.huggingFace)==null?void 0:s.fillMask,f=(u=n.directConnection)==null?void 0:u.huggingFace;return e=pe(this,o,[n,"The goal of life is [MASK].","bert-base-uncased",c,f]),e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Hugging Face</b></div>
    <p>Insert a sentence with the word [MASK] and the model will try to fill it for you. E.g. I want [MASK].</p>
    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>`,e.permittedErrorPrefixes=["Authorization header","No mask_token"],e}return me(o,i),I(o,[{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.error){f.next=2;break}throw s.error;case 2:return f.abrupt("return",{text:((u=s[0])==null?void 0:u.sequence)||""});case 3:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(Va),rd=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(n){return{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(n,e,a,s){var u=n;u.error?u.error.code==="invalid_api_key"?s(qe.INVALID_KEY):s(qe.CONNECTION_FAILED):a(e)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.openai.com/v1/models",method:"GET",handleVerificationResult:i.handleVerificationResult}}},{key:"directFetch",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p=arguments;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return c=p.length>3&&p[3]!==void 0?p[3]:!0,a.connectSettings.method=u,g.next=4,_e.fetch(a,a.connectSettings.headers,c,s).then(function(b){return _e.processResponseByType(b)});case 4:if(f=g.sent,!f.error){g.next=7;break}throw f.error.message;case 7:return g.abrupt("return",f);case 8:case"end":return g.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()}])})();rd.FUNCTION_TOOL_RESP_ERROR="Response object must either be {response: string}[] for each individual function or {text: string} for a direct response, see https://deepchat.dev/docs/directConnection/OpenAI#FunctionHandler.",rd.FUNCTION_TOOL_RESP_ARR_ERROR="Arrays are not accepted in handler responses";var et=rd,id=(function(){function i(){N(this,i)}return I(i,null,[{key:"storeFiles",value:(function(){var o=z(T().mark(function e(a,s,u,c){var f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=a.connectSettings.headers,f){y.next=3;break}return y.abrupt("return");case 3:return a.url=c,p=f[_e.CONTENT_TYPE],delete f[_e.CONTENT_TYPE],m=u.map((function(){var k=z(T().mark(function E(w){var M;return T().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return M=new FormData,X.abrupt("return",(M.append("purpose","assistants"),M.append("file",w),new Promise(function(ne){ne(et.directFetch(a,M,"POST",!1))})));case 2:case"end":return X.stop()}},E)}));return function(E){return k.apply(this,arguments)}})()),y.prev=7,y.next=10,Promise.all(m);case 10:return g=y.sent.map(function(k){return{id:k.id,name:k.filename}}),y.abrupt("return",(f[_e.CONTENT_TYPE]=p,g));case 14:throw y.prev=14,y.t0=y.catch(7),f[_e.CONTENT_TYPE]=p,_e.displayError(s,y.t0),a.completionsHandlers.onFinish(),y.t0;case 17:case"end":return y.stop()}},e,null,[[7,14]])}));function n(e,a,s,u){return o.apply(this,arguments)}return n})()},{key:"getType",value:function(n,e){var a=n[e].path;return!a||a.endsWith("png")?"image":"any"}},{key:"getFiles",value:(function(){var o=z(T().mark(function e(a,s,u,c){var f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return f=s.map(function(b){var y=b.fileId;return a.url="".concat(u).concat(y).concat(c),new Promise(function(k){k(et.directFetch(a,void 0,"GET",!1))})}),g.next=3,Promise.all(f);case 3:return p=g.sent.map(function(b,y){return new Promise(function(k){var E=new FileReader;E.readAsDataURL(b),E.onload=function(w){k({src:w.target.result,name:s[y].name,type:i.getType(s,y)})}})}),g.next=6,Promise.all(p);case 6:return g.abrupt("return",g.sent);case 7:case"end":return g.stop()}},e)}));function n(e,a,s,u){return o.apply(this,arguments)}return n})()},{key:"getFileName",value:function(n){var e=n.split("/");return e[e.length-1]}},{key:"getFilesAndNewText",value:(function(){var o=z(T().mark(function e(a,s,u,c,f){var p,m,g,b,y;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(b=u.getFilesPrefix,y=u.getFilesPostfix,E.t0=s.length>0,!E.t0){E.next=7;break}return E.next=5,i.getFiles(a,s,b,y);case 5:g=E.sent,(p=f?.text)!=null&&p.value&&g.forEach(function(w,M){var O;if(w.src){var X=s[M].path;(O=f?.text)!=null&&O.value&&X&&(f.text.value=f.text.value.replace(X,w.src))}});case 7:return E.abrupt("return",(m=f?.text)!=null&&m.value?{text:f.text.value,role:c}:{files:g,role:c});case 8:case"end":return E.stop()}},e)}));function n(e,a,s,u,c){return o.apply(this,arguments)}return n})()},{key:"getFileDetails",value:function(n,e){var a,s=[];return(a=e?.text)!=null&&a.value&&n.content.forEach(function(u){var c,f;(f=(c=u.text)==null?void 0:c.annotations)==null||f.forEach(function(p){var m;p.text&&p.text.startsWith("sandbox:")&&(m=p.file_path)!=null&&m.file_id&&s.push({path:p.text,fileId:p.file_path.file_id,name:i.getFileName(p.text)})})}),e!=null&&e.image_file&&s.push({fileId:e.image_file.file_id}),s}},{key:"getFilesAndText",value:(function(){var o=z(T().mark(function e(a,s,u,c){var f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return f=i.getFileDetails(s,c),m.next=3,i.getFilesAndNewText(a,f,u,s.role,c);case 3:return m.abrupt("return",m.sent);case 4:case"end":return m.stop()}},e)}));function n(e,a,s,u){return o.apply(this,arguments)}return n})()},{key:"parseResult",value:function(n,e){var a=[];if(e)a=n.data;else for(var s=0;s<n.data.length;s+=1){var u=n.data[s];if(u.role==="assistant")a.push(u);else break}return a.reverse()}},{key:"parseMessages",value:function(n,e,a){var s=[];return e.forEach((function(){var u=z(T().mark(function c(f){return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:f.content.filter(function(g){return!!g.text||!!g.image_file}).sort(function(g){return g.text?-1:g.image_file?1:0}).forEach((function(){var g=z(T().mark(function b(y){return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:s.push(i.getFilesAndText(n,f,a,y));case 1:case"end":return E.stop()}},b)}));return function(b){return g.apply(this,arguments)}})());case 1:case"end":return m.stop()}},c)}));return function(c){return u.apply(this,arguments)}})()),Promise.all(s)}},{key:"processStreamMessages",value:(function(){var o=z(T().mark(function e(a,s,u){return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",i.parseMessages(a,[{content:s,role:"assistant"}],u));case 1:case"end":return f.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"processAPIMessages",value:(function(){var o=z(T().mark(function e(a,s,u,c){var f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return f=i.parseResult(s,u),m.abrupt("return",i.parseMessages(a,f,c));case 2:case"end":return m.stop()}},e)}));function n(e,a,s,u){return o.apply(this,arguments)}return n})()}])})();id.FILES_WITH_TEXT_ERROR="content with type `text` must have `text` values",id.FUNCTION_TOOL_RESP_ERROR="Response must contain an array of strings for each individual function/tool_call, see https://deepchat.dev/docs/directConnection/OpenAI/#assistant-functions.";var Da=id,Xg=(function(i){function o(n,e,a,s,u,c){var f;if(N(this,o),f=pe(this,o,[n,s,u,c]),f.insertKeyPlaceholderText="OpenAI API Key",f.keyHelpUrl="https://platform.openai.com/account/api-keys",f.url="",f.permittedErrorPrefixes=["Incorrect","Please send text",wd.FAILED_ERROR_MESSAGE],f.shouldFetchHistory=!1,f._searchedForThreadId=!1,f._config={},f._newAssistantDetails={model:"gpt-4"},f._waitingForStreamResponse=!1,f._isSSEStream=!1,f.urlSegments=a,re(e)=="object"){f._config=e;var p=f._config,m=p.new_assistant,g=p.thread_id,b=p.load_thread_history;Object.assign(f._newAssistantDetails,m),g&&(f.sessionId=g),b&&(f.shouldFetchHistory=!0)}return f.maxMessages=1,f._isSSEStream=!!(f.stream&&(re(f.stream)!="object"||!f.stream.simulation)),f}return me(o,i),I(o,[{key:"fetchHistoryFunc",value:(function(){var n=z(T().mark(function a(){var s=this,u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return setTimeout(function(){return s.deepChat.disableSubmitButton()},2),f.prev=1,f.next=4,this.getThreadMessages(this.sessionId,!0);case 4:return u=f.sent,f.abrupt("return",(this.deepChat.disableSubmitButton(!1),u));case 8:return f.prev=8,f.t0=f.catch(1),f.abrupt("return",[{error:"Failed to fetch history"}]);case 11:case"end":return f.stop()}},a,this,[[1,8]])}));function e(){return n.apply(this,arguments)}return e})()},{key:"processMessage",value:function(e,a){var s=this.totalMessagesMaxCharLength||-1,u=uo.getCharacterLimitMessages(e,s)[0];if(a&&a.length>0){var c=this.filesToolType;if(typeof this.filesToolType=="function"){var f=this.filesToolType(a.map(function(m){var g=m.name;return g}));f==="code_interpreter"||f==="file_search"||f==="images"?c=f:(console.error('Tool type "'.concat(f,'" is not valid')),console.error('Expected "code_interpreter" or "file_search" or "images". Going to default to "images"'))}if(c==="file_search")return o.processAttachmentsMessage(u,a,"file_search");if(c==="code_interpreter")return o.processAttachmentsMessage(u,a,"code_interpreter");if(a.find(function(m){var g=m.name;return!Tt.isImageFileExtension(g)}))console.error("The uploaded files contained a non-image file"),console.error('Make sure only images can be uploaded or define a "code_interpreter" or "file_search" value in the "files_tool_type" property'),console.warn('Make sure your existing assistant supports these "tools" or specify them in the "new_assistant" property');else{var p=o.processImageMessage(u,a);if(p)return p}}return{content:u.text||"",role:"user"}}},{key:"createNewThreadMessages",value:function(e,a,s){var u=JSON.parse(JSON.stringify(e)),c=this.processMessage(a,s);return u.thread={messages:[c]},u}},{key:"callService",value:function(e,a,s){if(this._messages=e,this.sessionId){this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/messages").concat(this.urlSegments.createMessagePostfix);var u=this.processMessage(a,s);Xe.request(this,u,e)}else{this.url="".concat(this.urlSegments.threadsPrefix,"/runs").concat(this.urlSegments.threadsPosfix);var c=this.createNewThreadMessages(this.rawBody,a,s);this._isSSEStream?this.createStreamRun(c):Xe.request(this,c,e)}}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(this._waitingForStreamResponse=!1,!!this.connectSettings){b.next=2;break}throw new Error("Request settings have not been set up");case 2:if(!((f=(p=this.rawBody).assistant_id)!==null&&f!==void 0)){b.next=6;break}b.next=12;break;case 6:if(b.t0=this._config.assistant_id,b.t0){b.next=11;break}return b.next=10,this.createNewAssistant();case 10:b.t0=b.sent;case 11:p.assistant_id=b.t0;case 12:if(this._searchedForThreadId||this.searchPreviousMessagesForThreadId(s.messageToElements),!c){b.next=19;break}return b.next=16,Da.storeFiles(this,s,c,this.urlSegments.storeFiles);case 16:b.t1=b.sent,b.next=20;break;case 19:b.t1=void 0;case 20:m=b.t1,this.connectSettings.method="POST",this.callService(s,u,m);case 22:case"end":return b.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"createNewAssistant",value:(function(){var n=z(T().mark(function a(){var s;return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,this.url=this.urlSegments.newAssistantUrl,c.next=4,et.directFetch(this,JSON.parse(JSON.stringify(this._newAssistantDetails)),"POST");case 4:return s=c.sent,c.abrupt("return",(this._config.assistant_id=s.id,this._config.assistant_id));case 8:c.prev=8,c.t0=c.catch(0),console.error(c.t0),console.error("Failed to create a new assistant");case 11:case"end":return c.stop()}},a,this,[[0,8]])}));function e(){return n.apply(this,arguments)}return e})()},{key:"searchPreviousMessagesForThreadId",value:function(e){var a=e.find(function(s){var u=za(s,1),c=u[0];return c._sessionId});a&&(this.sessionId=a[0]._sessionId),this._searchedForThreadId=!0}},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(this._waitingForStreamResponse||this._isSSEStream&&this.sessionId)){m.next=4;break}return m.next=3,this.handleStream(s);case 3:return m.abrupt("return",m.sent);case 4:if(!s.error){m.next=6;break}throw s.error.message.startsWith(Da.FILES_WITH_TEXT_ERROR)?Error("Please send text with your file(s)"):s.error.message;case 6:return m.next=8,this.assignThreadAndRun(s);case 8:return c="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs/").concat(this.run_id).concat(this.urlSegments.threadsPosfix),f={method:"GET",headers:(u=this.connectSettings)==null?void 0:u.headers},m.abrupt("return",(Xe.executePollRequest(this,c,f,this._messages),{makingAnotherRequest:!0}));case 10:case"end":return m.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"assignThreadAndRun",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!this.sessionId){f.next=8;break}return this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs").concat(this.urlSegments.threadsPosfix),f.next=4,et.directFetch(this,JSON.parse(JSON.stringify(this.rawBody)),"POST");case 4:u=f.sent,this.run_id=u.id,f.next=9;break;case 8:this.sessionId=s.thread_id,this.run_id=s.id,this._messages&&this._messages.messageToElements.length>0&&(this._messages.messageToElements[this._messages.messageToElements.length-1][0]._sessionId=this.sessionId);case 9:case"end":return f.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"getThreadMessages",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p,m=arguments;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return u=m.length>1&&m[1]!==void 0?m[1]:!1,this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(s,"/messages?").concat(this.urlSegments.listMessagesPostfix),b.next=4,et.directFetch(this,{},"GET");case 4:if(p=b.sent,b.t0=!u&&this.deepChat.responseInterceptor,!b.t0){b.next=10;break}return b.next=9,(f=(c=this.deepChat).responseInterceptor)==null?void 0:f.call(c,p);case 9:p=b.sent;case 10:return b.abrupt("return",Da.processAPIMessages(this,p,u,this.urlSegments));case 11:case"end":return b.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"extractPollResultData",value:(function(){var n=z(T().mark(function a(s){var u=this,c,f,p,m,g,b,y,k;return T().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(f=s.status,p=s.required_action,!(f==="queued"||f==="in_progress")){w.next=3;break}return w.abrupt("return",{timeoutMS:o.POLLING_TIMEOUT_MS});case 3:if(!(f==="completed"&&this._messages)){w.next=11;break}return w.next=6,this.getThreadMessages(s.thread_id);case 6:return m=w.sent,g=m.shift(),b=g.text,y=g.files,w.abrupt("return",(setTimeout(function(){m.forEach(function(M){return u.deepChat.addMessage(M)})}),{text:b,_sessionId:this.sessionId,files:y}));case 11:if(k=(c=p?.submit_tool_outputs)==null?void 0:c.tool_calls,!(f==="requires_action"&&k)){w.next=16;break}return w.next=15,this.handleTools(k);case 15:return w.abrupt("return",w.sent);case 16:throw Error("Thread run status: ".concat(f));case 17:case"end":return w.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.functionHandler){y.next=2;break}throw Error("Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Assistant) object.");case 2:return u=s.map(function(k){return{name:k.function.name,arguments:k.function.arguments}}),y.next=5,this.functionHandler(u);case 5:if(c=y.sent,!(!Array.isArray(c)||s.length!==c.length)){y.next=8;break}throw Error(Da.FUNCTION_TOOL_RESP_ERROR);case 8:return y.next=10,Promise.all(c);case 10:if(f=y.sent,!f.find(function(k){return typeof k!="string"})){y.next=13;break}throw Error(Da.FUNCTION_TOOL_RESP_ERROR);case 13:if(p=f.map(function(k,E){return{tool_call_id:s[E].id,output:k}}),m="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId),g="/runs/".concat(this.run_id,"/submit_tool_outputs").concat(this.urlSegments.threadsPosfix),this.url="".concat(m).concat(g),!this._isSSEStream){y.next=20;break}return y.next=18,this.createStreamRun({tool_outputs:p});case 18:y.next=22;break;case 20:return y.next=22,et.directFetch(this,{tool_outputs:p},"POST");case 22:return y.abrupt("return",{timeoutMS:o.POLLING_TIMEOUT_MS});case 23:case"end":return y.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"handleStream",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(f=(c=(u=s.required_action)==null?void 0:u.submit_tool_outputs)==null?void 0:c.tool_calls,!(s.status==="requires_action"&&f)){g.next=6;break}return this.run_id=s.id,g.next=5,this.handleTools(f);case 5:return g.abrupt("return",g.sent);case 6:if(!this._waitingForStreamResponse){g.next=8;break}return g.abrupt("return",this.parseStreamResult(s));case 8:return this._isSSEStream&&this.sessionId&&(this.url="".concat(this.urlSegments.threadsPrefix,"/").concat(this.sessionId,"/runs").concat(this.urlSegments.threadsPosfix),p=JSON.parse(JSON.stringify(this.rawBody)),this.createStreamRun(p)),g.abrupt("return",{makingAnotherRequest:!0});case 10:case"end":return g.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"parseStreamResult",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p,m,g,b,y,k,E;return T().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(s.content&&s.content.length>0&&this._messages)){M.next=5;break}if(g=s.content.find(function(O){return O.text}),!((u=g?.text)!=null&&u.annotations&&g.text.annotations.length>0)){M.next=5;break}return b=s.content.find(function(O){return!!O.text})||s.content[0],y=Da.getFilesAndText.bind(this,this,{role:"assistant",content:s.content},this.urlSegments,b),M.abrupt("return",((c=this._messageStream)==null||c.endStreamAfterFileDownloaded(this._messages,y),{text:""}));case 5:if(!((f=s.delta)!=null&&f.content)){M.next=14;break}if(!(s.delta.content.length>1)){M.next=13;break}if(k=s.delta.content.find(function(O){return O.text}),!((p=k?.text)!=null&&p.annotations&&k.text.annotations.length===0)){M.next=13;break}return M.next=11,Da.processStreamMessages(this,s.delta.content,this.urlSegments);case 11:return E=M.sent,M.abrupt("return",{text:E[0].text,files:E[1].files});case 13:return M.abrupt("return",{text:(m=s.delta.content[0].text)==null?void 0:m.value});case 14:return M.abrupt("return",(!this.sessionId&&s.thread_id&&(this.sessionId=s.thread_id),{makingAnotherRequest:!0}));case 15:case"end":return M.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"createStreamRun",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s.stream=!0,this._waitingForStreamResponse=!0,c.next=4,it.request(this,s,this._messages,!0,!0);case 4:this._messageStream=c.sent;case 5:case"end":return c.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"processImageMessage",value:function(e,a){var s=a?.filter(function(u){return Tt.isImageFileExtension(u.name)}).map(function(u){return{type:"image_file",image_file:{file_id:u.id}}});if(s&&s.length>0)return e.text&&e.text.length>0&&s.push({type:"text",text:e.text}),{content:s,role:"user"}}},{key:"processAttachmentsMessage",value:function(e,a,s){return{attachments:a.map(function(u){return{tools:[{type:s}],file_id:u.id}}),content:[{type:"text",text:e.text}],role:"user"}}}])})(bt);Xg.POLLING_TIMEOUT_MS=500;var Zg=Xg,ZE=(function(i){function o(n){var e,a,s;N(this,o);var u,c,f,p,m,g=JSON.parse(JSON.stringify(n.directConnection)),b=g.openAI,y=(u=g.openAI)==null?void 0:u.assistant,k=o.buildUrlSegments(y);if(s=pe(this,o,[n,y,k,et.buildKeyVerificationDetails(),et.buildHeaders,b]),(e=(c=s.connectSettings).headers)!==null&&e!==void 0||(c.headers={}),(a=(f=s.connectSettings.headers)["OpenAI-Beta"])!==null&&a!==void 0||(f["OpenAI-Beta"]="assistants=v2"),s.shouldFetchHistory&&s.sessionId&&(s.fetchHistory=s.fetchHistoryFunc.bind(Ur(s))),re(y)=="object"){var E=(m=(p=n.directConnection)==null?void 0:p.openAI)==null?void 0:m.assistant,w=E.function_handler,M=E.files_tool_type;w&&(s.functionHandler=w),M&&(s.filesToolType=M)}return s}return me(o,i),I(o,null,[{key:"buildUrlSegments",value:function(e){var a=re(e)=="object"&&e.custom_base_url||"https://api.openai.com/v1";return{threadsPrefix:"".concat(a,"/threads"),threadsPosfix:"",newAssistantUrl:"".concat(a,"/assistants"),createMessagePostfix:"",listMessagesPostfix:"order=desc",storeFiles:"".concat(a,"/files"),getFilesPrefix:"".concat(a,"/files/"),getFilesPostfix:"/content"}}}])})(Zg),mv=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(n){return{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",accept:"application/json"}}},{key:"handleVerificationResult",value:function(n,e,a,s){var u;(u=n.message)!=null&&u.includes("invalid request: prompt must be at least 1 token long")?a(e):s(qe.INVALID_KEY)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.cohere.ai/v1/generate",method:"POST",handleVerificationResult:i.handleVerificationResult,body:JSON.stringify({prompt:""})}}}])})(),xd=(function(i){function o(n,e,a,s,u){var c;return N(this,o),c=pe(this,o,[n,mv.buildKeyVerificationDetails(),mv.buildHeaders,u]),c.insertKeyPlaceholderText="Cohere API Key",c.keyHelpUrl="https://dashboard.cohere.ai/api-keys",c.permittedErrorPrefixes=["invalid"],c.url=e,c.textInputPlaceholderText=a,s&&re(s)=="object"&&Object.assign(c.rawBody,s),c}return me(o,i),I(o)})(bt),JE=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.cohere)==null?void 0:a.textGeneration,c=(s=n.directConnection)==null?void 0:s.cohere;return pe(this,o,[n,"https://api.cohere.ai/v1/generate","Once upon a time",u,c])}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=JSON.parse(JSON.stringify(e)),u=a[a.length-1].text;if(u)return Oe({prompt:u},s)}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),Xe.request(this,c,s);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!s.message){f.next=2;break}throw s.message;case 2:return f.abrupt("return",{text:((u=s.generations)==null?void 0:u[0].text)||""});case 3:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(xd),Jg=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(n){return{"api-key":n,"Content-Type":"application/json"}}},{key:"buildKeyVerificationDetails",value:function(n){return{url:"".concat(n.endpoint,"/openai/models?api-version=").concat(n.version),method:"GET",handleVerificationResult:et.handleVerificationResult}}},{key:"validateURLDetails",value:function(n){var e=n.endpoint,a=n.version,s=n.deploymentId;return e&&a&&s}}])})();Jg.URL_DETAILS_ERROR_MESSAGE="Please define the Azure URL Details. [More Information](https://deepchat.dev/docs/directConnection/Azure)";var dn=Jg,sd=(function(i){function o(n){var e,a;N(this,o);var s,u,c,f,p,m,g,b,y=JSON.parse(JSON.stringify(n.directConnection)),k=y.azure,E=(s=y.azure)==null?void 0:s.openAI,w=E?.urlDetails||{},M="".concat((u=E?.urlDetails)==null?void 0:u.endpoint,"/openai/"),O="?api-version=".concat((c=E?.urlDetails)==null?void 0:c.version),X={threadsPrefix:"".concat(M).concat(o.THREAD_RESOURCE),threadsPosfix:O,newAssistantUrl:"".concat(M).concat(o.NEW_ASSISTANT_RESOURCE).concat(O),createMessagePostfix:O,listMessagesPostfix:"order=desc&api-version=".concat((f=E?.urlDetails)==null?void 0:f.version),storeFiles:"".concat(M,"files").concat(O),getFilesPrefix:"".concat(M,"files/"),getFilesPostfix:"/content".concat(O)};if(a=pe(this,o,[n,E?.assistant,X,dn.buildKeyVerificationDetails(w),dn.buildHeaders,k]),a.permittedErrorPrefixes=[dn.URL_DETAILS_ERROR_MESSAGE],a.insertKeyPlaceholderText="Azure OpenAI API Key",a.keyHelpUrl="https://learn.microsoft.com/en-us/answers/questions/1193991/how-to-get-the-value-of-openai-api-key",a.isTextInputDisabled=!1,re(E?.assistant)=="object"){var ne=(g=(m=(p=n.directConnection)==null?void 0:p.azure)==null?void 0:m.openAI)==null?void 0:g.assistant,P=ne.function_handler,G=ne.files_tool_type;P&&(a.functionHandler=P),G&&(a.filesToolType=G)}return dn.validateURLDetails(w)?(e=(b=a.connectSettings).headers)!==null&&e!==void 0||(b.headers={}):(a.isTextInputDisabled=!0,a.canSendMessage=function(){return!1},setTimeout(function(){n.addMessage({error:dn.URL_DETAILS_ERROR_MESSAGE})})),a}return me(o,i),I(o)})(Zg);sd.THREAD_RESOURCE="threads",sd.NEW_ASSISTANT_RESOURCE="assistants";var QE=sd,$E=(function(i){function o(n){N(this,o);var e,a,s,u=(a=(e=n.directConnection)==null?void 0:e.cohere)==null?void 0:a.summarization,c=(s=n.directConnection)==null?void 0:s.cohere;return pe(this,o,[n,"https://api.cohere.ai/v1/summarize","Insert text to summarize",u,c])}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=JSON.parse(JSON.stringify(e)),u=a[a.length-1].text;if(u)return Oe({text:u},s)}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),Xe.request(this,c,s);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{text:s.summary||""});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(xd),ut=(function(){function i(){N(this,i)}return I(i,null,[{key:"addAttributes",value:function(n){n.role="button",n.setAttribute("tabindex","0")}},{key:"addAriaBusy",value:function(n){n.setAttribute("aria-busy","true")}},{key:"removeAriaBusy",value:function(n){n.removeAttribute("aria-busy")}},{key:"addAriaDisabled",value:function(n){n.setAttribute("aria-disabled","true")}},{key:"removeAriaDisabled",value:function(n){n.removeAttribute("aria-disabled")}},{key:"removeAriaAttributes",value:function(n){i.removeAriaBusy(n),i.removeAriaDisabled(n)}}])})(),Qg=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg height="1.4em" width="1.4em" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	 viewBox="0 0 490.9 490.9" xml:space="preserve">
	<g>
		<g>
			<path d="M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5
				C149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5
				c0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z"/>
			<path d="M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3
				s5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8
				c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9
				C106.6,220,101.2,214.5,94.4,214.5z"/>
		</g>
	</g>
</svg>
`,Ql=(function(){function i(){N(this,i)}return I(i,null,[{key:"createTextElement",value:function(n){var e=document.createElement("div");return e.classList.add(i.INPUT_BUTTON_INNER_TEXT_CLASS),e.innerText=n,e}},{key:"tryAddSVGElement",value:function(n,e,a,s){a?n.push(Ln.createSVGElement(a)):a!==""&&s&&n.push(e)}},{key:"createCustomElements",value:function(n,e,a){var s,u,c=a?.[n],f=(s=c?.text)==null?void 0:s.content,p=(u=c?.svg)==null?void 0:u.content,m=[];return i.tryAddSVGElement(m,e,p,f),f&&m.push(i.createTextElement(f)),m.length>0?m:void 0}},{key:"reassignClassBasedOnChildren",value:function(n,e){n.classList.remove(i.INPUT_BUTTON_SVG_CLASS,i.INPUT_BUTTON_SVG_TEXT_CLASS),e.find(function(a){return a.classList.contains(i.INPUT_BUTTON_INNER_TEXT_CLASS)})?e.length>1&&n.classList.add(i.INPUT_BUTTON_SVG_TEXT_CLASS):n.classList.add(i.INPUT_BUTTON_SVG_CLASS)}}])})();Ql.INPUT_BUTTON_SVG_TEXT_CLASS="input-button-svg-text",Ql.INPUT_BUTTON_INNER_TEXT_CLASS="text-button",Ql.INPUT_BUTTON_SVG_CLASS="input-button-svg";var pa=Ql,hs=(function(){function i(){N(this,i)}return I(i,null,[{key:"parseSVGTextElements",value:function(n){return{svg:n.find(function(e){return e.tagName.toLowerCase()==="svg"}),text:n.find(function(e){return e.tagName.toLowerCase()==="div"})}}}])})(),wt=(function(){function i(){N(this,i)}return I(i,null,[{key:"unsetAllCSS",value:function(n,e){var a,s;e.container&&ct.unsetAllCSSMouseStates(n,e.container);var u=hs.parseSVGTextElements(Array.from(n.children)),c=u.svg,f=u.text;(a=e.svg)!=null&&a.styles&&c&&ct.unsetAllCSSMouseStates(c,e.svg.styles),(s=e.text)!=null&&s.styles&&f&&ct.unsetAllCSSMouseStates(f,e.text.styles)}},{key:"unsetActionCSS",value:function(n,e){var a,s;e.container&&ct.unsetActivityCSSMouseStates(n,e.container);var u=hs.parseSVGTextElements(Array.from(n.children)),c=u.svg,f=u.text;(a=e.svg)!=null&&a.styles&&c&&ct.unsetActivityCSSMouseStates(c,e.svg.styles),(s=e.text)!=null&&s.styles&&f&&ct.unsetActivityCSSMouseStates(f,e.text.styles)}},{key:"setElementsCSS",value:function(n,e,a){var s,u,c,f,p;Object.assign(n.style,(s=e.container)==null?void 0:s[a]);var m=hs.parseSVGTextElements(Array.from(n.children)),g=m.svg,b=m.text;g&&Object.assign(g.style,(c=(u=e.svg)==null?void 0:u.styles)==null?void 0:c[a]),b&&Object.assign(b.style,(p=(f=e.text)==null?void 0:f.styles)==null?void 0:p[a])}},{key:"setElementCssUpToState",value:function(n,e,a){i.setElementsCSS(n,e,"default"),a!=="default"&&(i.setElementsCSS(n,e,"hover"),a!=="hover"&&i.setElementsCSS(n,e,"click"))}}])})(),Ka=(function(){function i(o,n,e,a,s,u){N(this,i),this._mouseState={state:"default"},this.isCustom=!1,ut.addAttributes(o),this.elementRef=o,this.svg=Ln.createSVGElement(n),this.customStyles=s,this.position=e,this._tooltipSettings=a,this.dropupText=u}return I(i,[{key:"buttonMouseLeave",value:function(n){var e;this._mouseState.state="default",((e=this._activeTooltip)==null?void 0:e.element.style.visibility)==="visible"&&this._tooltipSettings&&Nn.hide(this._activeTooltip,this._tooltipSettings),n&&(wt.unsetAllCSS(this.elementRef,n),wt.setElementsCSS(this.elementRef,n,"default"))}},{key:"buttonMouseEnter",value:function(n){var e;this._mouseState.state="hover",this._tooltipSettings&&(this._activeTooltip=Nn.display(this.elementRef,this._tooltipSettings,(e=this._activeTooltip)==null?void 0:e.element)),n&&wt.setElementsCSS(this.elementRef,n,"hover")}},{key:"buttonMouseUp",value:function(n){n&&wt.unsetActionCSS(this.elementRef,n),this.buttonMouseEnter(n)}},{key:"buttonMouseDown",value:function(n){this._mouseState.state="click",n&&wt.setElementsCSS(this.elementRef,n,"click")}},{key:"setEvents",value:function(n){this.elementRef.onmousedown=this.buttonMouseDown.bind(this,n),this.elementRef.onmouseup=this.buttonMouseUp.bind(this,n),this.elementRef.onmouseenter=this.buttonMouseEnter.bind(this,n),this.elementRef.onmouseleave=this.buttonMouseLeave.bind(this,n)}},{key:"unsetCustomStateStyles",value:function(n){if(this.customStyles)for(var e=0;e<n.length;e+=1){var a=n[e],s=a&&this.customStyles[a];s&&wt.unsetActionCSS(this.elementRef,s)}}},{key:"reapplyStateStyle",value:function(n,e){if(this.customStyles){e&&this.unsetCustomStateStyles(e);var a=this.customStyles[n];a&&wt.setElementCssUpToState(this.elementRef,a,this._mouseState.state),this.setEvents(a)}}},{key:"changeElementsByState",value:function(n){var e;(e=this.elementRef).replaceChildren.apply(e,Es(n)),pa.reassignClassBasedOnChildren(this.elementRef,n)}},{key:"buildDefaultIconElement",value:function(n){var e=this.svg.cloneNode(!0);return e.id=n,[e]}},{key:"createInnerElements",value:function(n,e,a){var s=pa.createCustomElements(e,this.svg,a);if(s&&s.length>0){if(this.position==="dropup-menu"){var u=this.svg.cloneNode(!0);u.id=s[0]===this.svg?n:"dropup-menu-item-icon-element-custom",s[0]=u}return s}return this.buildDefaultIconElement(n)}}])})(),$g=(function(i){function o(n){var e;N(this,o);var a,s,u=((s=(a=n?.default)==null?void 0:a.svg)==null?void 0:s.content)||o.EMPTY_SVG;return e=pe(this,o,[document.createElement("div"),u,void 0,void 0,n]),e.isActive=!1,e._innerElements=e.createInnerElementsForStates(e.customStyles),e.changeToDefault(),e}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(e){return{default:this.createInnerButtonElements("default",e),active:this.createInnerButtonElements("active",e),unavailable:this.createInnerButtonElements("unavailable",e)}}},{key:"createInnerButtonElements",value:function(e,a){return pa.createCustomElements(e,this.svg,a)||[this.svg]}},{key:"changeState",value:function(e){this.changeElementsByState(e),this.elementRef.classList.replace(pa.INPUT_BUTTON_SVG_CLASS,"deep-chat-openai-realtime-button")}},{key:"changeToActive",value:function(){this.changeState(this._innerElements.active),this.reapplyStateStyle("active",["unavailable","default"]),this.isActive=!0}},{key:"changeToDefault",value:function(){var e,a,s,u;this.changeState(this._innerElements.default),(e=this.customStyles)!=null&&e.active&&wt.unsetAllCSS(this.elementRef,(a=this.customStyles)==null?void 0:a.active),(s=this.customStyles)!=null&&s.unavailable&&wt.unsetAllCSS(this.elementRef,(u=this.customStyles)==null?void 0:u.unavailable),this.reapplyStateStyle("default",["active","unavailable"]),this.isActive=!1}},{key:"changeToUnavailable",value:function(){var e,a,s,u;this.changeState(this._innerElements.unavailable),(e=this.customStyles)!=null&&e.active&&wt.unsetAllCSS(this.elementRef,(a=this.customStyles)==null?void 0:a.active),(s=this.customStyles)!=null&&s.default&&wt.unsetAllCSS(this.elementRef,(u=this.customStyles)==null?void 0:u.default),this.reapplyStateStyle("unavailable",["default","active"]),this.isActive=!1}}])})(Ka);$g.EMPTY_SVG='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"></svg>';var vv=$g,Rn=(function(){function i(){N(this,i)}return I(i,null,[{key:"setPropertyValueIfDoesNotExist",value:function(n,e,a){var s,u,c=e[0];e.length===1?(s=n[c])!==null&&s!==void 0||(n[c]=a):((u=n[c])!==null&&u!==void 0||(n[c]={}),e.shift(),i.setPropertyValueIfDoesNotExist(n[c],e,a))}},{key:"setPropertyValue",value:function(n,e,a){var s,u=e[0];e.length===1?n[u]=a:((s=n[u])!==null&&s!==void 0||(n[u]={}),e.shift(),i.setPropertyValue(n[u],e,a))}},{key:"getObjectValue",value:function(n,e){var a=e[0],s=n[a];return s===void 0||e.length===1?s:i.getObjectValue(s,e.slice(1))}},{key:"overwritePropertyObjectFromAnother",value:function(n,e,a){var s=i.getObjectValue(e,a);if(s){var u=Oe(Oe({},s),i.getObjectValue(n,a)||{});i.setPropertyValue(n,a,u)}}},{key:"isJson",value:function(n){try{return JSON.stringify(n),!0}catch{return!1}}},{key:"assignPropertyFromOneToAnother",value:function(n,e,a){var s;(s=e[n])!==null&&s!==void 0||(e[n]={}),Object.assign(e[n],a?.[n])}}])})(),ld=I(function i(){N(this,i)});ld.SESSION_STARTED="sts-session-started",ld.SESSION_STOPPED="sts-session-stopped";var gv=ld,Wg=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.92 24.096q0 1.088 0.928 1.728 0.512 0.288 1.088 0.288 0.448 0 0.896-0.224l16.16-8.064q0.48-0.256 0.8-0.736t0.288-1.088-0.288-1.056-0.8-0.736l-16.16-8.064q-0.448-0.224-0.896-0.224-0.544 0-1.088 0.288-0.928 0.608-0.928 1.728v16.16z"></path>
</svg>`,od=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
<path d="M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h16.128q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-16.128q-0.832 0-1.44 0.576t-0.576 1.44v16.16z"></path>
</svg>`,cs=(function(i){function o(n){var e,a;N(this,o);var s,u,c,f,p=JSON.parse(JSON.stringify(n.directConnection)),m=o.getKey(n);a=pe(this,o,[n,et.buildKeyVerificationDetails(),et.buildHeaders,{key:m}]),a.insertKeyPlaceholderText="OpenAI API Key",a.keyHelpUrl="https://platform.openai.com/account/api-keys",a._microphoneButton=null,a._toggleButton=null,a._errorElement=null,a._loadingElement=null,a._pc=null,a._mediaStream=null,a._isMuted=!1;var g=(s=p.openAI)==null?void 0:s.realtime;if(re(g)=="object"){a._avatarConfig=g.avatar,a._ephemeralKey=g.ephemeralKey,a._errorConfig=g.error,a._loadingConfig=g.loading,Object.assign(a.rawBody,g.config);var b=(c=(u=n.directConnection)==null?void 0:u.openAI)==null?void 0:c.realtime,y=b.config||{},k=y.function_handler;k&&(a._functionHandler=k),a._events=g.events,b.methods=a.generateMethods()}return(e=(f=a.rawBody).model)!==null&&e!==void 0||(f.model="gpt-4o-realtime-preview-2024-12-17"),a._avatarConfig=o.buildAvatarConfig(g),a._buttonsConfig=o.buildButtonsConfig(g),a._avatarEl=o.createAvatar(a._avatarConfig),a._containerEl=a.createContainer(),a._deepChat=n,a}return me(o,i),I(o,[{key:"setUpView",value:function(e,a){e.style.display="none",a.appendChild(this._containerEl),this.setup()}},{key:"setup",value:(function(){var n=z(T().mark(function a(){var s,u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(u=(s=this._deepChat.directConnection)==null?void 0:s.openAI,u){m.next=3;break}return m.abrupt("return");case 3:if(c=u?.realtime,!(re(c)!="object"||!c.autoStart&&!c.autoFetchEphemeralKey)){m.next=6;break}return m.abrupt("return");case 6:f=this.key||u.key,(c.fetchEphemeralKey||f)&&c.autoStart&&(this.changeToUnavailable(),this.displayLoading()),this.fetchEphemeralKey(c.autoStart);case 8:case"end":return m.stop()}},a,this)}));function e(){return n.apply(this,arguments)}return e})()},{key:"fetchEphemeralKey",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=(u=this._deepChat.directConnection)==null?void 0:u.openAI,f=re(c?.realtime)=="object"?c?.realtime.fetchEphemeralKey:void 0,p=c?.realtime,m=this.key||c.key,re(p)!="object"){y.next=26;break}if(this._ephemeralKey){y.next=23;break}if(y.prev=3,!f){y.next=12;break}return g=f(),g.then&&(this._retrievingEphemeralKey=g),y.next=9,g;case 9:this._ephemeralKey=y.sent,y.next=18;break;case 12:if(y.t0=m,!y.t0){y.next=18;break}return this._retrievingEphemeralKey=this.getEphemeralKey(m),y.next=17,this._retrievingEphemeralKey;case 17:this._ephemeralKey=y.sent;case 18:y.next=23;break;case 20:y.prev=20,y.t1=y.catch(3),this.displayFailedToRetrieveEphemeralKey(y.t1);case 23:this._ephemeralKey&&(s?this.init(this._ephemeralKey):this.changeToAvailable()),y.next=38;break;case 26:if(!m){y.next=38;break}return y.prev=27,this._retrievingEphemeralKey=this.getEphemeralKey(m),y.next=31,this._retrievingEphemeralKey;case 31:this._ephemeralKey=y.sent,s&&this.init(this._ephemeralKey),y.next=38;break;case 35:y.prev=35,y.t2=y.catch(27),this.displayFailedToRetrieveEphemeralKey(y.t2);case 38:case"end":return y.stop()}},a,this,[[3,20],[27,35]])}));function e(a){return n.apply(this,arguments)}return e})()},{key:"getEphemeralKey",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("https://api.openai.com/v1/realtime/sessions",{method:"POST",body:JSON.stringify(this.rawBody),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 2:return c.next=4,c.sent.json();case 4:return c.abrupt("return",c.sent.client_secret.value);case 5:case"end":return c.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"generateMethods",value:function(){var e=this;return{updateConfig:function(s){var u;(u=e._dc)==null||u.send(JSON.stringify({type:"session.update",session:s}))},sendMessage:function(s,u){var c=u||"system",f={role:c,type:"message",content:[{type:c==="system"||c==="user"?"input_text":"text",text:s}]};e.sendMessage(f)}}}},{key:"createContainer",value:function(){var e=document.createElement("div");return e.id="deep-chat-openai-realtime-container",e.appendChild(this.createAvatarContainer()),e.appendChild(this.createButtonsContainer()),e.appendChild(this.createError()),e}},{key:"createAvatarContainer",value:function(){var e,a,s=document.createElement("div");return s.id="deep-chat-openai-realtime-avatar-container",Object.assign(s.style,(a=(e=this._avatarConfig)==null?void 0:e.styles)==null?void 0:a.container),s.appendChild(this._avatarEl),s}},{key:"createButtonsContainer",value:function(){var e,a=document.createElement("div");a.id="deep-chat-openai-realtime-buttons-container",Object.assign(a.style,(e=this._buttonsConfig)==null?void 0:e.container),this._microphoneButton=this.createMicophoneButton();var s=o.createButtonContainer(this._microphoneButton.elementRef);this._toggleButton=this.createToggleButton();var u=o.createButtonContainer(this._toggleButton.elementRef);return a.appendChild(s),a.appendChild(u),a.appendChild(this.createLoading()),a}},{key:"createMicophoneButton",value:function(){var e=this,a,s=new vv((a=this._buttonsConfig)==null?void 0:a.microphone);return s.elementRef.classList.add(o.BUTTON_DEFAULT,"deep-chat-openai-realtime-microphone"),s.elementRef.onclick=function(){s.isActive?(e.toggleMicorphone(!0),s.elementRef.classList.replace(o.MICROPHONE_ACTIVE,o.BUTTON_DEFAULT),s.changeToDefault(),e._isMuted=!1):(e.toggleMicorphone(!1),s.elementRef.classList.replace(o.BUTTON_DEFAULT,o.MICROPHONE_ACTIVE),ut.removeAriaAttributes(s.elementRef),s.changeToActive(),e._isMuted=!0)},s}},{key:"toggleMicorphone",value:function(e){var a;(a=this._mediaStream)==null||a.getAudioTracks().forEach(function(s){return s.enabled=e})}},{key:"createToggleButton",value:function(){var e=this,a,s=new vv((a=this._buttonsConfig)==null?void 0:a.toggle);return s.elementRef.classList.add(o.BUTTON_DEFAULT,"deep-chat-openai-realtime-toggle"),s.elementRef.onclick=z(T().mark(function u(){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!s.isActive){m.next=4;break}s.changeToDefault(),e.stop(),m.next=30;break;case 4:if(m.prev=4,!e._ephemeralKey){m.next=11;break}return e.displayLoading(),m.next=9,e.init(e._ephemeralKey);case 9:m.next=25;break;case 11:if(!e._retrievingEphemeralKey){m.next=22;break}return e.displayLoading(),m.next=15,e._retrievingEphemeralKey;case 15:if(f=m.sent,m.t0=(c=e._toggleButton)!=null&&c.isActive,!m.t0){m.next=20;break}return m.next=20,e.init(f);case 20:m.next=25;break;case 22:return e.displayLoading(),m.next=25,e.fetchEphemeralKey(!0);case 25:m.next=30;break;case 27:m.prev=27,m.t1=m.catch(4),console.error("Failed to start conversation:",m.t1),e.displayError(),e.hideLoading();case 30:case"end":return m.stop()}},u,null,[[4,27]])})),s}},{key:"init",value:(function(){var n=z(T().mark(function a(s){var u=this,c,f,p,m,g,b,y,k;return T().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return c=new RTCPeerConnection,this._pc=c,f=document.createElement("audio"),f.autoplay=!0,p=new AudioContext,m=p.createAnalyser(),m.fftSize=256,g=new Uint8Array(m.frequencyBinCount),this._pc.ontrack=(function(){var M=z(T().mark(function O(X){var ne;return T().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!X.streams[0]){G.next=11;break}if(f.srcObject=X.streams[0],ne=p.createMediaStreamSource(X.streams[0]),G.t0=p.state==="suspended",!G.t0){G.next=7;break}return G.next=7,p.resume();case 7:ne.connect(m),u.monitorFrequencies(m,g),G.next=12;break;case 11:console.error("No streams found in the ontrack event."),u.displayError();case 12:case"end":return G.stop()}},O)}));return function(O){return M.apply(this,arguments)}})(),w.next=10,navigator.mediaDevices.getUserMedia({audio:!0}).then(function(M){var O;c===u._pc&&(u._mediaStream=M,(O=u._pc)==null||O.addTrack(u._mediaStream.getTracks()[0]),u._isMuted&&u.toggleMicorphone(!1))}).catch(function(M){console.error("Error accessing microphone:",M),u.displayError()});case 10:return this._dc=this._pc.createDataChannel("oai-events"),this._dc.addEventListener("message",(function(){var M=z(T().mark(function O(X){var ne,P,G,le,K,be,W;return T().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(le=JSON.parse(X.data),le.type!=="session.created"){q.next=5;break}u.removeUnavailable(),u._toggleButton&&(ut.removeAriaAttributes(u._toggleButton.elementRef),u._toggleButton.changeToActive()),(P=(ne=u._events)==null?void 0:ne.started)==null||P.call(ne),u._deepChat.dispatchEvent(new CustomEvent(gv.SESSION_STARTED)),u.hideLoading(),q.next=20;break;case 5:if(le.type!=="response.done"){q.next=19;break}if(K=(G=JSON.parse(X.data).response.output)==null?void 0:G[0],K?.type!=="function_call"){q.next=17;break}return be=K.name,W=K.call_id,q.prev=9,q.next=12,u.handleTool(be,K.arguments,W);case 12:q.next=17;break;case 14:q.prev=14,q.t0=q.catch(9),u.stopOnError(q.t0);case 17:q.next=20;break;case 19:le.type==="error"?u.stopOnError(le.error.message):le.type==="invalid_request_error"?u.stopOnError(le.message):le.type;case 20:case"end":return q.stop()}},O,null,[[9,14]])}));return function(O){return M.apply(this,arguments)}})()),w.prev=12,w.next=15,this._pc.createOffer();case 15:if(b=w.sent,w.t0=c!==this._pc,w.t0){w.next=21;break}return w.next=20,this._pc.setLocalDescription(b);case 20:w.t0=c!==this._pc;case 21:if(!w.t0){w.next=23;break}return w.abrupt("return");case 23:return w.next=25,fetch("https://api.openai.com/v1/realtime",{method:"POST",body:b.sdp,headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/sdp"}});case 25:if(y=w.sent,c===this._pc){w.next=28;break}return w.abrupt("return");case 28:return w.next=30,y.text();case 30:if(w.t1=w.sent,k={type:"answer",sdp:w.t1},w.t2=c!==this._pc,w.t2){w.next=37;break}return w.next=36,this._pc.setRemoteDescription(k);case 36:w.t2=c!==this._pc;case 37:if(!w.t2){w.next=39;break}return w.abrupt("return");case 39:w.next=44;break;case 41:w.prev=41,w.t3=w.catch(12),console.error(w.t3),this.displayError();case 44:case"end":return w.stop()}},a,this,[[12,41]])}));function e(a){return n.apply(this,arguments)}return e})()},{key:"monitorFrequencies",value:function(e,a){var s=this,u=(function(c){function f(){return c.apply(this,arguments)}return f.toString=function(){return c.toString()},f})(function(){var c;e.getByteFrequencyData(a);var f=a.reduce(function(y,k){return y+k},0),p=a.length*255,m=f/p*100,g=1,b=g+m/100*(((c=s._avatarConfig)==null?void 0:c.maxScale)-g);s._avatarEl.style.transform="scale(".concat(b,")"),requestAnimationFrame(u)});u()}},{key:"stopOnError",value:function(e){this.stop(),console.error(e),this.displayError()}},{key:"stop",value:function(){var e,a,s;(e=this._mediaStream)==null||e.getTracks().forEach(function(u){return u.stop()}),this._mediaStream=null,this._pc&&(this._pc.close(),this._pc=null,(s=(a=this._events)==null?void 0:a.stopped)==null||s.call(a),this._deepChat.dispatchEvent(new CustomEvent(gv.SESSION_STOPPED)),this._dc=void 0)}},{key:"changeToUnavailable",value:function(){this._microphoneButton&&o.changeButtonToUnavailable(this._microphoneButton),this._toggleButton&&o.changeButtonToUnavailable(this._toggleButton)}},{key:"changeToAvailable",value:function(){this._microphoneButton&&o.changeButtonToAvailable(this._microphoneButton),this._toggleButton&&o.changeButtonToAvailable(this._toggleButton)}},{key:"removeUnavailable",value:function(){this._microphoneButton&&o.removeButtonUnavailable(this._microphoneButton),this._toggleButton&&o.removeButtonUnavailable(this._toggleButton)}},{key:"createError",value:function(){var e,a=document.createElement("div");return a.id="deep-chat-openai-realtime-error",Object.assign(a.style,(e=this._errorConfig)==null?void 0:e.style),this._errorElement=a,a}},{key:"displayFailedToRetrieveEphemeralKey",value:function(e){console.error("Failed to retrieve ephemeral key"),console.error(e),this.displayError()}},{key:"displayError",value:function(){var e;this._errorElement&&(this._errorElement.style.display="block",this._errorElement.textContent=((e=this._errorConfig)==null?void 0:e.text)||"Error",this.changeToUnavailable()),this.hideLoading()}},{key:"createLoading",value:function(){var e,a,s=document.createElement("div");return s.id="deep-chat-openai-realtime-loading",this._loadingElement=s,(e=this._loadingConfig)!=null&&e.html&&(this._loadingElement.innerHTML=this._loadingConfig.html),Object.assign(s.style,(a=this._loadingConfig)==null?void 0:a.style),s.style.display="none",s}},{key:"displayLoading",value:function(){var e,a,s;this._toggleButton&&(this._toggleButton.changeToActive(),this._toggleButton.elementRef.classList.add(o.BUTTON_LOADING),ut.removeAriaDisabled(this._toggleButton.elementRef),ut.addAriaBusy(this._toggleButton.elementRef)),(typeof((e=this._loadingConfig)==null?void 0:e.display)!="boolean"||this._loadingConfig.display)&&this._loadingElement&&(this._loadingElement.style.display="block",(a=this._loadingConfig)!=null&&a.html||(this._loadingElement.textContent=((s=this._loadingConfig)==null?void 0:s.text)||"Loading"))}},{key:"hideLoading",value:function(){this._toggleButton&&(this._toggleButton.elementRef.classList.remove(o.BUTTON_LOADING),ut.removeAriaBusy(this._toggleButton.elementRef)),this._loadingElement&&(this._loadingElement.style.display="none")}},{key:"handleTool",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(this._functionHandler){g.next=2;break}throw Error("Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/OpenAI/OpenAIRealtime#OpenAIRealtimeFunction) object.");case 2:return g.next=4,this._functionHandler({name:s,arguments:u});case 4:if(f=g.sent,!(re(f)!="object"||!Rn.isJson(f))){g.next=7;break}throw Error('The `function_handler` response must be a JSON object, e.g. {response: "My response"}');case 7:p={type:"function_call_output",call_id:c,output:JSON.stringify(f)},this.sendMessage(p);case 9:case"end":return g.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"sendMessage",value:function(e){if(this._dc){var a=JSON.stringify({type:"conversation.item.create",item:e});this._dc.send(a);var s={type:"response.create"};this._dc.send(JSON.stringify(s))}}},{key:"isCustomView",value:function(){return!0}}],[{key:"getKey",value:function(e){var a=e.directConnection.openAI;if(a!=null&&a.key)return a.key;var s=a?.realtime;if(re(s)=="object"&&(s.ephemeralKey||s.fetchEphemeralKey))return"placeholder"}},{key:"buildAvatarConfig",value:function(e){var a=re(e)=="object"&&e.avatar?JSON.parse(JSON.stringify(e.avatar)):{};return a.maxScale=a.maxScale&&a.maxScale>=1?a.maxScale:2.5,a}},{key:"buildButtonsConfig",value:function(e){var a,s,u,c,f,p,m,g,b,y,k,E,w,M,O,X,ne,P,G,le,K,be,W,Q,q,se,$=re(e)=="object"&&e.buttons?JSON.parse(JSON.stringify(e.buttons)):{};return(M=(w=(E=$.microphone)==null?void 0:E.default)==null?void 0:w.text)!=null&&M.content||((a=$.microphone)!==null&&a!==void 0||($.microphone={}),(s=(O=$.microphone).default)!==null&&s!==void 0||(O.default={}),(u=(X=$.microphone.default).svg)!==null&&u!==void 0||(X.svg={}),(c=(ne=$.microphone.default.svg).content)!==null&&c!==void 0||(ne.content=Qg)),(le=(G=(P=$.toggle)==null?void 0:P.default)==null?void 0:G.text)!=null&&le.content||((f=$.toggle)!==null&&f!==void 0||($.toggle={}),(p=(K=$.toggle).default)!==null&&p!==void 0||(K.default={}),(m=(be=$.toggle.default).svg)!==null&&m!==void 0||(be.svg={}),(g=(W=$.toggle.default.svg).content)!==null&&g!==void 0||(W.content=Wg),(b=(Q=$.toggle).active)!==null&&b!==void 0||(Q.active={}),(y=(q=$.toggle.active).svg)!==null&&y!==void 0||(q.svg={}),(k=(se=$.toggle.active.svg).content)!==null&&k!==void 0||(se.content=od)),$}},{key:"createAvatar",value:function(e){var a,s=document.createElement("img");return s.id="deep-chat-openai-realtime-avatar",Object.assign(s.style,(a=e?.styles)==null?void 0:a.image),s.src=e?.src||ed,s}},{key:"createButtonContainer",value:function(e){var a=document.createElement("div");return a.classList.add("deep-chat-openai-realtime-button-container"),a.appendChild(e),a}},{key:"changeButtonToUnavailable",value:function(e){e.elementRef.classList.add(o.UNAVAILABLE),ut.removeAriaBusy(e.elementRef),ut.addAriaDisabled(e.elementRef),e.changeToUnavailable()}},{key:"changeButtonToAvailable",value:function(e){o.removeButtonUnavailable(e),e.changeToDefault()}},{key:"removeButtonUnavailable",value:function(e){ut.removeAriaDisabled(e.elementRef),e.elementRef.classList.remove(o.UNAVAILABLE)}}])})(bt);cs.BUTTON_DEFAULT="deep-chat-openai-realtime-button-default",cs.BUTTON_LOADING="deep-chat-openai-realtime-button-loading",cs.MICROPHONE_ACTIVE="deep-chat-openai-realtime-microphone-active",cs.UNAVAILABLE="deep-chat-openai-realtime-button-unavailable";var WE=cs,ud=(function(i){function o(n){var e,a,s;N(this,o);var u,c,f,p=JSON.parse(JSON.stringify(n.directConnection)),m=p?.openAI;s=pe(this,o,[n,et.buildKeyVerificationDetails(),et.buildHeaders,m]),s.insertKeyPlaceholderText="OpenAI API Key",s.keyHelpUrl="https://platform.openai.com/account/api-keys",s.url="https://api.openai.com/v1/audio/speech",s.permittedErrorPrefixes=["Invalid"],s.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>OpenAI : Text To Speech</b></div>
    <p>Generate an audio file based on your text input.</p>
    <p>Click <a href="https://platform.openai.com/docs/guides/text-to-speech">here</a> for more information.</p>`;var g=(u=p?.openAI)==null?void 0:u.textToSpeech;return re(g)=="object"&&Object.assign(s.rawBody,g),(e=(c=s.rawBody).model)!==null&&e!==void 0||(c.model=o.DEFAULT_MODEL),(a=(f=s.rawBody).voice)!==null&&a!==void 0||(f.voice=o.DEFAULT_VOIDE),s.textInputPlaceholderText="Insert text to generate audio",s.rawBody.response_format="mp3",s}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s,u,c=JSON.parse(JSON.stringify(e)),f=(u=(s=a[a.length-1])==null?void 0:s.text)==null?void 0:u.trim();return f&&f!==""&&(c.input=f),c}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if((c=this.connectSettings)!=null&&c.headers){m.next=2;break}throw new Error("Request settings have not been set up");case 2:this.url=this.connectSettings.url||this.url,f=this.preprocessBody(this.rawBody,u),Xe.request(this,f,s);case 5:case"end":return m.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(s instanceof Blob)){c.next=2;break}return c.abrupt("return",new Promise(function(f){var p=new FileReader;p.readAsDataURL(s),p.onload=function(m){f({files:[{src:m.target.result,type:"audio"}]})}}));case 2:if(!s.error){c.next=4;break}throw s.error.message;case 4:return c.abrupt("return",{error:"error"});case 5:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(bt);ud.DEFAULT_MODEL="tts-1",ud.DEFAULT_VOIDE="alloy";var e2=ud,$l=(function(i){function o(n){var e,a;N(this,o);var s,u,c=JSON.parse(JSON.stringify(n.directConnection)),f=c?.openAI;a=pe(this,o,[n,et.buildKeyVerificationDetails(),et.buildHeaders,f,{audio:{}}]),a.insertKeyPlaceholderText="OpenAI API Key",a.keyHelpUrl="https://platform.openai.com/account/api-keys",a.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>OpenAI : Speech To Text</b></div>
    <p><b>Upload an audio file</b> to transcribe it into text. You can optionally provide text to guide the audio
      processing.
    <p>Click <a href="https://platform.openai.com/docs/guides/speech-to-text">here</a> for more info.</p>`,a.url="",a.permittedErrorPrefixes=["Invalid"],a.textInputPlaceholderText="Upload an audio file",a._service_url=o.AUDIO_TRANSCRIPTIONS_URL;var p=(s=c?.openAI)==null?void 0:s.audio;return re(p)=="object"&&(a.processConfig(p),o.cleanConfig(p),Object.assign(a.rawBody,p)),(e=(u=a.rawBody).model)!==null&&e!==void 0||(u.model=o.DEFAULT_MODEL),a.rawBody.response_format="json",a.canSendMessage=o.canSendFileMessage,a}return me(o,i),I(o,[{key:"processConfig",value:function(e){e!=null&&e.type&&e.type==="translation"&&(this._service_url=o.AUDIO_TRANSLATIONS_URL,delete e.language)}},{key:"preprocessBody",value:function(e,a){var s,u,c=JSON.parse(JSON.stringify(e)),f=(u=(s=a[a.length-1])==null?void 0:s.text)==null?void 0:u.trim();return f&&f!==""&&(c.prompt=f),c}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if((f=this.connectSettings)!=null&&f.headers){b.next=2;break}throw new Error("Request settings have not been set up");case 2:if(c!=null&&c[0]){b.next=4;break}throw new Error("No file was added");case 4:this.url=this.connectSettings.url||this._service_url,p=this.preprocessBody(this.rawBody,u),m=o.createFormDataBody(p,c[0]),_e.tempRemoveContentHeader(this.connectSettings,Xe.request.bind(this,this,m,s),!1);case 7:case"end":return b.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.error){c.next=2;break}throw s.error.message;case 2:return c.abrupt("return",{text:s.text});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"canSendFileMessage",value:function(e,a){return!!(a!=null&&a[0])}},{key:"cleanConfig",value:function(e){delete e.type}},{key:"createFormDataBody",value:function(e,a){var s=new FormData;return s.append("file",a),Object.keys(e).forEach(function(u){s.append(u,String(e[u]))}),s}}])})(bt);$l.AUDIO_TRANSCRIPTIONS_URL="https://api.openai.com/v1/audio/transcriptions",$l.AUDIO_TRANSLATIONS_URL="https://api.openai.com/v1/audio/translations",$l.DEFAULT_MODEL="whisper-1";var t2=$l,Ha=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildTextToSpeechHeaders",value:function(n,e){return{"Ocp-Apim-Subscription-Key":e,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":n}}},{key:"buildSpeechToTextHeaders",value:function(n){return{"Ocp-Apim-Subscription-Key":n,Accept:"application/json"}}},{key:"handleSpeechVerificationResult",value:function(n,e,a,s){n.error?s(qe.INVALID_KEY):a(e)}},{key:"buildSpeechKeyVerificationDetails",value:function(n){return{url:"https://".concat(n,".api.cognitive.microsoft.com/sts/v1.0/issuetoken"),method:"POST",createHeaders:function(a){return{"Ocp-Apim-Subscription-Key":"".concat(a)}},handleVerificationResult:i.handleSpeechVerificationResult}}},{key:"buildSummarizationHeader",value:function(n){return{"Ocp-Apim-Subscription-Key":n,"Content-Type":"application/json"}}},{key:"handleLanguageVerificationResult",value:function(n,e,a,s){var u;((u=n.error)==null?void 0:u.code)==="401"?s(qe.INVALID_KEY):a(e)}},{key:"buildLanguageKeyVerificationDetails",value:function(n){return{url:"".concat(n,"/language/analyze-text/jobs?api-version=2022-10-01-preview"),method:"POST",createHeaders:function(a){return{"Ocp-Apim-Subscription-Key":"".concat(a)}},handleVerificationResult:i.handleLanguageVerificationResult}}},{key:"handleTranslationVerificationResult",value:function(n,e,a,s){n.json().then(function(u){!Array.isArray(u)&&u.error.code===401e3?s(qe.INVALID_KEY):a(e)})}},{key:"buildTranslationKeyVerificationDetails",value:function(n){return{url:"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=es",method:"POST",createHeaders:function(a){return i.buildTranslationHeaders(n,a)},handleVerificationResult:i.handleTranslationVerificationResult}}},{key:"buildTranslationHeaders",value:function(n,e){var a={"Ocp-Apim-Subscription-Key":e,"Content-Type":"application/json"};return n&&(a["Ocp-Apim-Subscription-Region"]=n),a}}])})(),n2=(function(i){function o(n,e,a,s,u){var c;return N(this,o),c=pe(this,o,[n,Ha.buildLanguageKeyVerificationDetails(a),e,s,u]),c.insertKeyPlaceholderText="Azure Language Subscription Key",c.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",c.permittedErrorPrefixes=["Access"],c}return me(o,i),I(o)})(bt),ey=(function(i){function o(n){var e,a;N(this,o);var s,u,c,f,p=(u=(s=n.directConnection)==null?void 0:s.azure)==null?void 0:u.summarization,m=(c=n.directConnection)==null?void 0:c.azure;return a=pe(this,o,[n,Ha.buildSummarizationHeader,p.endpoint,m]),a.permittedErrorPrefixes=[o.ENDPOINT_ERROR_MESSAGE],a.url="",a.textInputPlaceholderText="Insert text to summarize",a.isTextInputDisabled=!1,p.endpoint?((e=(f=a.rawBody).language)!==null&&e!==void 0||(f.language="en"),Object.assign(a.rawBody,p),a.url="".concat(p.endpoint,"/language/analyze-text/jobs?api-version=2022-10-01-preview")):(a.isTextInputDisabled=!0,a.canSendMessage=function(){return!1},setTimeout(function(){n.addMessage({error:o.ENDPOINT_ERROR_MESSAGE})})),a}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=a[a.length-1].text;if(s)return{analysisInput:{documents:[{id:"1",language:e.language,text:s}]},tasks:[{kind:"ExtractiveSummarization"}]}}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),Xe.request(this,c,s),this.messages=s;case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!s.error){m.next=2;break}throw s.error.message;case 2:return this.messages&&this.completionsHandlers&&(c=s.headers.get("operation-location"),f={method:"GET",headers:(u=this.connectSettings)==null?void 0:u.headers},Xe.executePollRequest(this,c,f,this.messages)),m.abrupt("return",{makingAnotherRequest:!0});case 4:case"end":return m.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"extractPollResultData",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!s.error){g.next=2;break}throw s.error;case 2:if(s.status!=="running"){g.next=4;break}return g.abrupt("return",{timeoutMS:2e3});case 4:if(!(s.errors.length>0)){g.next=6;break}throw s.errors[0];case 6:if(!(s.tasks.items[0].results.errors.length>0)){g.next=8;break}throw s.tasks.items[0].results.errors[0];case 8:u="",c=vS(s.tasks.items[0].results.documents[0].sentences);try{for(c.s();!(f=c.n()).done;)p=f.value,u+=p.text}catch(b){c.e(b)}finally{c.f()}return g.abrupt("return",{text:u||""});case 12:case"end":return g.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(n2);ey.ENDPOINT_ERROR_MESSAGE="Please define the azure endpoint. [More Information](https://deepchat.dev/docs/directConnection/Azure#Summarization)";var a2=ey,Hc=(function(){function i(){N(this,i)}return I(i,null,[{key:"poll",value:(function(){var o=z(T().mark(function e(a,s){var u,c,f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u={authorization:a,"content-type":"application/json"},g.t0="https://api.assemblyai.com/v2/transcript/",g.next=4,fetch("https://api.assemblyai.com/v2/transcript",{method:"POST",body:JSON.stringify({audio_url:s}),headers:u});case 4:return g.next=6,g.sent.json();case 6:g.t1=g.sent.id,c=g.t0.concat.call(g.t0,g.t1);case 8:if(f){g.next=24;break}return g.next=11,fetch(c,{headers:u});case 11:return g.next=13,g.sent.json();case 13:if(p=g.sent,p.status!=="completed"){g.next=18;break}f=p,g.next=22;break;case 18:if(p.status!=="error"){g.next=20;break}throw new Error("Transcription failed: ".concat(p.error));case 20:return g.next=22,new Promise(function(b){return setTimeout(b,3e3)});case 22:g.next=8;break;case 24:return g.abrupt("return",f);case 25:case"end":return g.stop()}},e)}));function n(e,a){return o.apply(this,arguments)}return n})()},{key:"buildHeaders",value:function(n){return{Authorization:n,"Content-Type":"application/octet-stream"}}},{key:"handleVerificationResult",value:function(n,e,a,s){var u=n;u.error?u.error.code==="invalid_api_key"?s(qe.INVALID_KEY):s(qe.CONNECTION_FAILED):a(e)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.assemblyai.com/v2/upload",method:"POST",handleVerificationResult:i.handleVerificationResult}}}])})(),r2=(function(i){function o(n){var e;N(this,o);var a,s=(a=n.directConnection)==null?void 0:a.assemblyAI;return e=pe(this,o,[n,Hc.buildKeyVerificationDetails(),Hc.buildHeaders,s,{audio:{}}]),e.insertKeyPlaceholderText="AssemblyAI API Key",e.keyHelpUrl="https://www.assemblyai.com/app/account",e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>AssemblyAI Audio</b></div>
    <p><b>Upload an audio file</b> to transcribe it into text.
    <p>
      Click <a href="https://www.assemblyai.com/docs/Guides/transcribing_an_audio_file#get-started">here</a> for more info.
    </p>`,e.url="https://api.assemblyai.com/v2/upload",e.isTextInputDisabled=!0,e.textInputPlaceholderText="Upload an audio file",e.permittedErrorPrefixes=["Authentication","Invalid"],e.canSendMessage=o.canFileSendMessage,e}return me(o,i),I(o,[{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if((f=this.connectSettings)!=null&&f.headers){m.next=2;break}throw new Error("Request settings have not been set up");case 2:if(c!=null&&c[0]){m.next=4;break}throw new Error("No file was added");case 4:Xe.request(this,c[0],s,!1);case 5:case"end":return m.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u,c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!s.error){m.next=2;break}throw s.error;case 2:return f=(c=(u=this.connectSettings)==null?void 0:u.headers)==null?void 0:c.Authorization,m.next=5,Hc.poll(f,s.upload_url);case 5:return m.t0=m.sent.text,m.abrupt("return",{text:m.t0});case 7:case"end":return m.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"canFileSendMessage",value:function(e,a){return!!(a!=null&&a[0])}}])})(bt),ty=(function(i){function o(n,e,a,s,u){var c;return N(this,o),c=pe(this,o,[n,Ha.buildSpeechKeyVerificationDetails(a),e,s,u]),c.insertKeyPlaceholderText="Azure Speech Subscription Key",c.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",c}return me(o,i),I(o)})(bt),cd=(function(i){function o(n){var e,a,s,u;N(this,o);var c,f,p,m,g,b,y=(f=(c=n.directConnection)==null?void 0:c.azure)==null?void 0:f.textToSpeech,k=(p=n.directConnection)==null?void 0:p.azure;return u=pe(this,o,[n,Ha.buildTextToSpeechHeaders.bind({},y?.outputFormat||"audio-16khz-128kbitrate-mono-mp3"),y.region,k]),u.permittedErrorPrefixes=[o.REGION_ERROR_MESSAGE],u.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Azure Text To Speech</b></div>
    <p>Insert text to synthesize it to audio.
    <p>
      Click <a href="`.concat(o.HELP_LINK,`">here</a> for more info.
    </p>`),u.isTextInputDisabled=!1,u.url="",y.region?(Object.assign(u.rawBody,y),(e=(m=u.rawBody).lang)!==null&&e!==void 0||(m.lang="en-US"),(a=(g=u.rawBody).name)!==null&&a!==void 0||(g.name="en-US-JennyNeural"),(s=(b=u.rawBody).gender)!==null&&s!==void 0||(b.gender="Female"),u.url="https://".concat(y.region,".tts.speech.microsoft.com/cognitiveservices/v1")):(u.isTextInputDisabled=!0,u.canSendMessage=function(){return!1},setTimeout(function(){n.addMessage({error:o.REGION_ERROR_MESSAGE})})),u}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=a[a.length-1].text;if(s)return"<speak version='1.0' xml:lang='".concat(e.lang,`'>
      <voice xml:lang='`).concat(e.lang,"' xml:gender='").concat(e.gender,"' name='").concat(e.name,`'>
        `).concat(s,`
      </voice>
    </speak>`)}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),Xe.request(this,c,s,!1);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(f){var p=new FileReader;p.readAsDataURL(s),p.onload=function(m){f({files:[{src:m.target.result,type:"audio"}]})}}));case 1:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(ty);cd.HELP_LINK="https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest",cd.REGION_ERROR_MESSAGE="Please define a region config property. [More Information](https://deepchat.dev/docs/directConnection/Azure#TextToSpeech)";var i2=cd,dd=(function(i){function o(n){var e;N(this,o);var a,s,u,c=(s=(a=n.directConnection)==null?void 0:a.azure)==null?void 0:s.speechToText,f=(u=n.directConnection)==null?void 0:u.azure,p={audio:{files:{acceptedFormats:".wav,.ogg"}}};if(e=pe(this,o,[n,Ha.buildSpeechToTextHeaders,c.region,f,p]),e.permittedErrorPrefixes=[o.REGION_ERROR_MESSAGE],e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>Azure Speech To Text</b></div>
    <p><b>Upload a .wav or .ogg audio file</b> to transcribe it into text.
    <p>
      Click <a href="`.concat(o.HELP_LINK,`">here</a> for more info.
    </p>`),e.url="",e.isTextInputDisabled=!0,e.textInputPlaceholderText="Upload an audio file",!c.region)e.isTextInputDisabled=!0,e.canSendMessage=function(){return!1},setTimeout(function(){n.addMessage({error:o.REGION_ERROR_MESSAGE})});else{e.canSendMessage=o.canFileSendMessage;var m=c.lang||"en-US";e.url="https://".concat(c.region,".stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=").concat(m,"&format=detailed"),e.recordAudio=void 0}return e}return me(o,i),I(o,[{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if((f=this.connectSettings)!=null&&f.headers){g.next=2;break}throw new Error("Request settings have not been set up");case 2:if(c!=null&&c[0]){g.next=4;break}throw new Error("No file was added");case 4:(p=this.connectSettings)!=null&&p.headers&&(this.connectSettings.headers["Content-Type"]=c[0].name.toLocaleLowerCase().endsWith(".wav")?"audio/wav; codecs=audio/pcm; samplerate=16000":"audio/ogg; codecs=opus"),Xe.request(this,c[0],s,!1);case 5:case"end":return g.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.error){c.next=2;break}throw s.error;case 2:return c.abrupt("return",{text:s.DisplayText||""});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"canFileSendMessage",value:function(e,a){return!!(a!=null&&a[0])}}])})(ty);dd.HELP_LINK="https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest",dd.REGION_ERROR_MESSAGE="Please define a region config property. [More Information](https://deepchat.dev/docs/directConnection/Azure#SpeechToText)";var s2=dd,l2=(function(i){function o(n){var e;N(this,o);var a,s,u,c=(s=(a=n.directConnection)==null?void 0:a.azure)==null?void 0:s.translation,f=(u=n.directConnection)==null?void 0:u.azure;return e=pe(this,o,[n,Ha.buildTranslationKeyVerificationDetails(c.region),Ha.buildTranslationHeaders.bind({},c?.region),f]),e.insertKeyPlaceholderText="Azure Translate Subscription Key",e.keyHelpUrl="https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal",e.url="",e.url="https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=".concat(c.language||"es"),e}return me(o,i),I(o,[{key:"preprocessBody",value:function(e){var a=e[e.length-1].text;if(a)return[{Text:a}]}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(u),Xe.request(this,c,s);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!Array.isArray(s)){f.next=2;break}return f.abrupt("return",{text:((u=s[0].translations)==null?void 0:u[0].text)||""});case 2:throw s.error;case 3:case"end":return f.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(bt),ny=(function(i){function o(n,e,a,s,u){var c,f,p;N(this,o);var m,g,b,y,k,E=JSON.parse(JSON.stringify(n.directConnection)),w=e||et.buildKeyVerificationDetails(),M=a||et.buildHeaders,O=s||E.openAI;p=pe(this,o,[n,w,M,O]),p.insertKeyPlaceholderText="OpenAI API Key",p.keyHelpUrl="https://platform.openai.com/account/api-keys",p.url="https://api.openai.com/v1/chat/completions",p.permittedErrorPrefixes=["Incorrect"],p.asyncCallInProgress=!1,p._systemMessage=o.generateSystemMessage("You are a helpful assistant.");var X=u||((m=E.openAI)==null?void 0:m.chat);if(re(X)=="object"){X.system_prompt&&(p._systemMessage=o.generateSystemMessage(X.system_prompt));var ne=(y=(b=(g=n.directConnection)==null?void 0:g.openAI)==null?void 0:b.chat)==null?void 0:y.function_handler;ne&&(p._functionHandler=ne),p.cleanConfig(X),Object.assign(p.rawBody,X)}return(c=p.maxMessages)!==null&&c!==void 0||(p.maxMessages=-1),(f=(k=p.rawBody).model)!==null&&f!==void 0||(k.model="gpt-4o"),p}return me(o,i),I(o,[{key:"cleanConfig",value:function(e){delete e.system_prompt,delete e.function_handler}},{key:"preprocessBody",value:function(e,a){var s,u=JSON.parse(JSON.stringify(e)),c=uo.getCharacterLimitMessages(a,this.totalMessagesMaxCharLength?this.totalMessagesMaxCharLength-this._systemMessage.content.length:-1).map(function(f){return{content:o.getContent(f),role:f.role===fe.USER_ROLE?"user":"assistant"}});return a.find(function(f){return f.files&&f.files.length>0})&&((s=u.max_tokens)!==null&&s!==void 0||(u.max_tokens=300)),u.messages=[this._systemMessage].concat(Es(c)),u}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.connectSettings){m.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),f=this.stream,f&&(re(f)!="object"||!f.simulation)||c.stream?(c.stream=!0,it.request(this,c,s)):Xe.request(this,c,s);case 4:case"end":return m.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!s.error){y.next=2;break}throw s.error.message;case 2:return y.abrupt("return",(p=(f=s.choices)==null?void 0:f[0])!=null&&p.delta?this.extractStreamResult(s.choices[0],u,c):(g=(m=s.choices)==null?void 0:m[0])!=null&&g.message?s.choices[0].message.tool_calls?this.handleTools(s.choices[0].message,u,c):{text:s.choices[0].message.content}:{text:""});case 3:case"end":return y.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractStreamResult",value:(function(){var n=z(T().mark(function a(s,u,c){var f=this,p,m,g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(p=s.delta,m=s.finish_reason,m!=="tool_calls"){y.next=7;break}return this.asyncCallInProgress=!0,g={tool_calls:this._streamToolCalls},y.abrupt("return",(this._streamToolCalls=void 0,this.handleTools(g,u,c)));case 7:p!=null&&p.tool_calls&&(this._streamToolCalls?p.tool_calls.forEach(function(k,E){f._streamToolCalls&&(f._streamToolCalls[E].function.arguments+=k.function.arguments)}):this._streamToolCalls=p.tool_calls);case 8:return y.abrupt("return",{text:p?.content||""});case 9:case"end":return y.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"handleTools",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p,m,g,b,y,k,E,w,M,O,X;return T().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(!s.tool_calls||!u||!c||!this._functionHandler)){P.next=2;break}throw Error("Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Chat) object.");case 2:return y=JSON.parse(JSON.stringify(c)),k=s.tool_calls.map(function(G){return{name:G.function.name,arguments:G.function.arguments}}),P.next=6,(f=this._functionHandler)==null?void 0:f.call(this,k);case 6:if(E=P.sent,Array.isArray(E)){P.next=20;break}if(!E.text){P.next=19;break}return w={text:E.text},P.next=12,(m=(p=this.deepChat).responseInterceptor)==null?void 0:m.call(p,w);case 12:if(P.t0=P.sent,P.t0){P.next=15;break}P.t0=w;case 15:if(M=P.t0,!Array.isArray(M)){P.next=18;break}throw Error(et.FUNCTION_TOOL_RESP_ARR_ERROR);case 18:return P.abrupt("return",M);case 19:throw Error(et.FUNCTION_TOOL_RESP_ERROR);case 20:return P.next=22,Promise.all(E);case 22:if(O=P.sent,y.messages.push({tool_calls:s.tool_calls,role:"assistant",content:null}),!(!O.find(function(G){var le=G.response;return typeof le!="string"})&&k.length===O.length)){P.next=43;break}return O.forEach(function(G,le){var K,be=(K=s.tool_calls)==null?void 0:K[le];y?.messages.push({role:"tool",tool_call_id:be?.id,name:be?.function.name,content:G.response})}),delete y.tools,delete y.tool_choice,delete y.stream,P.prev=25,P.next=28,u?.(y).then(function(G){return _e.processResponseByType(G)});case 28:return X=P.sent,P.next=31,(b=(g=this.deepChat).responseInterceptor)==null?void 0:b.call(g,X);case 31:if(P.t1=P.sent,P.t1){P.next=34;break}P.t1=X;case 34:if(X=P.t1,!X.error){P.next=37;break}throw X.error.message;case 37:return P.abrupt("return",{text:X.choices[0].message.content||""});case 40:throw P.prev=40,P.t2=P.catch(25),this.asyncCallInProgress=!1,P.t2;case 43:throw Error(et.FUNCTION_TOOL_RESP_ERROR);case 44:case"end":return P.stop()}},a,this,[[25,40]])}));function e(a,s,u){return n.apply(this,arguments)}return e})()}],[{key:"generateSystemMessage",value:function(e){return{role:"system",content:e}}},{key:"getContent",value:function(e){if(e.files&&e.files.length>0){var a=e.files.map(function(s){return{type:"image_url",image_url:{url:s.src}}});return e.text&&e.text.trim().length>0&&a.unshift({type:"text",text:e.text}),a}return e.text}}])})(bt),o2=(function(i){function o(n){var e;N(this,o);var a,s,u,c,f,p,m,g=JSON.parse(JSON.stringify(n.directConnection)),b=g.azure,y=((s=(a=g.azure)==null?void 0:a.openAI)==null?void 0:s.urlDetails)||{},k=(c=(u=g.azure)==null?void 0:u.openAI)==null?void 0:c.chat;if(e=pe(this,o,[n,dn.buildKeyVerificationDetails(y),dn.buildHeaders,b,k]),e.permittedErrorPrefixes=[dn.URL_DETAILS_ERROR_MESSAGE],e.isTextInputDisabled=!1,re(k)=="object"){var E=(m=(p=(f=n.directConnection)==null?void 0:f.azure)==null?void 0:p.openAI)==null?void 0:m.chat,w=E.function_handler;w&&(e._functionHandler=w)}return dn.validateURLDetails(y)?e.url=o.buildURL(y):(e.isTextInputDisabled=!0,e.canSendMessage=function(){return!1},setTimeout(function(){n.addMessage({error:dn.URL_DETAILS_ERROR_MESSAGE})})),e}return me(o,i),I(o,null,[{key:"buildURL",value:function(e){var a=e.endpoint,s=e.deploymentId,u=e.version;return"".concat(a,"/openai/deployments/").concat(s,"/chat/completions?api-version=").concat(u)}}])})(ny),Wl=(function(i){function o(n){var e;N(this,o);var a,s=n.directConnection,u=s?.openAI,c={images:{files:{acceptedFormats:".png",maxNumberOfFiles:2}}};e=pe(this,o,[n,et.buildKeyVerificationDetails(),et.buildHeaders,u,c]),e.insertKeyPlaceholderText="OpenAI API Key",e.keyHelpUrl="https://platform.openai.com/account/api-keys",e.introPanelMarkUp=`
    <div style="width: 100%; text-align: center; margin-left: -10px"><b>OpenAI DALL·E</b></div>
    <p><b>Insert text</b> to generate an image.</p>
    <p><b>Upload 1</b> PNG image to generate its variation and optionally insert text to specify the change.</p>
    <p><b>Upload 2</b> PNG images where the second is a copy of the first with a transparent area where the edit should
      take place and text to specify the edit.</p>
    <p>Click <a href="https://platform.openai.com/docs/guides/images/introduction">here</a> for more info.</p>`,e.url="",e.permittedErrorPrefixes=["Incorrect","Invalid input image"];var f=(a=s?.openAI)==null?void 0:a.images;if(e.camera){var p=re(f)=="object"&&f.size?Number.parseInt(f.size):1024;e.camera.files={dimensions:{width:p,height:p}}}return re(f)=="object"&&Object.assign(e.rawBody,f),e.canSendMessage=o.canFileSendMessage,e}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=JSON.parse(JSON.stringify(e));return a&&a!==""&&(s.prompt=a),s}},{key:"callApiWithImage",value:function(e,a,s){var u,c,f,p=(c=(u=a[a.length-1])==null?void 0:u.text)==null?void 0:c.trim();if(s[1]||p&&p!==""){this.url=o.IMAGE_EDIT_URL;var m=this.preprocessBody(this.rawBody,p);f=o.createFormDataBody(m,s[0],s[1])}else this.url=o.IMAGE_VARIATIONS_URL,f=o.createFormDataBody(this.rawBody,s[0]);_e.tempRemoveContentHeader(this.connectSettings,Xe.request.bind(this,this,f,e),!1)}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u,c){var f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if((f=this.connectSettings)!=null&&f.headers){g.next=2;break}throw new Error("Request settings have not been set up");case 2:if(!(c!=null&&c[0])){g.next=6;break}this.callApiWithImage(s,u,c),g.next=11;break;case 6:if(this.connectSettings){g.next=8;break}throw new Error("Request settings have not been set up");case 8:this.url=o.IMAGE_GENERATION_URL,p=this.preprocessBody(this.rawBody,u[u.length-1].text),Xe.request(this,p,s);case 11:case"end":return g.stop()}},a,this)}));function e(a,s,u){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.error){c.next=2;break}throw s.error.message;case 2:return c.abrupt("return",{files:s.data.map(function(f){return f.url?{src:f.url,type:"image"}:{src:"".concat(ks).concat(f.b64_json),type:"image"}})});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"canFileSendMessage",value:function(e,a){return!!(a!=null&&a[0])||!!(e&&e.trim()!=="")}},{key:"createFormDataBody",value:function(e,a,s){var u=new FormData;return u.append("image",a),s&&u.append("mask",s),Object.keys(e).forEach(function(c){u.append(c,String(e[c]))}),u}}])})(bt);Wl.IMAGE_GENERATION_URL="https://api.openai.com/v1/images/generations",Wl.IMAGE_VARIATIONS_URL="https://api.openai.com/v1/images/variations",Wl.IMAGE_EDIT_URL="https://api.openai.com/v1/images/edits";var u2=Wl,c2=(function(i){function o(n){var e,a;N(this,o);var s,u=JSON.parse(JSON.stringify(n.directConnection)),c=(s=u.cohere)==null?void 0:s.chat,f=u.cohere;return a=pe(this,o,[n,"https://api.cohere.ai/v1/chat","Ask me anything!",c,f]),re(c)=="object"&&Object.assign(a.rawBody,c),(e=a.maxMessages)!==null&&e!==void 0||(a.maxMessages=-1),a}return me(o,i),I(o,[{key:"preprocessBody",value:function(e,a){var s=JSON.parse(JSON.stringify(e)),u=a.filter(function(c){return c.text});return s.query=u[u.length-1].text,s.chat_history=u.slice(0,u.length-1).map(function(c){return{text:c.text,user_name:c.role==="ai"?"CHATBOT":"USER"}}),s}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),Xe.request(this,c,s);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{text:s.text});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(xd),yv=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(n){return{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",accept:"application/json"}}},{key:"handleVerificationResult",value:function(n,e,a,s){var u;(u=n.message)!=null&&u.includes("invalid request: prompt must be at least 1 token long")?a(e):s(qe.INVALID_KEY)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://api.mistral.ai/v1/models",method:"GET",handleVerificationResult:i.handleVerificationResult}}}])})(),d2=(function(i){function o(n){var e,a,s;N(this,o);var u,c=JSON.parse(JSON.stringify(n.directConnection)).mistral;return s=pe(this,o,[n,yv.buildKeyVerificationDetails(),yv.buildHeaders,c]),s.insertKeyPlaceholderText="Mistral API Key",s.keyHelpUrl="https://console.mistral.ai/api-keys/",s.url="https://api.mistral.ai/v1/chat/completions",s.permittedErrorPrefixes=["invalid"],c&&(s.cleanConfig(c),Object.assign(s.rawBody,c)),(e=s.maxMessages)!==null&&e!==void 0||(s.maxMessages=-1),(a=(u=s.rawBody).model)!==null&&a!==void 0||(u.model="open-mistral-7b"),s}return me(o,i),I(o,[{key:"cleanConfig",value:function(e){delete e.key}},{key:"preprocessBody",value:function(e,a){var s=JSON.parse(JSON.stringify(e)),u=a.filter(function(c){return c.text});return s.messages=u.slice(0,u.length-1).map(function(c){return{text:c.text,user_name:c.role==="ai"?"system":"user"}}),s}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.connectSettings){p.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),Xe.request(this,c,s);case 4:case"end":return p.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){return T().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s.message){c.next=2;break}throw s.message;case 2:return c.abrupt("return",{text:s.text});case 3:case"end":return c.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}])})(bt),bv=(function(){function i(){N(this,i)}return I(i,null,[{key:"buildHeaders",value:function(){return{"Content-Type":"application/json"}}},{key:"handleVerificationResult",value:function(n,e,a,s){var u,c=n;c.error?c.error.code===403||(u=c.error.message)!=null&&u.includes("API key")?s(qe.INVALID_KEY):s(qe.CONNECTION_FAILED):a(e)}},{key:"buildKeyVerificationDetails",value:function(){return{url:"https://generativelanguage.googleapis.com/v1beta/models?key=",method:"GET",handleVerificationResult:i.handleVerificationResult}}},{key:"directFetch",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f,p=arguments;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return c=p.length>3&&p[3]!==void 0?p[3]:!0,a.connectSettings.method=u,g.next=4,_e.fetch(a,a.connectSettings.headers,c,s).then(function(b){return _e.processResponseByType(b)});case 4:if(f=g.sent,!f.error){g.next=7;break}throw f.error.message;case 7:return g.abrupt("return",f);case 8:case"end":return g.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()}])})(),f2=(function(i){function o(n){var e,a;N(this,o);var s,u=JSON.parse(JSON.stringify(n.directConnection)),c=u.gemini,f=(s=u.gemini)==null?void 0:s.chat,p;a=pe(this,o,[n,bv.buildKeyVerificationDetails(),bv.buildHeaders,c]),a.insertKeyPlaceholderText="Gemini API Key",a.keyHelpUrl="https://aistudio.google.com/app/apikey",a.url="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",a.permittedErrorPrefixes=["API_KEY_INVALID"],re(f)=="object"&&(f.systemInstruction&&(p=f.systemInstruction),f.model&&(a.url="https://generativelanguage.googleapis.com/v1beta/models/".concat(f.model,":generateContent")));var m="".concat(a.url,"?key=").concat(c?.key);return a.url=m,Object.defineProperty(a,"_systemInstruction",{value:p,writable:!1}),re(f)=="object"&&(a.cleanConfig(f),Object.assign(a.rawBody,f)),(e=a.maxMessages)!==null&&e!==void 0||(a.maxMessages=-1),a}return me(o,i),I(o,[{key:"cleanConfig",value:function(e){delete e.systemInstruction,delete e.model}},{key:"preprocessBody",value:function(e,a){var s,u=JSON.parse(JSON.stringify(e)),c=uo.getCharacterLimitMessages(a,this.totalMessagesMaxCharLength?this.totalMessagesMaxCharLength-(((s=this._systemInstruction)==null?void 0:s.length)||0):-1).map(function(f){return o.getContent(f)});return u.contents=c,this._systemInstruction&&(u.systemInstruction={parts:[{text:this._systemInstruction}]}),u}},{key:"callServiceAPI",value:(function(){var n=z(T().mark(function a(s,u){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.connectSettings){m.next=2;break}throw new Error("Request settings have not been set up");case 2:c=this.preprocessBody(this.rawBody,u),f=this.stream,f&&(re(f)!="object"||!f.simulation)||c.stream?(c.stream=!0,it.request(this,c,s)):Xe.request(this,c,s);case 4:case"end":return m.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"extractResultData",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p,m;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!s.error){b.next=2;break}throw s.error.message||"Gemini API Error";case 2:return b.abrupt("return",(m=(p=(f=(c=(u=s.candidates)==null?void 0:u[0])==null?void 0:c.content)==null?void 0:f.parts)==null?void 0:p[0])!=null&&m.text?{text:s.candidates[0].content.parts[0].text}:{text:""});case 3:case"end":return b.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()}],[{key:"getContent",value:function(e){var a=[];return e.text&&e.text.trim().length>0&&a.push({text:e.text}),e.files&&e.files.length>0&&e.files.forEach(function(s){if(s.src&&s.src.includes("data:")){var u=s.src.split(","),c=za(u,2),f=c[0],p=c[1];a.push({inlineData:{mimeType:f.replace("data:","").replace(";base64",""),data:p}})}}),{parts:a,role:e.role===fe.USER_ROLE?"user":"model"}}}])})(bt),h2=(function(){function i(){N(this,i)}return I(i,null,[{key:"create",value:function(n){var e=n.directConnection,a=n.connect,s=n.demo,u=n.webModel;if(u)return new Ad(n);if(e){if(e.openAI)return e.openAI.images?new u2(n):e.openAI.speechToText?new t2(n):e.openAI.textToSpeech?new e2(n):e.openAI.assistant?new ZE(n):e.openAI.realtime?new WE(n):new ny(n);if(e.assemblyAI)return new r2(n);if(e.cohere)return e.cohere.textGeneration?new JE(n):e.cohere.summarization?new $E(n):new c2(n);if(e.huggingFace)return e.huggingFace.textGeneration?new HE(n):e.huggingFace.summarization?new FE(n):e.huggingFace.translation?new KE(n):e.huggingFace.fillMask?new XE(n):e.huggingFace.questionAnswer?new qE(n):e.huggingFace.audioSpeechRecognition?new PE(n):e.huggingFace.audioClassification?new BE(n):e.huggingFace.imageClassification?new UE(n):new GE(n);if(e.azure){if(e.azure.openAI){if(e.azure.openAI.chat)return new o2(n);if(e.azure.openAI.assistant)return new QE(n)}if(e.azure.speechToText)return new s2(n);if(e.azure.textToSpeech)return new i2(n);if(e.azure.summarization)return new a2(n);if(e.azure.translation)return new l2(n)}if(e.stabilityAI)return e.stabilityAI.imageToImage?new VE(n):e.stabilityAI.imageToImageUpscale?new jE(n):e.stabilityAI.imageToImageMasking?new zE(n):new YE(n);if(e.mistral)return new d2(n);if(e.gemini)return new f2(n)}return a&&Object.keys(a).length>0&&!s?new io(n):new io(n,void 0,s||!0)}}])})(),ay=I(function i(){N(this,i)});ay.attibutes={string:function(o){return o},number:function(o){return parseFloat(o)},boolean:function(o){return o==="true"},object:function(o){return JSON.parse(o)},array:function(o){return JSON.parse(o)},function:function(o){return new Function("return ".concat(o))()}};var p2=ay;function we(i){return function(o,n){Object.defineProperty(o,n,{});var e=o.constructor,a=n.toLocaleLowerCase();e._attributes_[a]=p2.attibutes[i],e._attributeToProperty_[a]=n}}var m2=(function(){function i(o,n,e){N(this,i),this._isDisplayed=!1,o?(this._elementRef=this.createIntroPanelWithChild(o,e),this._isDisplayed=!0):n&&(this._elementRef=this.createInternalIntroPanel(n,e),this._isDisplayed=!0)}return I(i,[{key:"createIntroPanelWithChild",value:function(n,e){var a=i.createIntroPanel(e);return n.style.display==="none"&&(n.style.display="block"),a.appendChild(n),a}},{key:"createInternalIntroPanel",value:function(n,e){var a=i.createIntroPanel(e);return a.id="internal-intro-panel",a.innerHTML=n,a}},{key:"hide",value:function(){this._isDisplayed&&this._elementRef&&(this._elementRef.style.display="none",this._isDisplayed=!1)}},{key:"display",value:function(){!this._isDisplayed&&this._elementRef&&(this._elementRef.style.display="",this._isDisplayed=!0)}}],[{key:"createIntroPanel",value:function(n){var e=document.createElement("div");return e.classList.add("intro-panel"),Object.assign(e.style,n),e}}])})(),v2=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="50 30 420 450" xml:space="preserve">
<g filter="brightness(0) saturate(100%) invert(16%) sepia(0%) saturate(1942%) hue-rotate(215deg) brightness(99%) contrast(93%)">
	<g>
		<path d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008
			C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237
			h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931
			l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278
			c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239
			h66.527V486.763z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/>
	</g>
</g>
<g>
	<g>
		<path d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175
			c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/>
	</g>
</g>
<g>
	<g>
		<path d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256
			c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/>
	</g>
</g>
</svg>`,eo=(function(){function i(){N(this,i)}return I(i,null,[{key:"createImage",value:function(n,e,a){var s=new Image;return s.src=n.src,a&&Tt.scrollDownOnImageLoad(s.src,e),Tt.processContent("image",s,s.src,n.name)}},{key:"createImageMessage",value:function(n,e,a,s){var u=i.createImage(e,n.elementRef,!s&&!n.focusMode),c=n.createNewMessageElement("",a);return c.bubbleElement.appendChild(u),c.bubbleElement.classList.add(i.IMAGE_BUBBLE_CLASS),{type:"image",elements:c}}},{key:"createAudioElement",value:function(n,e){var a=document.createElement("audio");return a.src=n.src,a.classList.add("audio-player"),a.controls=!0,Ua.IS_SAFARI&&(a.classList.add("audio-player-safari"),a.classList.add(e===fe.USER_ROLE?"audio-player-safari-right":"audio-player-safari-left")),a}},{key:"createNewAudioMessage",value:function(n,e,a,s){var u=i.createAudioElement(e,a),c=n.createMessageElementsOnOrientation("",a,s);return c.bubbleElement.appendChild(u),c.bubbleElement.classList.add(i.AUDIO_BUBBLE_CLASS),{type:"audio",elements:c}}},{key:"createAnyFile",value:function(n){var e=document.createElement("div");e.classList.add("any-file-message-contents");var a=document.createElement("div");a.classList.add("any-file-message-icon-container");var s=Ln.createSVGElement(v2);s.classList.add("any-file-message-icon"),a.appendChild(s);var u=document.createElement("div");return u.classList.add("any-file-message-text"),u.textContent=n.name||Tt.DEFAULT_FILE_NAME,e.appendChild(a),e.appendChild(u),Tt.processContent("any",e,n.src,u.textContent)}},{key:"createNewAnyFileMessage",value:function(n,e,a,s){var u=n.createMessageElementsOnOrientation("",a,s),c=i.createAnyFile(e);return u.bubbleElement.classList.add(i.ANY_FILE_BUBBLE_CLASS),u.bubbleElement.appendChild(c),{type:"file",elements:u}}},{key:"createMessages",value:function(n,e,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.map(function(u){return u.ref&&(u=Tt.removeFileRef(u)),Tt.isAudioFile(u)?i.createNewAudioMessage(n,u,a,s):Tt.isImageFile(u)?i.createImageMessage(n,u,a,s):i.createNewAnyFileMessage(n,u,a,s)})}},{key:"addMessages",value:function(n,e,a,s){i.createMessages(n,e,a,s).forEach(function(u){var c=u.type,f=u.elements;Tt.addMessage(n,f,c,a,s)})}}])})();eo.IMAGE_BUBBLE_CLASS="image-message",eo.AUDIO_BUBBLE_CLASS="audio-message",eo.ANY_FILE_BUBBLE_CLASS="any-file-message";var ry=eo,g2=(function(){function i(){N(this,i)}return I(i,null,[{key:"removeElements",value:function(n,e){if(e){var a=n.findIndex(function(s){return s===e});n.splice(a,1),e?.outerContainer.remove()}}},{key:"removeFilesMessages",value:function(n,e){var a;(a=e[1].files)==null||a.forEach(function(s){i.removeElements(n.messageElementRefs,s)}),delete e[0].files,delete e[1].files}},{key:"removeTextHTMLMessage",value:function(n,e,a){var s=e[1][a];i.removeElements(n.messageElementRefs,s),delete e[0][a],delete e[1][a]}},{key:"updateHTMLMessage",value:function(n,e,a){var s,u,c;if(e[1].html)fa.overwriteElements(n,a,e[1].html);else{var f=fa.create(n,a,e[0].role),p=((u=e[1].files)==null?void 0:u[((s=e[1].files)==null?void 0:s.length)-1])||e[1].text,m=p.outerContainer.nextSibling;(c=m?.parentElement)==null||c.insertBefore(f.outerContainer,m),n.messageElementRefs.splice(n.messageElementRefs.length-1,1);var g=n.messageElementRefs.findIndex(function(b){return b===p});n.messageElementRefs.splice(g+1,0,f),e[1].html=f}e[0].html=a}},{key:"updateFileMessages",value:function(n,e,a){var s,u,c=e[0].role,f=ry.createMessages(n,a,c),p=e[1].html,m=((u=e[1].files)==null?void 0:u[((s=e[1].files)==null?void 0:s.length)-1])||e[1].text,g=p||m,b=n.messageElementRefs.findIndex(function(k){return k===g});m&&(b+=1);var y=p?.outerContainer||m?.outerContainer.nextSibling;f.forEach(function(k,E){var w=k.type,M=k.elements,O;Tt.setElementProps(n,M,w,c),(O=y.parentElement)==null||O.insertBefore(M.outerContainer,y),n.messageElementRefs.splice(n.messageElementRefs.length-1,1),n.messageElementRefs.splice(b+E,0,M)}),i.removeFilesMessages(n,e),e[1].files=f.map(function(k){var E=k.elements;return E}),e[0].files=a}},{key:"updateTextMessage",value:function(n,e,a){var s,u;if(e[1].text)n.renderText(e[1].text.bubbleElement,a);else{var c=n.createElements(a,e[0].role),f=((s=e[1].files)==null?void 0:s[0])||e[1].html;(u=f.outerContainer.parentElement)==null||u.insertBefore(c.outerContainer,f.outerContainer);var p=n.messageElementRefs.findIndex(function(m){return m===f});n.messageElementRefs.splice(p,0,c),e[1].text=c}e[0].text=a}},{key:"isElementActive",value:function(n){var e,a;return fd.isActiveElement((e=n.text)==null?void 0:e.bubbleElement.classList)||fd.isActiveElement((a=n.html)==null?void 0:a.bubbleElement.classList)}},{key:"update",value:function(n,e,a){var s=n.messageToElements[a];if(s){if(i.isElementActive(s[1]))return console.error("Cannot update a message that is being streamed");e.text&&i.updateTextMessage(n,s,e.text),e.files?i.updateFileMessages(n,s,e.files):i.removeFilesMessages(n,s),e.html&&i.updateHTMLMessage(n,s,e.html),!e.text&&s[1].text&&i.removeTextHTMLMessage(n,s,"text"),!e.html&&s[1].html&&i.removeTextHTMLMessage(n,s,"html");var u=n.messageElementRefs,c=n.avatar,f=n.name;fe.classifyRoleMessages(u),fe.resetAllRoleElements(u,c,f)}else console.error("Message index not found. Please use the `getMessages` method to find the correct index")}}])})(),y2=(function(){function i(){N(this,i)}return I(i,null,[{key:"getText",value:function(n,e){var a;if(!n.directConnection&&!n.connect&&!n.webModel&&!n.demo)return`Connect to any API using the [connect](https://deepchat.dev/docs/connect#connect-1) property or a popular service via [directConnection](https://deepchat.dev/docs/directConnection/#directConnection).
 Host AI entirely on your browser via a [webModel](https://deepchat.dev/docs/webModel).
 To get started checkout the [Start](https://deepchat.dev/start) page and live code [examples](https://deepchat.dev/examples/frameworks).
 To remove this message set the [demo](https://deepchat.dev/docs/modes#demo) property to true.`;if(n.directConnection){if(!e.isDirectConnection())return`Please define a valid service inside
          the [directConnection](https://deepchat.dev/docs/directConnection/#directConnection) object.`;var s=(a=n.directConnection.openAI)==null?void 0:a.chat;if(re(s)=="object"&&s.tools&&!s.function_handler)return"Please define the `function_handler` property inside the openAI [chat](https://deepchat.dev/docs/directConnection/openAI#Chat) object."}else if(n.connect&&!n.connect.url&&!n.connect.handler)return"Please define a `url` or a `handler` property inside the [connect](https://deepchat.dev/docs/connect#connect-1) object.";return null}}])})(),fd=(function(i){function o(n,e,a){var s;N(this,o);var u,c;s=pe(this,o,[n]);var f=e.permittedErrorPrefixes,p=e.introPanelMarkUp,m=e.demo;return s._errorMessageOverrides=(u=n.errorMessages)==null?void 0:u.overrides,s._onClearMessages=Ss.onClearMessages.bind(s,n),s._onError=Ss.onError.bind(s,n),s._isLoadingMessageAllowed=o.getDefaultDisplayLoadingMessage(n,e),re(n.displayLoadingBubble)=="object"&&n.displayLoadingBubble.toggle&&(n.displayLoadingBubble.toggle=s.setLoadingToggle.bind(s)),s._permittedErrorPrefixes=f,s.addSetupMessageIfNeeded(n,e)||s.populateIntroPanel(a,p,n.introPanelStyle),m&&s.prepareDemo(Nt.processDemo(m),n.loadHistory),s.addIntroductoryMessages(n,e),new wd(n,s,e),s._displayServiceErrorMessages=(c=n.errorMessages)==null?void 0:c.displayServiceErrorMessages,n.getMessages=function(){return fe.deepCloneMessagesWithReferences(s.messageToElements.map(function(g){var b=za(g,1),y=b[0];return y}))},n.clearMessages=s.clearMessages.bind(s,e),n.refreshMessages=s.refreshTextMessages.bind(s,n.remarkable),n.scrollToBottom=Ot.scrollToBottom.bind(s,s.elementRef),n.addMessage=function(g,b){s.addAnyMessage(Oe(Oe({},g),{},{sendUpdate:!!b}),!b)},n.updateMessage=function(g,b){return g2.update(s,g,b)},e.isWebModel()&&e.setUpMessages(s),n.textToSpeech&&Kl.processConfig(n.textToSpeech,function(g){s.textToSpeech=g}),s}return me(o,i),I(o,[{key:"setLoadingToggle",value:function(){var e=this.messageElementRefs[this.messageElementRefs.length-1];cn.isLoadingMessage(e)?this.removeLastMessage():this.addLoadingMessage(!0)}},{key:"prepareDemo",value:function(e,a){var s;if(re(e)=="object"){if(!a&&e.displayLoading){var u=e.displayLoading.history;u!=null&&u.small&&ja.addMessage(this,!1),u!=null&&u.full&&ja.addMessage(this)}e.displayErrors&&(e.displayErrors.default&&this.addNewErrorMessage("",""),e.displayErrors.service&&this.addNewErrorMessage("service",""),e.displayErrors.speechToText&&this.addNewErrorMessage("speechToText","")),(s=e.displayLoading)!=null&&s.message&&this.addLoadingMessage(),e.response&&(this.customDemoResponse=e.response)}}},{key:"addSetupMessageIfNeeded",value:function(e,a){var s=y2.getText(e,a);if(s){var u=this.createAndAppendNewMessageElement(s,fe.AI_ROLE);this.applyCustomStyles(u,fe.AI_ROLE,!1)}return!!s}},{key:"addIntroductoryMessages",value:function(e,a){var s=this;e!=null&&e.shadowRoot&&(this._introMessage=e.introMessage);var u=this._introMessage;a!=null&&a.isWebModel()&&(u??(u=a.getIntroMessage(u)));var c=!(e!=null&&e.history)&&!!(e!=null&&e.loadHistory||a!=null&&a.fetchHistory);u&&(Array.isArray(u)?u.forEach(function(f,p){if(p!==0){var m=s.messageElementRefs[s.messageElementRefs.length-1].innerContainer;fe.hideRoleElements(m,s.avatar,s.name)}s.addIntroductoryMessage(f,c)}):this.addIntroductoryMessage(u,c))}},{key:"addIntroductoryMessage",value:function(e,a){var s,u;return e!=null&&e.text?u=this.createAndAppendNewMessageElement(e.text,fe.AI_ROLE):e!=null&&e.html&&(u=fa.add(this,e.html,fe.AI_ROLE)),u&&(this.applyCustomStyles(u,fe.AI_ROLE,!1,(s=this.messageStyles)==null?void 0:s.intro),u.outerContainer.classList.add(cn.INTRO_CLASS),a&&(u.outerContainer.style.display="none")),u}},{key:"removeIntroductoryMessage",value:function(){var e=this.messageElementRefs[0];e.outerContainer.classList.contains(cn.INTRO_CLASS)&&(e.outerContainer.remove(),this.messageElementRefs.shift())}},{key:"addAnyMessage",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e.error?this.addNewErrorMessage("service",e.error,s):this.addNewMessage(e,a,s)}},{key:"tryAddTextMessage",value:function(e,a,s){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;!s.ignoreText&&e.text!==void 0&&s.text!==null&&(this.addNewTextMessage(e.text,e.role,a,c),!u&&this.textToSpeech&&e.role!==fe.USER_ROLE&&Kl.speak(e.text,this.textToSpeech))}},{key:"tryAddFileMessages",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.files&&Array.isArray(e.files)&&ry.addMessages(this,e.files,e.role,a)}},{key:"tryAddHTMLMessage",value:function(e,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.html!==void 0&&e.html!==null){var u=fa.add(this,e.html,e.role,a,s);!s&&Br.isElementTemporary(u)&&delete e.html}}},{key:"addNewMessage",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u,c;e.role!==fe.USER_ROLE&&((u=this._hiddenAttachments)==null||u.removeHiddenFiles());var f=o.createMessageContent(e),p={status:e.overwrite};return s?(this.tryAddHTMLMessage(f,p,s),this.tryAddFileMessages(f,s),this.tryAddTextMessage(f,p,e,a,s)):(this.tryAddTextMessage(f,p,e,a,s),this.tryAddFileMessages(f,s),this.tryAddHTMLMessage(f,p,s)),this.isValidMessageContent(f)&&!s&&(this.updateStateOnMessage(f,e.overwrite,e.sendUpdate,a),a||(c=this.browserStorage)==null||c.addMessages(this.messageToElements.map(function(m){var g=za(m,1),b=g[0];return b}))),f}},{key:"isValidMessageContent",value:function(e){return e.text||e.html||e.files&&e.files.length>0}},{key:"updateStateOnMessage",value:function(e,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!a){var c=fe.generateMessageBody(e,this.messageElementRefs);this.messageToElements.push([e,c])}s&&this.sendClientUpdate(e,u)}},{key:"removeMessageOnError",value:function(){var e=this.messageElementRefs[this.messageElementRefs.length-1],a=e?.bubbleElement;(a!=null&&a.classList.contains(ha.MESSAGE_CLASS)&&a.textContent===""||o.isTemporaryElement(e))&&this.removeLastMessage()}},{key:"addNewErrorMessage",value:function(e,a){var s=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c,f,p,m,g,b;(c=this._hiddenAttachments)==null||c.readdHiddenFiles(),this.removeMessageOnError();var y=this.getPermittedMessage(a)||((f=this._errorMessageOverrides)==null?void 0:f[e])||((p=this._errorMessageOverrides)==null?void 0:p.default)||"Error, please try again.",k=this.createMessageElementsOnOrientation(y,"error",u);fe.hideRoleElements(k.innerContainer,this.avatar,this.name);var E=k.bubbleElement,w=k.outerContainer;E.classList.add(fe.ERROR_MESSAGE_TEXT_CLASS),this.renderText(E,y);var M=Yl.extractParticularSharedStyles(["fontSize","fontFamily"],(m=this.messageStyles)==null?void 0:m.default);Yl.applyCustomStylesToElements(k,!1,M),Yl.applyCustomStylesToElements(k,!1,(g=this.messageStyles)==null?void 0:g.error),u||this.appendOuterContainerElemet(w),this.textToSpeech&&Kl.speak(y,this.textToSpeech),(b=this._onError)==null||b.call(this,y),setTimeout(function(){return Ot.scrollToBottom(s.elementRef)})}},{key:"getPermittedMessage",value:function(e){if(e)for(var a=o.extractErrorMessages(e),s=0;s<a.length;s+=1){var u=a[s];if(typeof u=="string"){if(this._displayServiceErrorMessages)return u;if(this._permittedErrorPrefixes){var c=o.checkPermittedErrorPrefixes(this._permittedErrorPrefixes,u);if(c)return c}}}}},{key:"removeError",value:function(){this.isLastMessageError()&&fe.getLastMessageElement(this.elementRef).remove()}},{key:"addDefaultLoadingMessage",value:function(){var e=this.createMessageElements("",fe.AI_ROLE),a=e.bubbleElement;e.bubbleElement.classList.add(Ba.DOTS_CONTAINER_CLASS);var s=document.createElement("div");return s.classList.add("loading-message-dots"),a.appendChild(s),Ba.setDots(a,this.messageStyles),e}},{key:"addLoadingMessage",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a,s,u,c,f,p,m=this.messageElementRefs[this.messageElementRefs.length-1];if(!(cn.isLoadingMessage(m)||!e&&!this._isLoadingMessageAllowed)){var g=(u=(s=(a=this.messageStyles)==null?void 0:a.loading)==null?void 0:s.message)==null?void 0:u.html,b=g?fa.createElements(this,g,fe.AI_ROLE,!1):this.addDefaultLoadingMessage();this.appendOuterContainerElemet(b.outerContainer),b.bubbleElement.classList.add(Ba.BUBBLE_CLASS),this.applyCustomStyles(b,fe.AI_ROLE,!1,(p=(f=(c=this.messageStyles)==null?void 0:c.loading)==null?void 0:f.message)==null?void 0:p.styles),this.focusMode||Ot.scrollToBottom(this.elementRef)}}},{key:"populateIntroPanel",value:function(e,a,s){(e||a)&&(this._introPanel=new m2(e,a,s),this._introPanel._elementRef&&(On.apply(this,this._introPanel._elementRef),this.elementRef.appendChild(this._introPanel._elementRef)))}},{key:"addMultipleFiles",value:(function(){var n=z(T().mark(function a(s,u){return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(this._hiddenAttachments=u,Promise.all((s||[]).map(function(p){return new Promise(function(m){if(!p.type||p.type==="any"){var g=p.file.name||Tt.DEFAULT_FILE_NAME;m({name:g,type:"any",ref:p.file})}else{var b=new FileReader;b.readAsDataURL(p.file),b.onload=function(){m({src:b.result,type:p.type,ref:p.file})}}})}))));case 1:case"end":return f.stop()}},a,this)}));function e(a,s){return n.apply(this,arguments)}return e})()},{key:"clearMessages",value:function(e,a){var s,u,c,f,p=[];this.messageElementRefs.forEach(function(g){o.isActiveElement(g.bubbleElement.classList)?p.push(g):g.outerContainer.remove()}),Array.from(this.elementRef.children).forEach(function(g){var b,y=(b=g.children[0])==null?void 0:b.children[0];y!=null&&y.classList.contains(fe.ERROR_MESSAGE_TEXT_CLASS)&&g.remove()}),this.messageElementRefs=p;var m=this.messageToElements.filter(function(g){return g[1].text&&o.isActiveElement(g[1].text.bubbleElement.classList)||g[1].html&&o.isActiveElement(g[1].html.bubbleElement.classList)});(s=this.messageToElements).splice.apply(s,[0,this.messageToElements.length].concat(Es(m))),a!==!1&&((u=this._introPanel)!=null&&u._elementRef&&this._introPanel.display(),this.addIntroductoryMessages()),(c=this.browserStorage)==null||c.clear(),(f=this._onClearMessages)==null||f.call(this),delete e.sessionId}}],[{key:"getDefaultDisplayLoadingMessage",value:function(e,a){var s;return a.websocket?!!e.displayLoadingBubble:(s=re(e.displayLoadingBubble)=="object"||e.displayLoadingBubble)!==null&&s!==void 0?s:!0}},{key:"checkPermittedErrorPrefixes",value:function(e,a){for(var s=0;s<e.length;s+=1)if(a.startsWith(e[s]))return a}},{key:"extractErrorMessages",value:function(e){return Array.isArray(e)?e:e instanceof Error?[e.message]:typeof e=="string"?[e]:re(e)=="object"&&e.error?[e.error]:[]}},{key:"isActiveElement",value:function(e){return e?e.contains(Ba.BUBBLE_CLASS)||e.contains(ja.CLASS)||e.contains(ha.MESSAGE_CLASS):!1}}])})(cn),ds=(function(){function i(){N(this,i)}return I(i,null,[{key:"adjustInputPadding",value:function(n,e){e["inside-left"].length>0&&n.classList.add("text-input-inner-left-adjustment"),e["inside-right"].length>0&&n.classList.add("text-input-inner-right-adjustment")}},{key:"adjustForOutsideButton",value:function(n,e,a){a["outside-right"].length===0&&a["outside-left"].length>0?(n[0].classList.add(i.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS),e.classList.add(i.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS)):a["outside-left"].length===0&&a["outside-right"].length>0&&(n[3].classList.add(i.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS),e.classList.add(i.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS))}},{key:"adjustOutsideSubmit",value:function(n,e,a){if(!(a["inside-left"].length>0||a["inside-right"].length>0)){if(a["outside-right"].length===0&&a["outside-left"].length>0)return n[0].classList.add(i.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS),e.classList.add(i.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS),a["outside-left"].map(function(s){return s.button.elementRef.classList.add("submit-button-enlarged")});if(a["outside-left"].length===0&&a["outside-right"].length>0)return n[3].classList.add(i.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS),e.classList.add(i.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS),a["outside-right"].map(function(s){return s.button.elementRef.classList.add("submit-button-enlarged")})}}},{key:"set",value:function(n,e,a,s){i.adjustOutsideSubmit(e,a,s)||i.adjustForOutsideButton(e,a,s),i.adjustInputPadding(n,s)}}])})();ds.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS="text-input-container-left-adjustment",ds.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS="text-input-container-right-adjustment",ds.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS="text-input-container-left-small-adjustment",ds.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS="text-input-container-right-small-adjustment";var b2=ds,so=(function(){function i(){N(this,i)}return I(i,null,[{key:"create",value:function(){return Array.from({length:4}).map(function(n,e){var a=document.createElement("div");return a.classList.add("input-button-container"),(e===0||e===3)&&a.classList.add("outer-button-container"),(e===1||e===2)&&a.classList.add("inner-button-container"),a})}},{key:"add",value:function(n,e){n.insertBefore(e[1],n.firstChild),n.insertBefore(e[0],n.firstChild),n.appendChild(e[2]),n.appendChild(e[3])}},{key:"getContainerIndex",value:function(n){return n==="outside-left"?0:n==="inside-left"?1:n==="inside-right"?2:3}},{key:"addButton",value:function(n,e,a){e.classList.add(a);var s=i.getContainerIndex(a);n[s].appendChild(e),s===3&&e.classList.add("outside-right")}}])})(),Sv=["camera","gifs","images","audio","mixedFiles","submit","microphone"],S2=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" fill="none">
  <rect x="2.5" y="2.5" width="17" height="17" rx="2" stroke="#000000" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,to=(function(){function i(){N(this,i)}return I(i,null,[{key:"addItemEvents",value:function(n,e,a,s){Sd.add(e,s),e.addEventListener("click",function(){a.click()}),e.addEventListener("mouseenter",function(u){n.highlightedItem=u.target}),e.addEventListener("mouseleave",function(){n.highlightedItem=void 0})}},{key:"createItemText",value:function(n,e){var a=document.createElement("div");return Object.assign(a.style,e),a.classList.add(i.TEXT_CLASS),a.textContent=n||"File",a}},{key:"createItemIcon",value:function(n,e){var a=document.createElement("div");return Object.assign(a.style,e),a.classList.add(i.ICON_CLASS),a.appendChild(n),a}},{key:"populateItem",value:function(n,e,a){var s=n.elementRef,u=n.dropupText,c=n.svg,f=n.customStyles,p=s.children[0],m=f&&Object.values(f).find(function(g){var b;return((b=g.svg)==null?void 0:b.content)===""});p.classList.contains(pa.INPUT_BUTTON_INNER_TEXT_CLASS)?(m||e.appendChild(i.createItemIcon(c,a?.iconContainer)),e.appendChild(i.createItemText(p.textContent,a?.text))):(m||e.appendChild(i.createItemIcon(s.children[0],a?.iconContainer)),e.appendChild(i.createItemText(u,a?.text)))}},{key:"createItem",value:function(n,e,a){var s,u=document.createElement("div");Object.assign(u.style,(s=a?.item)==null?void 0:s.default),i.populateItem(e,u,a),u.classList.add(i.MENU_ITEM_CLASS);var c=e.elementRef;if(e.isCustom)e.setDropupItem(u);else{var f=ct.processStateful(a?.item||{});i.addItemEvents(n,u,c,f)}return u}}])})();to.MENU_ITEM_CLASS="dropup-menu-item",to.TEXT_CLASS="dropup-menu-item-text",to.ICON_CLASS="dropup-menu-item-icon";var da=to,Dr=(function(i){function o(n,e,a,s){var u;N(this,o);var c,f,p,m,g,b,y=((m=(p=(f=(c=n?.styles)==null?void 0:c.button)==null?void 0:f.default)==null?void 0:p.text)==null?void 0:m.content)||"Custom ".concat(e),k=S2,E=Nn.tryCreateConfig("Custom ".concat(e),n?.tooltip);return u=pe(this,o,[o.createButtonElement(),k,n?.position,E,((g=n?.styles)==null?void 0:g.button)||E&&{},y]),u._state="default",u.isCustom=!0,u._innerElements=u.createInnerElementsForStates(u.customStyles),u._menuStyles=s,u._onClick=n.onClick,u._dropupStyles=(b=n.styles)==null?void 0:b.dropup,u.setSetState(n),u.addClickListener(a),u.changeState(n.initialState,!0),u}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(e){var a="custom-icon",s=this.createInnerElements(a,"default",e);return{default:s,active:this.genStateInnerElements(a,"active",s,e),disabled:this.genStateInnerElements(a,"disabled",s,e)}}},{key:"setSetState",value:function(e){var a=this;e.setState=function(s){s==="default"&&a.changeToDefault(),s==="active"&&a.changeToActive(),s==="disabled"&&a.changeToDisabled()}}},{key:"addClickListener",value:function(e){var a=this;this.elementRef.addEventListener("click",function(){var s,u=(s=a._onClick)==null?void 0:s.call(a,a._state);e?.(),(u==="default"||u==="active"||u==="disabled")&&a.changeState(u)})}},{key:"changeState",value:function(e,a){e==="disabled"?this.changeToDisabled(a):e==="active"?this.changeToActive(a):this.changeToDefault(a)}},{key:"applyDropupContentStyles",value:function(e){var a=Array.from(this.elementRef.children);if(e!=null&&e.text){var s=a.find(function(c){return c.classList.contains(da.TEXT_CLASS)});s&&Object.assign(s.style,e.text)}if(e!=null&&e.iconContainer){var u=a.find(function(c){return c.classList.contains(da.ICON_CLASS)});u&&Object.assign(u.style,e.iconContainer)}}},{key:"resetDropupItem",value:function(e){var a,s,u;this.elementRef=On.replaceElementWithNewClone(this.elementRef,this._originalElementRef),this.elementRef.innerHTML="",((a=e?.svg)==null?void 0:a.content)===""||this.elementRef.appendChild(da.createItemIcon(this.svg,(s=this._menuStyles)==null?void 0:s.iconContainer)),this.elementRef.appendChild(da.createItemText(this.dropupText,(u=this._menuStyles)==null?void 0:u.text))}},{key:"assignDropupItemStyle",value:function(e,a){var s;this.elementRef.parentElement&&this._originalElementRef&&this.resetDropupItem(a),this.applyDropupContentStyles(e),Object.assign(this.elementRef.style,(s=e?.item)==null?void 0:s.default);var u=ct.processStateful(e?.item||{});Sd.add(this.elementRef,u),this.addClickListener()}},{key:"changeToDefault",value:function(e){var a,s,u,c,f,p;!e&&this._state==="default"||(this.elementRef.classList.contains(da.MENU_ITEM_CLASS)?this.assignDropupItemStyle((a=this._dropupStyles)==null?void 0:a.default,(s=this.customStyles)==null?void 0:s.default):(this.changeElementsByState(this._innerElements.default),(u=this.customStyles)!=null&&u.active&&wt.unsetAllCSS(this.elementRef,(c=this.customStyles)==null?void 0:c.active),(f=this.customStyles)!=null&&f.disabled&&wt.unsetAllCSS(this.elementRef,(p=this.customStyles)==null?void 0:p.disabled),this.reapplyStateStyle("default",["active","disabled"])),this.elementRef.classList.remove(o.DISABLED_CONTAINER_CLASS,o.ACTIVE_CONTAINER_CLASS),this.elementRef.classList.add(o.DEFAULT_CONTAINER_CLASS),ut.removeAriaDisabled(this.elementRef),this._state="default")}},{key:"changeToActive",value:function(e){var a,s;!e&&this._state==="active"||(this.elementRef.classList.contains(da.MENU_ITEM_CLASS)?this.assignDropupItemStyle((a=this._dropupStyles)==null?void 0:a.active,(s=this.customStyles)==null?void 0:s.active):(this.changeElementsByState(this._innerElements.active),this.reapplyStateStyle("active",["disabled","default"])),this.elementRef.classList.remove(o.DISABLED_CONTAINER_CLASS,o.DEFAULT_CONTAINER_CLASS),this.elementRef.classList.add(o.ACTIVE_CONTAINER_CLASS),ut.removeAriaDisabled(this.elementRef),this._state="active")}},{key:"changeToDisabled",value:function(e){var a,s,u,c,f,p;!e&&this._state==="disabled"||(this.elementRef.classList.contains(da.MENU_ITEM_CLASS)?this.assignDropupItemStyle((a=this._dropupStyles)==null?void 0:a.disabled,(s=this.customStyles)==null?void 0:s.disabled):(this.changeElementsByState(this._innerElements.disabled),(u=this.customStyles)!=null&&u.active&&wt.unsetAllCSS(this.elementRef,(c=this.customStyles)==null?void 0:c.active),(f=this.customStyles)!=null&&f.default&&wt.unsetAllCSS(this.elementRef,(p=this.customStyles)==null?void 0:p.default),this.reapplyStateStyle("disabled",["default","active"])),this.elementRef.classList.remove(o.ACTIVE_CONTAINER_CLASS,o.DEFAULT_CONTAINER_CLASS),this.elementRef.classList.add(o.DISABLED_CONTAINER_CLASS),ut.addAriaDisabled(this.elementRef),this._state="disabled")}},{key:"setDropupItem",value:function(e){this.elementRef=e,this._originalElementRef=e.cloneNode(!0),this.changeState(this._state,!0)}},{key:"genStateInnerElements",value:function(e,a,s,u){var c,f,p,m,g=this.createInnerElements(e,a,u),b=(f=(c=u?.[a])==null?void 0:c.svg)==null?void 0:f.content,y=(m=(p=u?.[a])==null?void 0:p.text)==null?void 0:m.content;if(b===void 0||y===void 0){var k=hs.parseSVGTextElements(s),E=k.svg,w=k.text,M=hs.parseSVGTextElements(g),O=M.svg,X=M.text,ne=[];o.addToInnerElements(ne,b,E,O),o.addToInnerElements(ne,y,w,X),g=ne}return g}}],[{key:"createButtonElement",value:function(){var e=document.createElement("div");return e.classList.add("input-button",o.BUTTON_CLASS),e}},{key:"addToInnerElements",value:function(e,a,s,u){a===void 0&&s?e.push(s.cloneNode(!0)):u&&e.push(u)}},{key:"add",value:function(e,a){var s=e.customButtons,u=e.focusInput,c=e.dropupStyles;s?.forEach(function(f,p){var m={button:new o(f,p+1,u,c?.menu)};a["".concat(o.INDICATOR_PREFIX).concat(p+1)]=m})}}])})(Ka);Dr.INDICATOR_PREFIX="custom",Dr.BUTTON_CLASS="custom-button",Dr.DISABLED_CONTAINER_CLASS="custom-button-container-disabled",Dr.DEFAULT_CONTAINER_CLASS="custom-button-container-default",Dr.ACTIVE_CONTAINER_CLASS="custom-button-container-active";var ps=Dr,_2=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z"></path>
</svg>`,_v=(function(){function i(){N(this,i)}return I(i,null,[{key:"focusItemWhenOnEdge",value:function(n,e){var a=e?n.children[0]:n.children[n.children.length-1];i.focusSiblingItem(a,n,e,!0)}},{key:"focusSiblingItem",value:function(n,e,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=s?n:n[a?"nextSibling":"previousSibling"];u?(n.dispatchEvent(new MouseEvent("mouseleave")),u.dispatchEvent(new MouseEvent("mouseenter"))):(n.dispatchEvent(new MouseEvent("mouseleave")),i.focusItemWhenOnEdge(e,a))}}])})(),E2=(function(){function i(o,n){var e=this;N(this,i);var a;this._isOpen=!0,this._styles=n,this.elementRef=i.createElement((a=this._styles)==null?void 0:a.container),this.close(),setTimeout(function(){return e.addWindowEvents(o)})}return I(i,[{key:"open",value:function(){this.elementRef.style.display="block",this._isOpen=!0}},{key:"close",value:function(){this._isOpen&&(this.elementRef.style.display="none",this._isOpen=!1)}},{key:"toggle",value:function(){this._isOpen?this.close():this.open()}},{key:"addItem",value:function(n){var e=da.createItem(this,n,this._styles);this.elementRef.appendChild(e)}},{key:"addWindowEvents",value:function(n){this.clickEvent=this.windowClick.bind(this,n),window.addEventListener("click",this.clickEvent),this.keyDownEvent=this.windowKeyDown.bind(this,n),window.addEventListener("keydown",this.keyDownEvent)}},{key:"windowClick",value:function(n,e){var a;!n.isConnected&&this.clickEvent?window.removeEventListener("click",this.clickEvent):n.parentElement!==((a=e.target.shadowRoot)==null?void 0:a.children[0])&&this.close()}},{key:"windowKeyDown",value:function(n,e){var a,s,u;!n.isConnected&&this.keyDownEvent?window.removeEventListener("keydown",this.keyDownEvent):this._isOpen&&(e.key===mt.ESCAPE?(this.close(),(a=this.highlightedItem)==null||a.dispatchEvent(new MouseEvent("mouseleave"))):e.key===mt.ENTER?((s=this.highlightedItem)==null||s.click(),(u=this.highlightedItem)==null||u.dispatchEvent(new MouseEvent("mouseleave"))):e.key===mt.ARROW_DOWN?_v.focusSiblingItem(this.highlightedItem||this.elementRef.children[this.elementRef.children.length-1],this.elementRef,!0):e.key===mt.ARROW_UP&&_v.focusSiblingItem(this.highlightedItem||this.elementRef.children[0],this.elementRef,!1))}}],[{key:"createElement",value:function(n){var e=document.createElement("div");return e.id="dropup-menu",Object.assign(e.style,n),e}}])})(),iy=(function(i){function o(n,e){var a;N(this,o);var s,u,c=Nn.tryCreateConfig("Options",(s=e?.button)==null?void 0:s.tooltip);a=pe(this,o,[o.createButtonElement(),_2,void 0,c,{styles:(u=e?.button)==null?void 0:u.styles}]);var f=a.createInnerElementsForStates(a.customStyles);return a._menu=new E2(n,e?.menu),a.addClickEvent(),a.buttonContainer=o.createButtonContainer(),a.changeElementsByState(f.styles),a.buttonContainer.appendChild(a.elementRef),a.elementRef.classList.add(o.BUTTON_ICON_CLASS),a.buttonContainer.appendChild(a._menu.elementRef),a.reapplyStateStyle("styles"),a.addContainerEvents(n),a}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(e){return{styles:this.createInnerElements("dropup-icon","styles",e)}}},{key:"addClickEvent",value:function(){this.elementRef.onclick=this._menu.toggle.bind(this._menu)}},{key:"addItem",value:function(e){this._menu.addItem(e)}},{key:"addContainerEvents",value:function(e){var a=this;e.addEventListener("click",function(s){var u=s.target.classList;!u.contains(o.BUTTON_ICON_CLASS)&&!u.contains(ps.DISABLED_CONTAINER_CLASS)&&a._menu.close()})}}],[{key:"createButtonElement",value:function(){var e=document.createElement("div");return e.classList.add("input-button"),e}},{key:"createButtonContainer",value:function(){var e=document.createElement("div");return e.id="dropup-container",e}},{key:"getPosition",value:function(e,a){var s,u;return(s=a?.button)!=null&&s.position?(u=a?.button)==null?void 0:u.position:e["outside-left"].length>0&&e["outside-right"].length===0?"outside-right":"outside-left"}}])})(Ka);iy.BUTTON_ICON_CLASS="dropup-button";var Ev=iy,k2=(function(){function i(){N(this,i)}return I(i,null,[{key:"addToDropup",value:function(n,e,a,s){var u=new Ev(a,s);Sv.forEach(function(f){var p=e["dropup-menu"].findIndex(function(g){return g.buttonType===f}),m=e["dropup-menu"][p];m&&(u.addItem(m.button),e["dropup-menu"].splice(p,1))}),e["dropup-menu"].forEach(function(f){var p=f.button;return u.addItem(p)});var c=Ev.getPosition(e,s);so.addButton(n,u.buttonContainer,c),e[c].push({})}},{key:"addToSideContainer",value:function(n,e){["inside-left","inside-right","outside-left","outside-right"].forEach(function(a){var s=a;e[s].forEach(function(u){so.addButton(n,u.button.elementRef,s)})})}},{key:"setPosition",value:function(n,e,a){var s=Oe(Oe({},n[e]),{},{buttonType:e});a.push(s),delete n[e]}},{key:"createPositionsToButtonsObj",value:function(){return{"dropup-menu":[],"outside-left":[],"inside-left":[],"inside-right":[],"outside-right":[]}}},{key:"generatePositionToButtons",value:function(n){var e=i.createPositionsToButtonsObj();Object.keys(n).forEach(function(s){var u,c=(u=n[s])==null?void 0:u.button.position;c&&i.setPosition(n,s,e[c])}),e["inside-right"].length===0&&n.submit&&i.setPosition(n,"submit",e["inside-right"]),e["outside-right"].length===0&&(n.submit?i.setPosition(n,"submit",e["outside-right"]):n.microphone?i.setPosition(n,"microphone",e["outside-right"]):n.camera?i.setPosition(n,"camera",e["outside-right"]):n["".concat(ps.INDICATOR_PREFIX,"1")]&&i.setPosition(n,"".concat(ps.INDICATOR_PREFIX,"1"),e["outside-right"])),n.submit&&i.setPosition(n,"submit",e["outside-left"].length===0?e["outside-left"]:e["inside-right"]),n.microphone&&i.setPosition(n,"microphone",e["outside-left"].length===0?e["outside-left"]:e["inside-right"]);var a=Object.keys(n);return a.length>1||e["dropup-menu"].length>0?(Sv.forEach(function(s){n[s]&&e["dropup-menu"].push(Oe(Oe({},n[s]),{},{buttonType:s}))}),a.forEach(function(s){var u=s;u.startsWith(ps.INDICATOR_PREFIX)&&n[u]&&e["dropup-menu"].push(Oe(Oe({},n[u]),{},{customType:u}))})):a.length===1&&i.setPosition(n,a[0],e["outside-right"].length===0?e["outside-right"]:e["outside-left"]),e}},{key:"addButtons",value:function(n,e,a,s){var u=i.generatePositionToButtons(e);return i.addToSideContainer(n,u),u["dropup-menu"].length>0&&i.addToDropup(n,u,a,s),u}}])})(),T2=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M20 10.9696L11.9628 18.5497C10.9782 19.4783 9.64274 20 8.25028 20C6.85782 20 5.52239 19.4783 4.53777 18.5497C3.55315 17.6211 3 16.3616 3 15.0483C3 13.7351 3.55315 12.4756 4.53777 11.547L12.575 3.96687C13.2314 3.34779 14.1217 3 15.05 3C15.9783 3 16.8686 3.34779 17.525 3.96687C18.1814 4.58595 18.5502 5.4256 18.5502 6.30111C18.5502 7.17662 18.1814 8.01628 17.525 8.63535L9.47904 16.2154C9.15083 16.525 8.70569 16.6989 8.24154 16.6989C7.77738 16.6989 7.33224 16.525 7.00403 16.2154C6.67583 15.9059 6.49144 15.4861 6.49144 15.0483C6.49144 14.6106 6.67583 14.1907 7.00403 13.8812L14.429 6.88674" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,w2=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20,15.2928932 L20,5.5 C20,4.67157288 19.3284271,4 18.5,4 L5.5,4 C4.67157288,4 4,4.67157288 4,5.5 L4,12.2928932 L7.14644661,9.14644661 C7.34170876,8.95118446 7.65829124,8.95118446 7.85355339,9.14644661 L13.5,14.7928932 L16.1464466,12.1464466 C16.3417088,11.9511845 16.6582912,11.9511845 16.8535534,12.1464466 L20,15.2928932 Z M20,16.7071068 L16.5,13.2071068 L13.8535534,15.8535534 C13.6582912,16.0488155 13.3417088,16.0488155 13.1464466,15.8535534 L7.5,10.2071068 L4,13.7071068 L4,18.5 C4,19.3284271 4.67157288,20 5.5,20 L18.5,20 C19.3284271,20 20,19.3284271 20,18.5 L20,16.7071068 Z M3,5.5 C3,4.11928813 4.11928813,3 5.5,3 L18.5,3 C19.8807119,3 21,4.11928813 21,5.5 L21,18.5 C21,19.8807119 19.8807119,21 18.5,21 L5.5,21 C4.11928813,21 3,19.8807119 3,18.5 L3,5.5 Z M15,6 L17,6 C17.5522847,6 18,6.44771525 18,7 L18,9 C18,9.55228475 17.5522847,10 17,10 L15,10 C14.4477153,10 14,9.55228475 14,9 L14,7 C14,6.44771525 14.4477153,6 15,6 Z M15,7 L15,9 L17,9 L17,7 L15,7 Z"/>
</svg>
`,A2=`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-49.49 -49.49 593.87 593.87" stroke-width="3.95908" transform="rotate(0)">
  <g stroke-width="0"></g>
  <g stroke-linecap="round" stroke-linejoin="round" stroke-width="0.98977"></g>
  <g>
    <g>
      <g>
        <path d="M163.205,76.413v293.301c-3.434-3.058-7.241-5.867-11.486-8.339c-21.38-12.452-49.663-15.298-77.567-7.846 c-49.038,13.096-80.904,54.519-71.038,92.337c4.019,15.404,14.188,28.221,29.404,37.087c13.553,7.894,29.87,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.447-4.087c42.74-11.406,72.411-44.344,72.807-77.654h0.011v-0.162c0.002-0.166,0-0.331,0-0.496V187.072 l290.971-67.3v178.082c-3.433-3.055-7.238-5.863-11.481-8.334c-21.385-12.452-49.654-15.308-77.567-7.846 c-49.038,13.087-80.904,54.519-71.038,92.356c4.019,15.385,14.183,28.212,29.404,37.067c13.548,7.894,29.875,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.452-4.087c42.74-11.413,72.411-44.346,72.804-77.654h0.004v-0.065c0.003-0.236,0.001-0.469,0-0.704V0 L163.205,76.413z M104.999,471.779c-22.543,6.038-45.942,3.846-62.572-5.846c-10.587-6.163-17.591-14.817-20.255-25.038 c-7.144-27.375,18.452-58.029,57.062-68.346c8.409-2.25,16.938-3.346,25.188-3.346c13.87,0,26.962,3.115,37.389,9.192 c10.587,6.163,17.591,14.817,20.255,25.029c0.809,3.102,1.142,6.248,1.139,9.4v0.321h0.014 C162.99,437.714,139.082,462.678,104.999,471.779z M182.898,166.853V92.067l290.971-67.298v74.784L182.898,166.853z M415.677,399.923c-22.558,6.038-45.942,3.837-62.587-5.846c-10.587-6.163-17.587-14.817-20.25-25.019 c-7.144-27.385,18.452-58.058,57.058-68.365c8.414-2.25,16.942-3.346,25.192-3.346c13.875,0,26.962,3.115,37.385,9.192 c10.596,6.163,17.596,14.817,20.26,25.029v0.01c0.796,3.05,1.124,6.144,1.135,9.244v0.468h0.02 C473.668,365.851,449.763,390.814,415.677,399.923z">
        </path>
      </g>
    </g>
  </g>
</svg>`,C2=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 5.9266752 5.6408391" height="21.31971" width="22.4">
  <g>
    <path d="m 5.2564627,1.548212 c -3.1136005,-0.4796804 -1.5568006,-0.2398402 0,0 z M 2.0001198,2.0922063 c 0.1556781,0 0.2657489,0.020893 0.3917849,0.080366 0.081154,0.038347 0.1153492,0.134065 0.076377,0.2138602 -0.038973,0.07979 -0.1363527,0.1134129 -0.2175069,0.075091 -0.078199,-0.036919 -0.1407455,-0.048792 -0.250655,-0.048792 -0.2260486,0 -0.3921482,0.2042182 -0.3921482,0.4801409 0,0.2761822 0.1663188,0.4810688 0.3921482,0.4810688 0.1117901,0 0.2064255,-0.046133 0.255659,-0.1284198 l 0.00162,-0.00389 V 3.0534032 l -0.098011,1.75e-4 c -0.081844,0 -0.1495979,-0.059305 -0.1612403,-0.1365887 l -0.00175,-0.023683 c 0,-0.08047 0.060311,-0.1470874 0.1389194,-0.1585331 l 0.024085,-0.00195 h 0.2612303 c 0.081842,0 0.149598,0.059305 0.1612404,0.1365891 l 0.00175,0.023683 -3.398e-4,0.3968809 v 0 l -0.00168,0.014211 v 0 l -0.00553,0.023034 v 0 l -0.00532,0.014145 c -0.098178,0.22826 -0.3236506,0.3528713 -0.5706303,0.3528713 -0.4240855,0 -0.7181621,-0.3622714 -0.7181621,-0.8016063 0,-0.4391857 0.2940275,-0.8006848 0.7181621,-0.8006848 z m 1.2034759,0.031275 c 0.081843,0 0.1495977,0.059305 0.1612403,0.1365891 l 0.00175,0.023683 v 1.2211775 c 0,0.088516 -0.07298,0.1602721 -0.1630073,0.1602721 -0.081841,0 -0.1495972,-0.059305 -0.1612397,-0.1365892 L 3.040589,3.5049308 V 2.2837527 c 0,-0.088516 0.07298,-0.1602721 0.1630067,-0.1602714 z m 0.7813442,0 0.5209469,0.00195 c 0.090025,3.048e-4 0.1627543,0.072306 0.1624458,0.1608234 -2.809e-4,0.08047 -0.06083,0.1468798 -0.1394772,0.158066 l -0.024092,0.00195 -0.3575326,-0.0013 v 0.4497782 l 0.2928918,2.27e-4 c 0.081842,0 0.1495979,0.059305 0.1612403,0.136589 l 0.00175,0.023683 c 0,0.080469 -0.06031,0.1470871 -0.1389193,0.1585393 l -0.024092,0.00195 -0.2928919,-2.336e-4 1.563e-4,0.2860316 c 0,0.080471 -0.06031,0.1470873 -0.1389193,0.1585395 l -0.024085,0.00195 c -0.081843,0 -0.1495979,-0.059305 -0.1612403,-0.1365826 l -0.00175,-0.023691 V 2.2841354 c 2.798e-4,-0.08047 0.060829,-0.1468797 0.1394758,-0.1580594 z"/>
    <path d="m 5.0894191,1.0943261 c 0,-0.21918999 -0.177687,-0.39686999 -0.396876,-0.39686999 h -3.43959 c -0.2191879,0 -0.391262,0.1777519 -0.3968759,0.39686999 l -0.027082,3.4379266 c 0.040152,0.2939927 0.4235456,0.409415 0.4235456,0.409415 l 3.4785583,-0.00851 c 0,0 0.3008506,-0.1402998 0.3236271,-0.4201576 0.042911,-0.5272495 0.034693,-1.6106146 0.034693,-3.4186761 z m -4.49792494,0 c 0,-0.36530999 0.29614504,-0.66145999 0.66145894,-0.66145999 h 3.43959 c 0.365314,0 0.66146,0.29615 0.66146,0.66145999 v 3.43959 c 0,0.36532 -0.296146,0.66146 -0.66146,0.66146 h -3.43959 c -0.3653139,0 -0.66145894,-0.29614 -0.66145894,-0.66146 z"/>
  </g>
</svg>
`,x2={images:{id:"upload-images-icon",svgString:w2,dropupText:"Image"},gifs:{id:"upload-gifs-icon",svgString:C2,dropupText:"GIF"},audio:{id:"upload-audio-icon",svgString:A2,dropupText:"Audio"},mixedFiles:{id:"upload-mixed-files-icon",svgString:T2,dropupText:"File"}},sy=(function(i){function o(n){var e;N(this,o),n?.position==="dropup-menu"&&(n.position="outside-right");var a=Nn.tryCreateConfig("Microphone",n?.tooltip);return e=pe(this,o,[o.createMicrophoneElement(),Qg,n?.position,a,n]),e.isActive=!1,e._innerElements=e.createInnerElementsForStates(e.customStyles),e.changeToDefault(),e}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(e){var a="microphone-icon";return{default:this.createInnerElements(a,"default",e),active:this.createInnerElements(a,"active",e),unsupported:this.createInnerElements(a,"unsupported",e),commandMode:this.createInnerElements(a,"commandMode",e)}}},{key:"changeToActive",value:function(){this.changeElementsByState(this._innerElements.active),this.toggleIconFilter("active"),this.reapplyStateStyle("active",["default","commandMode"]),this.isActive=!0}},{key:"changeToDefault",value:function(){this.changeElementsByState(this._innerElements.default),this.toggleIconFilter("default"),this.reapplyStateStyle("default",["active","commandMode"]),this.isActive=!1}},{key:"changeToCommandMode",value:function(){this.changeElementsByState(this._innerElements.commandMode),this.toggleIconFilter("command"),this.reapplyStateStyle("commandMode",["active"])}},{key:"changeToUnsupported",value:function(){this.changeElementsByState(this._innerElements.unsupported),this.elementRef.classList.add("unsupported-microphone"),this.reapplyStateStyle("unsupported",["active"])}},{key:"toggleIconFilter",value:function(e){var a=this.elementRef.children[0];if(a.tagName.toLocaleLowerCase()==="svg")switch(e){case"default":a.classList.remove("active-microphone-icon","command-microphone-icon"),a.classList.add("default-microphone-icon");break;case"active":a.classList.remove("default-microphone-icon","command-microphone-icon"),a.classList.add("active-microphone-icon");break;case"command":a.classList.remove("active-microphone-icon","default-microphone-icon"),a.classList.add("command-microphone-icon");break}}}],[{key:"createMicrophoneElement",value:function(){var e=document.createElement("div");return e.id="microphone-button",e.classList.add("input-button"),e}}])})(Ka);function M2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fl={},Pi={},Hi={},qi={},Fi={},kv;function fo(){if(kv)return Fi;kv=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Text=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"capitalize",value:function(e){return e.replace(o.FIRST_CHAR_REGEX,function(a){return a.toUpperCase()})}},{key:"lineBreak",value:function(e){return e.replace(o.DOUBLE_LINE,"<p></p>").replace(o.ONE_LINE,"<br>")}},{key:"isCharDefined",value:function(e){return e!==void 0&&e!==" "&&e!==" "&&e!==`
`&&e!==""}},{key:"breakupIntoWordsArr",value:function(e){return e.split(/(\W+)/)}}])})();return Fi.Text=i,i.FIRST_CHAR_REGEX=/\S/,i.DOUBLE_LINE=/\n\n/g,i.ONE_LINE=/\n/g,Fi}var Tv;function ly(){if(Tv)return qi;Tv=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Translate=void 0;var i=fo(),o=(function(){function n(){N(this,n)}return I(n,null,[{key:"translate",value:function(a,s){for(var u=i.Text.breakupIntoWordsArr(a),c=0;c<u.length;c+=1)s[u[c]]&&(u[c]=s[u[c]]);return u.join("")}}])})();return qi.Translate=o,qi}var wv;function R2(){if(wv)return Hi;wv=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.WebSpeechTranscript=void 0;var i=ly(),o=(function(){function n(){N(this,n)}return I(n,null,[{key:"extract",value:function(a,s,u){for(var c="",f=a.resultIndex;f<a.results.length;++f){var p=a.results[f][0].transcript;u&&(p=i.Translate.translate(p,u)),a.results[f].isFinal?s+=p:c+=p}return{interimTranscript:c,finalTranscript:s,newText:c||s}}},{key:"extractSafari",value:function(a,s,u){for(var c="",f="",p=a.resultIndex;p<a.results.length;++p){var m=a.results[p][0].transcript;u&&(m=i.Translate.translate(m,u)),c+=m}return{interimTranscript:f,finalTranscript:c,newText:f||c}}}])})();return Hi.WebSpeechTranscript=o,Hi}var Gi={},Av;function Md(){if(Av)return Gi;Av=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Browser=void 0;var i=I(function o(){N(this,o)});return Gi.Browser=i,i.IS_SAFARI=function(){return i._IS_SAFARI===void 0&&(i._IS_SAFARI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),i._IS_SAFARI},Gi}var Vi={},Ki={},Cv;function O2(){if(Cv)return Ki;Cv=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.EventListeners=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"getElementIfFocusedOnAvailable",value:function(e,a){return Array.isArray(e)?e.find(function(s){return a===s}):a===e?e:void 0}},{key:"keyDownWindow",value:function(e){var a=this;e.element&&o.getElementIfFocusedOnAvailable(e.element,document.activeElement)&&(o.KEY_DOWN_TIMEOUT!==null&&clearTimeout(o.KEY_DOWN_TIMEOUT),o.KEY_DOWN_TIMEOUT=setTimeout(function(){o.KEY_DOWN_TIMEOUT=null,a.resetRecording(e)},500))}},{key:"mouseDownWindow",value:function(e,a){this.mouseDownElement=o.getElementIfFocusedOnAvailable(e,a.target)}},{key:"mouseUpWindow",value:function(e){this.mouseDownElement&&this.resetRecording(e),this.mouseDownElement=void 0}},{key:"add",value:function(e,a){var s=a?.insertInCursorLocation===void 0||a?.insertInCursorLocation;a!=null&&a.element&&s&&(e.mouseDownEvent=o.mouseDownWindow.bind(e,a.element),document.addEventListener("mousedown",e.mouseDownEvent),e.mouseUpEvent=o.mouseUpWindow.bind(e,a),document.addEventListener("mouseup",e.mouseUpEvent),e.keyDownEvent=o.keyDownWindow.bind(e,a),document.addEventListener("keydown",e.keyDownEvent))}},{key:"remove",value:function(e){document.removeEventListener("mousedown",e.mouseDownEvent),document.removeEventListener("mouseup",e.mouseUpEvent),document.removeEventListener("keydown",e.keyDownEvent)}}])})();return Ki.EventListeners=i,i.KEY_DOWN_TIMEOUT=null,Ki}var Yi={},xv;function L2(){if(xv)return Yi;xv=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.PreResultUtils=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"process",value:function(e,a,s,u,c){var f=u?.(a,s);return f?(setTimeout(function(){f.restart?e.resetRecording(c):f.stop&&e.stop()}),(f.stop||f.restart)&&f.removeNewText):!1}}])})();return Yi.PreResultUtils=i,Yi}var Xi={},Zi={},Mv;function oy(){if(Mv)return Zi;Mv=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.AutoScroll=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"changeStateIfNeeded",value:function(e,a){a&&!e.isCursorAtEnd&&(e.endPadding="",e.scrollingSpan.innerHTML="&nbsp;")}},{key:"scrollGeneric",value:function(e,a){e.isCursorAtEnd?a.scrollTop=a.scrollHeight:e.scrollingSpan.scrollIntoView({block:"nearest"})}},{key:"scrollSafariPrimitiveToEnd",value:function(e){e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight}},{key:"isElementOverflown",value:function(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}},{key:"isRequired",value:function(e,a){return e&&o.isElementOverflown(a)}}])})();return Zi.AutoScroll=i,Zi}var Ji={},Rv;function ho(){if(Rv)return Ji;Rv=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.Elements=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"isPrimitiveElement",value:function(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"}},{key:"createInterimSpan",value:function(){var e=document.createElement("span");return e.style.color="grey",e.style.pointerEvents="none",e}},{key:"createGenericSpan",value:function(){var e=document.createElement("span");return e.style.pointerEvents="none",e}},{key:"appendSpans",value:function(e,a){if(e.spansPopulated=!0,e.insertInCursorLocation&&document.activeElement===a){var s=window.getSelection();if(s!=null&&s.focusNode){var u=s.getRangeAt(0);u.insertNode(e.scrollingSpan),u.insertNode(e.interimSpan),u.insertNode(e.finalSpan),u.collapse(!1),s.removeAllRanges(),s.addRange(u);return}}a.appendChild(e.finalSpan),a.appendChild(e.interimSpan),a.appendChild(e.scrollingSpan)}},{key:"applyCustomColors",value:function(e,a){a.interim&&(e.interimSpan.style.color=a.interim),a.final&&(e.finalSpan.style.color=a.final)}},{key:"isInsideShadowDOM",value:function(e){return e.getRootNode()instanceof ShadowRoot}}])})();return Ji.Elements=i,Ji}var Qi={},Ov;function po(){if(Ov)return Qi;Ov=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Cursor=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"setOffsetForGeneric",value:function(e,a){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=0,c=0;c<e.childNodes.length;c+=1){var f=e.childNodes[c];if(f.childNodes.length>0){var p=o.setOffsetForGeneric(f,a,s);if(p===-1)return-1;s+=p}else if(f.textContent!==null){if(s+f.textContent.length>a){var m=document.createRange();m.setStart(f,a-s),m.collapse(!0);var g=window.getSelection();return g?.removeAllRanges(),g?.addRange(m),e.focus(),-1}s+=f.textContent.length,u+=f.textContent.length}}return u}},{key:"focusEndOfGeneric",value:function(e){var a=document.createRange();a.selectNodeContents(e),a.collapse(!1);var s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(a))}},{key:"setOffsetForSafariGeneric",value:function(e,a){var s=window.getSelection();if(s){var u=o.getGenericElementCursorOffset(e,s,!0);o.setOffsetForGeneric(e,u+a)}}},{key:"setOffsetForPrimitive",value:function(e,a,s){s&&e.blur(),e.setSelectionRange(a,a),e.focus()}},{key:"getGenericElementCursorOffset",value:function(e,a,s){var u=0;if(a.rangeCount>0){var c=a.getRangeAt(0),f=c.cloneRange();f.selectNodeContents(e),s?f.setEnd(c.startContainer,c.startOffset):f.setEnd(c.endContainer,c.endOffset),u=f.toString().length}return u}}])})();return Qi.Cursor=i,Qi}var Lv;function uy(){if(Lv)return Xi;Lv=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.CommandUtils=void 0;var i=oy(),o=ho(),n=Md(),e=po(),a=fo(),s=(function(){function u(){N(this,u)}return I(u,null,[{key:"processCommand",value:function(f,p){return(!p||!p.caseSensitive)&&(f=f.toLowerCase()),p?.substrings===!1?a.Text.breakupIntoWordsArr(f):f}},{key:"process",value:function(f){var p;return((p=f.settings)===null||p===void 0?void 0:p.caseSensitive)===!0?f:Object.keys(f).reduce(function(m,g){var b=f[g];return m[g]=typeof b=="string"?u.processCommand(b,f.settings):b,m},{})}},{key:"toggleCommandModeOn",value:function(f){var p;f.isWaitingForCommand=!0,(p=f.onCommandModeTrigger)===null||p===void 0||p.call(f,!0)}},{key:"toggleCommandModeOff",value:function(f){var p;f.isWaitingForCommand&&((p=f.onCommandModeTrigger)===null||p===void 0||p.call(f,!1),f.isWaitingForCommand=!1)}},{key:"setText",value:function(f,p,m,g){u.toggleCommandModeOff(f),o.Elements.isPrimitiveElement(g)?(g.value=m,f.isTargetInShadow||e.Cursor.setOffsetForPrimitive(g,m.length,!0),n.Browser.IS_SAFARI()&&f.autoScroll&&i.AutoScroll.scrollSafariPrimitiveToEnd(g)):(g.textContent=m,f.isTargetInShadow||e.Cursor.focusEndOfGeneric(g),setTimeout(function(){return i.AutoScroll.scrollGeneric(f,g)})),f.resetRecording(p)}},{key:"checkIfMatchesSubstring",value:function(f,p){return p.includes(f)}},{key:"checkIfMatchesWord",value:function(f,p,m){for(var g=f,b=m.length-1;b>=0;b-=1){for(var y=b,k=g.length-1;m[y]===g[k]&&k>=0;)y-=1,k-=1;if(k<0)return!0}return!1}},{key:"execCommand",value:function(f,p,m,g,b){var y,k,E,w=f.commands;if(!(!w||!g||!m)){var M=((y=w.settings)===null||y===void 0?void 0:y.caseSensitive)===!0?p:p.toLowerCase(),O=a.Text.breakupIntoWordsArr(M),X=((k=w.settings)===null||k===void 0?void 0:k.substrings)===!1?u.checkIfMatchesWord:u.checkIfMatchesSubstring;if(w.commandMode&&X(w.commandMode,M,O))return f.setInterimColorToFinal(),setTimeout(function(){return u.toggleCommandModeOn(f)}),{doNotProcessTranscription:!1};if(!(w.commandMode&&!f.isWaitingForCommand)){if(w.stop&&X(w.stop,M,O))return u.toggleCommandModeOff(f),setTimeout(function(){return f.stop()}),{doNotProcessTranscription:!1};if(w.pause&&X(w.pause,M,O))return u.toggleCommandModeOff(f),f.setInterimColorToFinal(),setTimeout(function(){var ne;f.isPaused=!0,(ne=f.onPauseTrigger)===null||ne===void 0||ne.call(f,!0)}),{doNotProcessTranscription:!1};if(w.resume&&X(w.resume,M,O))return f.isPaused=!1,(E=f.onPauseTrigger)===null||E===void 0||E.call(f,!1),u.toggleCommandModeOff(f),f.resetRecording(m),{doNotProcessTranscription:!0};if(w.reset&&X(w.reset,M,O))return b!==void 0&&u.setText(f,m,b,g),{doNotProcessTranscription:!0};if(w.removeAllText&&X(w.removeAllText,M,O))return u.setText(f,m,"",g),{doNotProcessTranscription:!0}}}}}])})();return Xi.CommandUtils=s,Xi}var $i={},Nv;function N2(){if(Nv)return $i;Nv=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.Highlight=void 0;var i=ho(),o=po(),n=(function(){function e(){N(this,e)}return I(e,null,[{key:"setStateForPrimitive",value:function(s,u){var c,f;u.selectionStart!==null&&(c=u.selectionStart),u.selectionEnd!==null&&(f=u.selectionEnd),s.isHighlighted=c!==f}},{key:"setStateForGeneric",value:function(s,u){var c=window.getSelection();if(c!=null&&c.focusNode){var f=o.Cursor.getGenericElementCursorOffset(u,c,!0),p=o.Cursor.getGenericElementCursorOffset(u,c,!1);s.isHighlighted=f!==p}}},{key:"setState",value:function(s,u){document.activeElement===u&&(i.Elements.isPrimitiveElement(u)?e.setStateForPrimitive(s,u):e.setStateForGeneric(s,u))}},{key:"removeForGeneric",value:function(s,u){var c=window.getSelection();if(c){var f=o.Cursor.getGenericElementCursorOffset(u,c,!0);c.deleteFromDocument(),o.Cursor.setOffsetForGeneric(u,f),s.isHighlighted=!1}}},{key:"removeForPrimitive",value:function(s,u){var c=u.selectionStart,f=u.selectionEnd,p=u.value;if(c&&f){var m=p.substring(0,c)+p.substring(f);u.value=m,o.Cursor.setOffsetForPrimitive(u,c,s.autoScroll)}s.isHighlighted=!1}}])})();return $i.Highlight=n,$i}var Wi={},Iv;function I2(){if(Iv)return Wi;Iv=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Padding=void 0;var i=ho(),o=po(),n=fo(),e=(function(){function a(){N(this,a)}return I(a,null,[{key:"setStateForPrimitiveElement",value:function(u,c){if(document.activeElement===c&&c.selectionStart!==null){var f=c.selectionStart,p=c.value[f-1],m=c.selectionEnd===null?f:c.selectionEnd,g=c.value[m];n.Text.isCharDefined(p)&&(u.startPadding=" ",u.numberOfSpacesBeforeNewText=1),n.Text.isCharDefined(g)&&(u.endPadding=" ",u.numberOfSpacesAfterNewText=1),u.isCursorAtEnd=c.value.length===m;return}var b=c.value[c.value.length-1];n.Text.isCharDefined(b)&&(u.startPadding=" ",u.numberOfSpacesBeforeNewText=1),u.isCursorAtEnd=!0}},{key:"setStateForGenericElement",value:function(u,c){var f,p,m;if(document.activeElement===c){var g=window.getSelection();if(g!=null&&g.focusNode){var b=o.Cursor.getGenericElementCursorOffset(c,g,!0),y=(f=c.textContent)===null||f===void 0?void 0:f[b-1],k=o.Cursor.getGenericElementCursorOffset(c,g,!1),E=(p=c.textContent)===null||p===void 0?void 0:p[k];n.Text.isCharDefined(y)&&(u.startPadding=" "),n.Text.isCharDefined(E)&&(u.endPadding=" "),u.isCursorAtEnd=((m=c.textContent)===null||m===void 0?void 0:m.length)===k;return}}var w=c.innerText.charAt(c.innerText.length-1);n.Text.isCharDefined(w)&&(u.startPadding=" "),u.isCursorAtEnd=!0}},{key:"setState",value:function(u,c){i.Elements.isPrimitiveElement(c)?a.setStateForPrimitiveElement(u,c):a.setStateForGenericElement(u,c)}},{key:"adjustStateAfterRecodingPrimitiveElement",value:function(u,c){if(u.primitiveTextRecorded=!0,u.insertInCursorLocation&&document.activeElement===c&&(c.selectionEnd!==null&&(u.endPadding=u.endPadding+c.value.slice(c.selectionEnd)),c.selectionStart!==null)){u.startPadding=c.value.slice(0,c.selectionStart)+u.startPadding;return}u.startPadding=c.value+u.startPadding}},{key:"adjustSateForNoTextPrimitiveElement",value:function(u){u.numberOfSpacesBeforeNewText===1&&(u.startPadding=u.startPadding.substring(0,u.startPadding.length-1),u.numberOfSpacesBeforeNewText=0),u.numberOfSpacesAfterNewText===1&&(u.endPadding=u.endPadding.substring(1),u.numberOfSpacesAfterNewText=0)}}])})();return Wi.Padding=e,Wi}var Dv;function cy(){if(Dv)return Vi;Dv=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Speech=void 0;var i=O2(),o=L2(),n=uy(),e=oy(),a=N2(),s=ho(),u=I2(),c=Md(),f=po(),p=fo(),m=(function(){function g(){N(this,g),this.finalTranscript="",this.interimSpan=s.Elements.createInterimSpan(),this.finalSpan=s.Elements.createGenericSpan(),this.scrollingSpan=s.Elements.createGenericSpan(),this.isCursorAtEnd=!1,this.spansPopulated=!1,this.startPadding="",this.endPadding="",this.numberOfSpacesBeforeNewText=0,this.numberOfSpacesAfterNewText=0,this.isHighlighted=!1,this.primitiveTextRecorded=!1,this.recognizing=!1,this._displayInterimResults=!0,this.insertInCursorLocation=!0,this.autoScroll=!0,this.isRestarting=!1,this.isPaused=!1,this.isWaitingForCommand=!1,this.isTargetInShadow=!1,this.cannotBeStopped=!1,this.resetState()}return I(g,[{key:"prepareBeforeStart",value:function(y){var k,E;if(y!=null&&y.element)if(i.EventListeners.add(this,y),Array.isArray(y.element)){var w=y.element.find(function(M){return M===document.activeElement})||y.element[0];if(!w)return;this.prepare(w)}else this.prepare(y.element);y?.displayInterimResults!==void 0&&(this._displayInterimResults=y.displayInterimResults),y!=null&&y.textColor&&(this._finalTextColor=(k=y?.textColor)===null||k===void 0?void 0:k.final,s.Elements.applyCustomColors(this,y.textColor)),y?.insertInCursorLocation!==void 0&&(this.insertInCursorLocation=y.insertInCursorLocation),y?.autoScroll!==void 0&&(this.autoScroll=y.autoScroll),this._onResult=y?.onResult,this._onPreResult=y?.onPreResult,this._onStart=y?.onStart,this._onStop=y?.onStop,this._onError=y?.onError,this.onCommandModeTrigger=y?.onCommandModeTrigger,this.onPauseTrigger=y?.onPauseTrigger,this._options=y,!((E=this._options)===null||E===void 0)&&E.commands&&(this.commands=n.CommandUtils.process(this._options.commands))}},{key:"prepare",value:function(y){u.Padding.setState(this,y),a.Highlight.setState(this,y),this.isTargetInShadow=s.Elements.isInsideShadowDOM(y),s.Elements.isPrimitiveElement(y)?(this._primitiveElement=y,this._originalText=this._primitiveElement.value):(this._genericElement=y,this._originalText=this._genericElement.textContent)}},{key:"resetRecording",value:function(y){this.isRestarting=!0,this.stop(!0),this.resetState(!0),this.start(y,!0)}},{key:"updateElements",value:function(y,k,E){var w,M=p.Text.capitalize(k);if(!(this.finalTranscript===M&&y==="")){o.PreResultUtils.process(this,E,y==="",this._onPreResult,this._options)&&(y="",E="");var O=this.commands&&n.CommandUtils.execCommand(this,E,this._options,this._primitiveElement||this._genericElement,this._originalText);if(O){if(O.doNotProcessTranscription)return;y="",E=""}if(!(this.isPaused||this.isWaitingForCommand)){(w=this._onResult)===null||w===void 0||w.call(this,E,y===""),this.finalTranscript=M,this._displayInterimResults||(y="");var X=this.finalTranscript===""&&y==="";this._primitiveElement?this.updatePrimitiveElement(this._primitiveElement,y,X):this._genericElement&&this.updateGenericElement(this._genericElement,y,X)}}}},{key:"updatePrimitiveElement",value:function(y,k,E){this.isHighlighted&&a.Highlight.removeForPrimitive(this,y),this.primitiveTextRecorded||u.Padding.adjustStateAfterRecodingPrimitiveElement(this,y),E&&u.Padding.adjustSateForNoTextPrimitiveElement(this);var w=this.startPadding+this.finalTranscript+k;if(y.value=w+this.endPadding,!this.isTargetInShadow){var M=w.length+this.numberOfSpacesAfterNewText;f.Cursor.setOffsetForPrimitive(y,M,this.autoScroll)}this.autoScroll&&c.Browser.IS_SAFARI()&&this.isCursorAtEnd&&e.AutoScroll.scrollSafariPrimitiveToEnd(y)}},{key:"updateGenericElement",value:function(y,k,E){this.isHighlighted&&a.Highlight.removeForGeneric(this,y),this.spansPopulated||s.Elements.appendSpans(this,y);var w=(E?"":this.startPadding)+p.Text.lineBreak(this.finalTranscript);this.finalSpan.innerHTML=w;var M=e.AutoScroll.isRequired(this.autoScroll,y);e.AutoScroll.changeStateIfNeeded(this,M);var O=p.Text.lineBreak(k)+(E?"":this.endPadding);this.interimSpan.innerHTML=O,c.Browser.IS_SAFARI()&&this.insertInCursorLocation&&f.Cursor.setOffsetForSafariGeneric(y,w.length+O.length),M&&e.AutoScroll.scrollGeneric(this,y),E&&(this.scrollingSpan.innerHTML="")}},{key:"finalise",value:function(y){this._genericElement&&(y?(this.finalSpan=s.Elements.createGenericSpan(),this.setInterimColorToFinal(),this.interimSpan=s.Elements.createInterimSpan(),this.scrollingSpan=s.Elements.createGenericSpan()):this._genericElement.textContent=this._genericElement.textContent,this.spansPopulated=!1),i.EventListeners.remove(this)}},{key:"setInterimColorToFinal",value:function(){this.interimSpan.style.color=this._finalTextColor||"black"}},{key:"resetState",value:function(y){this._primitiveElement=void 0,this._genericElement=void 0,this.finalTranscript="",this.finalSpan.innerHTML="",this.interimSpan.innerHTML="",this.scrollingSpan.innerHTML="",this.startPadding="",this.endPadding="",this.isHighlighted=!1,this.primitiveTextRecorded=!1,this.numberOfSpacesBeforeNewText=0,this.numberOfSpacesAfterNewText=0,y||(this.stopTimeout=void 0)}},{key:"setStateOnStart",value:function(){var y;this.recognizing=!0,this.isRestarting?this.isRestarting=!1:(y=this._onStart)===null||y===void 0||y.call(this)}},{key:"setStateOnStop",value:function(){var y;this.recognizing=!1,this.isRestarting||(y=this._onStop)===null||y===void 0||y.call(this)}},{key:"setStateOnError",value:function(y){var k;(k=this._onError)===null||k===void 0||k.call(this,y),this.recognizing=!1}}])})();return Vi.Speech=m,Vi}var Bv;function D2(){if(Bv)return Pi;Bv=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.WebSpeech=void 0;var i=R2(),o=Md(),n=cy(),e=(function(a){function s(){return N(this,s),pe(this,s)}return me(s,a),I(s,[{key:"start",value:function(c){var f;this._extractText===void 0&&(this._extractText=o.Browser.IS_SAFARI()?i.WebSpeechTranscript.extractSafari:i.WebSpeechTranscript.extract),this.validate()&&(this.prepareBeforeStart(c),this.instantiateService(c),(f=this._service)===null||f===void 0||f.start(),this._translations=c?.translations)}},{key:"validate",value:function(){return s.getAPI()?!0:(this.error("Speech Recognition is unsupported"),!1)}},{key:"instantiateService",value:function(c){var f,p,m=s.getAPI();this._service=new m,this._service.continuous=!0,this._service.interimResults=(f=c?.displayInterimResults)!==null&&f!==void 0?f:!0,this._service.lang=((p=c?.language)===null||p===void 0?void 0:p.trim())||"en-US",this.setEvents()}},{key:"setEvents",value:function(){var c=this;this._service&&(this._service.onstart=function(){c.setStateOnStart()},this._service.onerror=function(f){o.Browser.IS_SAFARI()&&f.message==="Another request is started"||f.error==="aborted"&&c.isRestarting||f.error!=="no-speech"&&c.error(f.message||f.error)},this._service.onaudioend=function(){c.setStateOnStop()},this._service.onend=function(){c._stopping=!1},this._service.onresult=function(f){if(re(f.results)>"u"&&c._service)c._service.onend=null,c._service.stop();else if(c._extractText&&!c._stopping){var p=c._extractText(f,c.finalTranscript,c._translations),m=p.interimTranscript,g=p.finalTranscript,b=p.newText;c.updateElements(m,g,b)}})}},{key:"stop",value:function(c){var f;this._stopping=!0,(f=this._service)===null||f===void 0||f.stop(),this.finalise(c)}},{key:"error",value:function(c){console.error(c),this.setStateOnError(c),this.stop()}}],[{key:"getAPI",value:function(){return window.webkitSpeechRecognition||window.SpeechRecognition}}])})(n.Speech);return Pi.WebSpeech=e,Pi}var es={},Uv;function B2(){if(Uv)return es;Uv=1,Object.defineProperty(es,"__esModule",{value:!0}),es.GlobalState=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"doubleClickDetector",value:function(){return o.doubleClickPending?!0:(o.doubleClickPending=!0,setTimeout(function(){o.doubleClickPending=!1},300),!1)}}])})();return es.GlobalState=i,i.doubleClickPending=!1,es}var ts={},ns={},jv;function U2(){if(jv)return ns;jv=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.PreventConnectionStop=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"applyPrevention",value:function(e){clearTimeout(e._manualConnectionStopPrevention),e.cannotBeStopped=!0,e._manualConnectionStopPrevention=setTimeout(function(){e.cannotBeStopped=!1},800)}},{key:"clearPrevention",value:function(e){clearTimeout(e._manualConnectionStopPrevention),e.cannotBeStopped=!1}}])})();return ns.PreventConnectionStop=i,ns}var as={},Gl={},zv;function j2(){return zv||(zv=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.README_URL=void 0,Gl.README_URL="https://github.com/OvidijusParsiunas/speech-to-element"),Gl}var Pv;function z2(){if(Pv)return as;Pv=1,Object.defineProperty(as,"__esModule",{value:!0}),as.AzureSpeechConfig=void 0;var i=j2(),o=(function(){function n(){N(this,n)}return I(n,null,[{key:"validateOptions",value:function(a,s){return s?!s.subscriptionKey&&!s.token&&!s.retrieveToken?(a("Please define a 'subscriptionKey', 'token' or 'retrieveToken' property - more info: ".concat(i.README_URL)),!1):s.region?!0:(a("Please define a 'region' property - more info: ".concat(i.README_URL)),!1):(a("Please provide subscription details - more info: ".concat(i.README_URL)),!1)}},{key:"getNewSpeechConfig",value:(function(){var e=z(T().mark(function s(u,c){return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!c.region){p.next=2;break}return p.abrupt("return",c.subscriptionKey?u.fromSubscription(c.subscriptionKey.trim(),c.region.trim()):c.token?u.fromAuthorizationToken(c.token.trim(),c.region.trim()):c.retrieveToken?c.retrieveToken().then(function(m){return c.region?u.fromAuthorizationToken(m?.trim()||"",c.region.trim()):null}).catch(function(m){return console.error(m),null}):null);case 2:case"end":return p.stop()}},s)}));function a(s,u){return e.apply(this,arguments)}return a})()},{key:"process",value:function(a,s){s.endpointId&&(a.endpointId=s.endpointId.trim()),s.language&&(a.speechRecognitionLanguage=s.language.trim())}},{key:"get",value:(function(){var e=z(T().mark(function s(u,c){var f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,n.getNewSpeechConfig(u,c);case 2:return f=m.sent,m.abrupt("return",(f&&n.process(f,c),f));case 4:case"end":return m.stop()}},s)}));function a(s,u){return e.apply(this,arguments)}return a})()}])})();return as.AzureSpeechConfig=o,as}var rs={},Hv;function P2(){if(Hv)return rs;Hv=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.StopTimeout=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"set",value:function(e){e.stopTimeout=setTimeout(function(){return e.stop()},e.stopTimeoutMS)}},{key:"reset",value:function(e,a){e.stopTimeoutMS=a||o.DEFAULT_MS,o.stop(e),o.set(e)}},{key:"stop",value:function(e){e.stopTimeout&&clearTimeout(e.stopTimeout)}}])})();return rs.StopTimeout=i,i.DEFAULT_MS=2e4,rs}var is={},qv;function H2(){if(qv)return is;qv=1,Object.defineProperty(is,"__esModule",{value:!0}),is.AzureAudioConfig=void 0;var i=(function(){function o(){N(this,o)}return I(o,null,[{key:"get",value:function(e,a){return a?e.fromMicrophoneInput(a):e.fromDefaultMicrophoneInput()}}])})();return is.AzureAudioConfig=i,is}var ss={},Fv;function q2(){if(Fv)return ss;Fv=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.AzureTranscript=void 0;var i=ly(),o=(function(){function n(){N(this,n)}return I(n,null,[{key:"extract",value:function(a,s,u,c){return c&&(a=i.Translate.translate(a,c)),u?{interimTranscript:"",finalTranscript:s+a,newText:a}:{interimTranscript:a,finalTranscript:s,newText:a}}}])})();return ss.AzureTranscript=o,ss}var Gv;function F2(){if(Gv)return ts;Gv=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.Azure=void 0;var i=U2(),o=z2(),n=P2(),e=H2(),a=q2(),s=cy(),u=(function(c){function f(){var p;return N(this,f),p=pe(this,f,arguments),p._newTextPadding="",p}return me(f,c),I(f,[{key:"start",value:function(m,g){this._newTextPadding="",this.stopTimeout===void 0&&n.StopTimeout.reset(this,m?.stopAfterSilenceMs),this.prepareBeforeStart(m),this.startAsync(m),g||i.PreventConnectionStop.applyPrevention(this)}},{key:"startAsync",value:(function(){var p=z(T().mark(function g(b){var y;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(E.t0=this.validate(b),!E.t0){E.next=6;break}return E.next=4,this.instantiateService(b);case 4:this._translations=b?.translations,(y=this._service)===null||y===void 0||y.startContinuousRecognitionAsync(function(){},this.error);case 6:case"end":return E.stop()}},g,this)}));function m(g){return p.apply(this,arguments)}return m})()},{key:"validate",value:function(m){return f.getAPI()?o.AzureSpeechConfig.validateOptions(this.error.bind(this),m):(this.moduleNotFound(),!1)}},{key:"instantiateService",value:(function(){var p=z(T().mark(function g(b){var y,k,E,w,M,O,X,ne,P;return T().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return y=f.getAPI(),k=e.AzureAudioConfig.get(y.AudioConfig,b.deviceId),le.next=4,o.AzureSpeechConfig.get(y.SpeechConfig,b);case 4:E=le.sent,E?(b.autoLanguage&&b.autoLanguage.languages.length>0?(M=b.autoLanguage,O=M.type,X=M.languages,ne=X.slice(0,O==="Continuous"?10:4),P=y.AutoDetectSourceLanguageConfig.fromLanguages(ne),O==="Continuous"&&(P.mode=1),w=y.SpeechRecognizer.FromConfig(E,P,k)):w=new y.SpeechRecognizer(E,k),this.setEvents(w),this._service=w,b.retrieveToken&&this.retrieveTokenInterval(b.retrieveToken)):this.error("Unable to contact Azure server");case 6:case"end":return le.stop()}},g,this)}));function m(g){return p.apply(this,arguments)}return m})()},{key:"setEvents",value:function(m){m.recognizing=this.onRecognizing.bind(this),m.recognized=this.onRecognized.bind(this),m.sessionStarted=this.onSessionStarted.bind(this),m.canceled=this.onCanceled.bind(this),m.sessionStopped=this.onSessionStopped.bind(this)}},{key:"onRecognizing",value:function(m,g){if(!this._stopping){var b=a.AzureTranscript.extract(this._newTextPadding+g.result.text,this.finalTranscript,!1,this._translations),y=b.interimTranscript,k=b.finalTranscript,E=b.newText;n.StopTimeout.reset(this,this.stopTimeoutMS),this.updateElements(y,k,E)}}},{key:"onRecognized",value:function(m,g){var b=g.result;switch(b.reason){case window.SpeechSDK.ResultReason.Canceled:break;case window.SpeechSDK.ResultReason.RecognizedSpeech:if(b.text&&!this._stopping){var y=a.AzureTranscript.extract(this._newTextPadding+b.text,this.finalTranscript,!0,this._translations),k=y.interimTranscript,E=y.finalTranscript,w=y.newText;n.StopTimeout.reset(this,this.stopTimeoutMS),this.updateElements(k,E,w),E!==""&&(this._newTextPadding=" ")}break}}},{key:"onCanceled",value:function(m,g){g.reason===window.SpeechSDK.CancellationReason.Error&&this.error(g.errorDetails)}},{key:"onSessionStarted",value:function(){i.PreventConnectionStop.clearPrevention(this),this.setStateOnStart()}},{key:"onSessionStopped",value:function(){this._retrieveTokenInterval||clearInterval(this._retrieveTokenInterval),this._stopping=!1,this.setStateOnStop()}},{key:"retrieveTokenInterval",value:function(m){var g=this;this._retrieveTokenInterval=setInterval(function(){m?.().then(function(b){g._service&&(g._service.authorizationToken=b?.trim()||"")}).catch(function(b){g.error(b)})},1e4)}},{key:"stop",value:function(m){var g;!m&&this._retrieveTokenInterval&&clearInterval(this._retrieveTokenInterval),this._stopping=!0,(g=this._service)===null||g===void 0||g.stopContinuousRecognitionAsync(),n.StopTimeout.stop(this),this.finalise(m)}},{key:"moduleNotFound",value:function(){console.error("speech recognition module not found:"),console.error(`please install the 'microsoft-cognitiveservices-speech-sdk' npm package or add a script tag: <script src="https://aka.ms/csspeech/jsbrowserpackageraw"><\/script>`),this.setStateOnError("speech recognition module not found")}},{key:"error",value:function(m){this._retrieveTokenInterval&&clearInterval(this._retrieveTokenInterval),console.error(m),this.setStateOnError(m),this.stop()}}],[{key:"getAPI",value:function(){return window.SpeechSDK}}])})(s.Speech);return ts.Azure=u,ts}var Vv;function G2(){if(Vv)return Fl;Vv=1,Object.defineProperty(Fl,"__esModule",{value:!0});var i=D2(),o=uy(),n=B2(),e=F2(),a=(function(){function s(){N(this,s)}return I(s,null,[{key:"toggle",value:function(c,f){var p,m,g=c.toLocaleLowerCase().trim();!((p=n.GlobalState.service)===null||p===void 0)&&p.recognizing?this.stop():g==="webspeech"?s.startWebSpeech(f):g==="azure"?s.startAzure(f):(console.error("service not found - must be either 'webspeech' or 'azure'"),(m=f?.onError)===null||m===void 0||m.call(f,"service not found - must be either 'webspeech' or 'azure'"))}},{key:"startWebSpeech",value:function(c){s.stop()||(n.GlobalState.service=new i.WebSpeech,n.GlobalState.service.start(c))}},{key:"isWebSpeechSupported",value:function(){return!!i.WebSpeech.getAPI()}},{key:"startAzure",value:function(c){var f;s.stop()||!((f=n.GlobalState.service)===null||f===void 0)&&f.cannotBeStopped||(n.GlobalState.service=new e.Azure,n.GlobalState.service.start(c))}},{key:"stop",value:function(){var c;return n.GlobalState.doubleClickDetector()?!0:(!((c=n.GlobalState.service)===null||c===void 0)&&c.recognizing&&n.GlobalState.service.stop(),!1)}},{key:"endCommandMode",value:function(){n.GlobalState.service&&o.CommandUtils.toggleCommandModeOff(n.GlobalState.service)}}])})();return Fl.default=a,Fl}var V2=G2(),no=M2(V2),K2=(function(){function i(o,n){N(this,i),this._silenceMS=2e3,this._stop=!0,typeof n=="boolean"&&n===!1&&(this._stop=!1),typeof o=="number"&&(this._silenceMS=o)}return I(i,[{key:"setSilenceTimeout",value:function(n,e){var a=this;this._silenceTimeout=setTimeout(function(){var s;(s=n.submit)==null||s.call(n),no.stop(),a._stop||setTimeout(e,Rd.MICROPHONE_RESET_TIMEOUT_MS)},this._silenceMS)}},{key:"clearSilenceTimeout",value:function(){this._silenceTimeout&&clearTimeout(this._silenceTimeout)}},{key:"resetSilenceTimeout",value:function(n,e){this.clearSilenceTimeout(),this.setSilenceTimeout(n,e)}},{key:"onPause",value:function(n,e,a){n?this.resetSilenceTimeout(e,a):this.clearSilenceTimeout()}}])})(),dy=(function(i){function o(n,e,a){var s;N(this,o);var u=re(n.speechToText)=="object"?n.speechToText:{};s=pe(this,o,[u?.button]);var c=s.processConfiguration(e,n.speechToText),f=c.serviceName,p=c.processedConfig;if(s._addErrorMessage=a,f==="webspeech"&&!no.isWebSpeechSupported())s.changeToUnsupported();else{var m=!n.textInput||!n.textInput.disabled;s.elementRef.onclick=s.buttonClick.bind(s,e,m,f,p)}return setTimeout(function(){s._validationHandler=n._validationHandler}),s}return me(o,i),I(o,[{key:"processConfiguration",value:function(e,a){var s,u,c,f,p,m,g=re(a)=="object"?a:{},b=re(g.webSpeech)=="object"?g.webSpeech:{},y=g.azure||{},k=Oe(Oe({displayInterimResults:(s=g.displayInterimResults)!==null&&s!==void 0?s:void 0,textColor:(u=g.textColor)!==null&&u!==void 0?u:void 0,translations:(c=g.translations)!==null&&c!==void 0?c:void 0,commands:(f=g.commands)!==null&&f!==void 0?f:void 0,events:(p=g.events)!==null&&p!==void 0?p:void 0},b),y),E=(m=g.commands)==null?void 0:m.submit;return E&&(k.onPreResult=function(w){return w.toLowerCase().includes(E)?(setTimeout(function(){var M;return(M=e.submit)==null?void 0:M.call(e)}),no.endCommandMode(),{restart:!0,removeNewText:!0}):null}),g.submitAfterSilence&&(this._silenceSubmit=new K2(g.submitAfterSilence,g.stopAfterSubmit)),{serviceName:o.getServiceName(g),processedConfig:k}}},{key:"buttonClick",value:function(e,a,s,u){var c=this,f=u?.events;e.removePlaceholderStyle(),no.toggle(s,Oe({insertInCursorLocation:!1,element:a?e.inputElementRef:void 0,onError:function(){var m;c.onError(),(m=c._silenceSubmit)==null||m.clearSilenceTimeout()},onStart:function(){var m;c.changeToActive(),(m=f?.onStart)==null||m.call(f)},onStop:function(){var m,g,b;(m=c._validationHandler)==null||m.call(c),(g=c._silenceSubmit)==null||g.clearSilenceTimeout(),c.changeToDefault(),(b=f?.onStop)==null||b.call(f)},onPauseTrigger:function(m){var g,b;(g=c._silenceSubmit)==null||g.onPause(m,e,c.elementRef.onclick),(b=f?.onPauseTrigger)==null||b.call(f,m)},onPreResult:function(m,g){var b;(b=f?.onPreResult)==null||b.call(f,m,g)},onResult:function(m,g){var b,y,k;g&&((b=c._validationHandler)==null||b.call(c)),(y=c._silenceSubmit)==null||y.resetSilenceTimeout(e,c.elementRef.onclick),(k=f?.onResult)==null||k.call(f,m,g)},onCommandModeTrigger:function(m){var g;c.onCommandModeTrigger(m),(g=f?.onCommandModeTrigger)==null||g.call(f,m)}},u))}},{key:"onCommandModeTrigger",value:function(e){e?this.changeToCommandMode():this.changeToActive()}},{key:"onError",value:function(){this._addErrorMessage("speechToText","speech input error")}}],[{key:"getServiceName",value:function(e){return e.azure?"azure":"webspeech"}},{key:"toggleSpeechAfterSubmit",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.click(),a||setTimeout(function(){return e.click()},o.MICROPHONE_RESET_TIMEOUT_MS)}}])})(sy);dy.MICROPHONE_RESET_TIMEOUT_MS=300;var Rd=dy,Od=(function(){function i(o,n,e,a,s){var u=this;N(this,i),this._attachments=[],this._fileCountLimit=99,this._acceptedFormat="",this._hiddenAttachments=new Set,e.maxNumberOfFiles&&(this._fileCountLimit=e.maxNumberOfFiles),this._toggleContainerDisplay=a,this._fileAttachmentsContainerRef=s,e.acceptedFormats&&(this._acceptedFormat=e.acceptedFormats),setTimeout(function(){u._validationHandler=o._validationHandler,u._onInput=n.onInput})}return I(i,[{key:"attemptAddFile",value:function(n,e){var a;return i.isFileTypeValid(n,this._acceptedFormat)?(this.addAttachmentBasedOnType(n,e,!0),(a=this._onInput)==null||a.call(this,!0),!0):!1}},{key:"addAttachmentBasedOnType",value:function(n,e,a){var s=i.getTypeFromBlob(n);if(s==="image"){var u=i.createImageAttachment(e);this.addFileAttachment(n,"image",u,a)}else if(s==="audio"){var c=hd.createAudioAttachment(e);this.addFileAttachment(n,"audio",c,a)}else{var f=i.createAnyFileAttachment(n.name);this.addFileAttachment(n,"any",f,a)}}},{key:"addFileAttachment",value:function(n,e,a,s){var u,c=i.createContainer(a);if(this._attachments.length>=this._fileCountLimit){var f=this._attachments[this._attachments.length-1].removeButton;f?.click();var p=this._fileAttachmentsContainerRef.children;this._fileAttachmentsContainerRef.insertBefore(c,p[0])}else this._fileAttachmentsContainerRef.appendChild(c);var m={file:n,attachmentContainerElement:c,fileType:e};return s&&(m.removeButton=this.createRemoveAttachmentButton(m),c.appendChild(m.removeButton)),this._toggleContainerDisplay(!0),this._attachments.push(m),this._fileAttachmentsContainerRef.scrollTop=this._fileAttachmentsContainerRef.scrollHeight,(u=this._validationHandler)==null||u.call(this),m}},{key:"createRemoveAttachmentButton",value:function(n){var e=document.createElement("div");e.classList.add("remove-file-attachment-button"),e.onclick=this.removeAttachment.bind(this,n);var a=document.createElement("div");return a.classList.add("x-icon"),a.innerText="×",e.appendChild(a),e}},{key:"removeAttachment",value:function(n,e){var a,s;(a=this._onInput)==null||a.call(this,!!(e!=null&&e.isTrusted));var u=this._attachments.findIndex(function(f){return f===n}),c=this._attachments[u].attachmentContainerElement;this._attachments.splice(u,1),hd.stopAttachmentPlayback(c),c.remove(),this._toggleContainerDisplay(!1),(s=this._validationHandler)==null||s.call(this)}},{key:"getFiles",value:function(){return Array.from(this._attachments).map(function(n){return{file:n.file,type:n.fileType}})}},{key:"hideAttachments",value:function(){var n=this;this._hiddenAttachments.clear(),this._attachments.forEach(function(e){setTimeout(function(){var a;return(a=e.removeButton)==null?void 0:a.click()}),n._hiddenAttachments.add(e)})}},{key:"removeAttachments",value:function(){this._attachments.forEach(function(n){setTimeout(function(){var e;return(e=n.removeButton)==null?void 0:e.click()})}),this._hiddenAttachments.clear()}},{key:"readdAttachments",value:function(){var n=this,e;Array.from(this._hiddenAttachments).forEach(function(a){n._fileAttachmentsContainerRef.appendChild(a.attachmentContainerElement),n._attachments.push(a)}),(e=this._onInput)==null||e.call(this,!1),this._hiddenAttachments.clear()}}],[{key:"isFileTypeValid",value:function(n,e){if(e==="")return!0;for(var a=e.split(","),s=0;s<a.length;s++){var u=a[s].trim();if(n.type===u)return!0;if(u.startsWith(".")){var c=u.slice(1);if(n.name.endsWith(c))return!0}else if(n.name.endsWith(u)||u.endsWith("/*")&&n.type.startsWith(u.slice(0,-2)))return!0}return!1}},{key:"getTypeFromBlob",value:function(n){var e=n.type;return e.startsWith("image")?"image":e.startsWith("audio")?"audio":"any"}},{key:"createImageAttachment",value:function(n){var e=new Image;return e.src=n,e.classList.add("image-attachment"),e}},{key:"createAnyFileAttachment",value:function(n){var e=document.createElement("div");e.classList.add("border-bound-attachment"),Ua.IS_SAFARI&&e.classList.add("border-bound-attachment-safari");var a=document.createElement("div");a.classList.add("any-file-attachment-text");var s=document.createElement("div");return s.classList.add("file-attachment-text-container"),s.appendChild(a),a.textContent=n,e.appendChild(s),e}},{key:"createContainer",value:function(n){var e=document.createElement("div");return e.classList.add("file-attachment"),e.appendChild(n),e}}])})(),fy=(function(i){function o(n,e,a,s,u){return N(this,o),pe(this,o,[n,e,a,s,u])}return me(o,i),I(o,[{key:"createTimer",value:function(e,a){var s=this,u=0,c=a!==void 0&&a<o.TIMER_LIMIT_S?a:o.TIMER_LIMIT_S;return setInterval(function(){var f;u+=1,u===c&&((f=s.stopPlaceholderCallback)==null||f.call(s),s.clearTimer()),u===600&&e.classList.add("audio-placeholder-text-4-digits");var p=Math.floor(u/60),m=(u%60).toString().padStart(2,"0");e.textContent="".concat(p,":").concat(m)},1e3)}},{key:"createPlaceholderAudioAttachment",value:function(e){var a=o.createAudioContainer(),s=document.createElement("div");s.classList.add("audio-placeholder-text-3-digits");var u=document.createElement("div");u.classList.add("file-attachment-text-container","audio-placeholder-text-3-digits-container"),u.appendChild(s);var c=Ln.createSVGElement(od);return c.classList.add("attachment-icon","stop-icon","not-removable-attachment-icon"),s.textContent="0:00",this._activePlaceholderTimer=this.createTimer(s,e),a.appendChild(u),this.addPlaceholderAudioAttachmentEvents(a,c,u),a}},{key:"addPlaceholderAudioAttachmentEvents",value:function(e,a,s){var u=this,c=function(){return e.replaceChildren(a)};e.addEventListener("mouseenter",c);var f=function(){return e.replaceChildren(s)};e.addEventListener("mouseleave",f);var p=function(){var g;return(g=u.stopPlaceholderCallback)==null?void 0:g.call(u)};e.addEventListener("click",p)}},{key:"addPlaceholderAttachment",value:function(e,a){var s=this.createPlaceholderAudioAttachment(a);this._activePlaceholderAttachment=this.addFileAttachment(new File([],""),"audio",s,!1),this.stopPlaceholderCallback=e}},{key:"completePlaceholderAttachment",value:function(e,a){var s=this._activePlaceholderAttachment;s&&(s.file=e,o.addAudioElements(s.attachmentContainerElement.children[0],a),s.removeButton=this.createRemoveAttachmentButton(s),s.attachmentContainerElement.appendChild(s.removeButton),this._activePlaceholderAttachment=void 0,this.clearTimer())}},{key:"removePlaceholderAttachment",value:function(){this._activePlaceholderAttachment&&(this.removeAttachment(this._activePlaceholderAttachment),this._activePlaceholderAttachment=void 0,this.clearTimer())}},{key:"clearTimer",value:function(){this._activePlaceholderTimer!==void 0&&(clearInterval(this._activePlaceholderTimer),this._activePlaceholderTimer=void 0,this.stopPlaceholderCallback=void 0)}}],[{key:"createAudioContainer",value:function(){var e=document.createElement("div");return e.classList.add("border-bound-attachment","audio-attachment-icon-container"),Ua.IS_SAFARI&&e.classList.add("border-bound-attachment-safari"),e}},{key:"addAudioElements",value:function(e,a){var s=e.parentElement?Ot.cloneElement(e):e,u=document.createElement("audio");u.src=a;var c=Ln.createSVGElement(Wg);c.classList.add("attachment-icon","play-icon");var f=Ln.createSVGElement(od);f.classList.add("attachment-icon","stop-icon"),s.replaceChildren(c),u.onplay=function(){s.replaceChildren(f)},u.onpause=function(){s.replaceChildren(c),u.currentTime=0},u.onended=function(){s.replaceChildren(c)},s.onclick=function(){u.paused?u.play():u.pause()}}},{key:"createAudioAttachment",value:function(e){var a=o.createAudioContainer();return o.addAudioElements(a,e),a}},{key:"stopAttachmentPlayback",value:function(e){var a,s,u;(u=(s=(a=e.children[0])==null?void 0:a.children)==null?void 0:s[0])!=null&&u.classList.contains("stop-icon")&&e.children[0].click()}}])})(Od);fy.TIMER_LIMIT_S=5999;var hd=fy,Y2=(function(){function i(){N(this,i)}return I(i,null,[{key:"create",value:function(n,e,a,s,u,c){return c==="audio"?new hd(n,e,a,s,u):new Od(n,e,a,s,u)}}])})(),Ld=(function(){function i(o,n,e){N(this,i),this._fileAttachmentsTypes=[],this.elementRef=this.createAttachmentContainer();var a=re(e)=="object"&&!!e.displayFileAttachmentContainer;this.toggleContainerDisplay(a),o.appendChild(this.elementRef),n&&Object.assign(this.elementRef.style,n)}return I(i,[{key:"addType",value:function(n,e,a,s){var u=Y2.create(n,e,a,this.toggleContainerDisplay.bind(this),this.elementRef,s);return this._fileAttachmentsTypes.push(u),u}},{key:"createAttachmentContainer",value:function(){var n=document.createElement("div");return n.id="file-attachment-container",n}},{key:"toggleContainerDisplay",value:function(n){n?this.elementRef.style.display="block":this.elementRef.children.length===0&&(this.elementRef.style.display="none")}},{key:"getAllFileData",value:function(){var n=this._fileAttachmentsTypes.map(function(e){return e.getFiles()}).flat();return n.length>0?n:void 0}},{key:"completePlaceholders",value:(function(){var o=z(T().mark(function e(){return T().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.all(this._fileAttachmentsTypes.map((function(){var u=z(T().mark(function c(f){var p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(p=f.stopPlaceholderCallback)==null?void 0:p.call(f));case 1:case"end":return g.stop()}},c)}));return function(c){return u.apply(this,arguments)}})()));case 2:case"end":return s.stop()}},e,this)}));function n(){return o.apply(this,arguments)}return n})()},{key:"addFilesToAnyType",value:function(n){i.addFilesToType(n,this._fileAttachmentsTypes)}},{key:"hideFiles",value:function(){this._fileAttachmentsTypes.forEach(function(n){return n.hideAttachments()}),this.elementRef.replaceChildren(),this.toggleContainerDisplay(!1)}},{key:"removeHiddenFiles",value:function(){this._fileAttachmentsTypes.forEach(function(n){return n.removeAttachments()})}},{key:"readdHiddenFiles",value:function(){this._fileAttachmentsTypes.forEach(function(n){return n.readdAttachments()}),this.toggleContainerDisplay(!0)}},{key:"getNumberOfTypes",value:function(){return this._fileAttachmentsTypes.length}}],[{key:"addFilesToType",value:function(n,e){n.forEach(function(a){var s=new FileReader;s.readAsDataURL(a),s.onload=function(u){for(var c=0;c<e.length&&!e[c].attemptAddFile(a,u.target.result);c+=1);}})}}])})(),hy=(function(){function i(o,n,e){N(this,i),this._isOpen=!1,this._contentRef=i.createModalContent(n,e?.backgroundColor),this._buttonPanel=i.createButtonPanel(e?.backgroundColor),this._elementRef=i.createContainer(this._contentRef,e),this._elementRef.appendChild(this._buttonPanel),o.appendChild(this._elementRef),this._backgroundPanelRef=i.createDarkBackgroundPanel(),o.appendChild(this._backgroundPanelRef),this.addWindowEvents(o)}return I(i,[{key:"isOpen",value:function(){return this._isOpen}},{key:"addButtons",value:function(){for(var n=this,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];a.forEach(function(u){ut.addAttributes(u),n._buttonPanel.appendChild(u)})}},{key:"close",value:function(){var n=this;this._elementRef.classList.remove("show-modal"),this._elementRef.classList.add("hide-modal"),this._backgroundPanelRef.classList.remove("show-modal-background"),this._backgroundPanelRef.classList.add("hide-modal-background"),this._isOpen=!1,setTimeout(function(){n._elementRef.style.display="none",n._backgroundPanelRef.style.display="none"},i.MODAL_CLOSE_TIMEOUT_MS)}},{key:"displayModalElements",value:function(){this._elementRef.style.display="flex",this._elementRef.classList.remove("hide-modal"),this._elementRef.classList.add("show-modal"),this._backgroundPanelRef.style.display="block",this._backgroundPanelRef.classList.remove("hide-modal-background"),this._backgroundPanelRef.classList.add("show-modal-background"),this._isOpen=!0}},{key:"openTextModal",value:function(n){this._contentRef.innerHTML=n,this.displayModalElements()}},{key:"addCloseButton",value:function(n,e,a){var s=this,u=e?i.createSVGButton(n):i.createTextButton(n);return this.addButtons(u),u.onclick=function(){s.close(),setTimeout(function(){a?.()},140)},u}},{key:"addWindowEvents",value:function(n){this.keyDownEvent=this.windowKeyDown.bind(this,n),window.addEventListener("keydown",this.keyDownEvent)}},{key:"windowKeyDown",value:function(n,e){var a,s;!n.isConnected&&this.keyDownEvent?window.removeEventListener("keydown",this.keyDownEvent):this._isOpen&&(e.key===mt.ESCAPE?(this.close(),(a=this.extensionCloseCallback)==null||a.call(this)):e.key===mt.ENTER&&(this.close(),(s=this.extensionCloseCallback)==null||s.call(this)))}}],[{key:"createContainer",value:function(n,e){var a=document.createElement("div");return a.classList.add("modal"),a.appendChild(n),e&&delete e.backgroundColor,Object.assign(a.style,e),a}},{key:"createModalContent",value:function(n,e){var a,s=document.createElement("div");return(a=s.classList).add.apply(a,Es(n)),e&&(s.style.backgroundColor=e),document.createElement("div").appendChild(s),s}},{key:"createButtonPanel",value:function(n){var e=document.createElement("div");return e.classList.add("modal-button-panel"),n&&(e.style.backgroundColor=n),e}},{key:"createDarkBackgroundPanel",value:function(){var n=document.createElement("div");return n.id="modal-background-panel",n}},{key:"createTextButton",value:function(n){var e=document.createElement("div");return e.classList.add("modal-button"),e.textContent=n,e}},{key:"createSVGButton",value:function(n){var e=document.createElement("div");e.classList.add("modal-button","modal-svg-button");var a=Ln.createSVGElement(n);return a.classList.add("modal-svg-button-icon"),e.appendChild(a),e}},{key:"createTextModalFunc",value:function(n,e,a){var s;if(re(e)=="object"&&(s=e.files)!=null&&s.infoModal){var u=new i(n,["modal-content"],e.files.infoModal.containerStyle);return u.addCloseButton("OK",!1,a),u.openTextModal.bind(u,e.infoModalTextMarkUp||"")}}}])})();hy.MODAL_CLOSE_TIMEOUT_MS=190;var fs=hy,X2=(function(i){function o(n,e,a,s,u,c){var f;N(this,o);var p,m,g,b,y,k,E,w,M,O,X=(p=a?.button)==null?void 0:p.position,ne=((b=(g=(m=a?.button)==null?void 0:m.styles)==null?void 0:g.text)==null?void 0:b.content)||c,P=Nn.tryCreateConfig("Upload File",(y=a?.button)==null?void 0:y.tooltip);f=pe(this,o,[o.createButtonElement(),u,X,P,a.button,ne]);var G=f.createInnerElementsForStates(s,f.customStyles);return f._inputElement=o.createInputElement((k=a?.files)==null?void 0:k.acceptedFormats),f.addClickEvent(n,a),f.changeElementsByState(G.styles),f.reapplyStateStyle("styles"),f._fileAttachmentsType=e,f._openModalOnce=((w=(E=a.files)==null?void 0:E.infoModal)==null?void 0:w.openModalOnce)===!1||(O=(M=a.files)==null?void 0:M.infoModal)==null?void 0:O.openModalOnce,f}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(e,a){return{styles:this.createInnerElements(e,"styles",a)}}},{key:"triggerImportPrompt",value:function(e){e.onchange=this.import.bind(this,e),e.click()}},{key:"import",value:function(e){Ld.addFilesToType(Array.from(e.files||[]),[this._fileAttachmentsType]),e.value=""}},{key:"addClickEvent",value:function(e,a){var s=this.triggerImportPrompt.bind(this,this._inputElement),u=fs.createTextModalFunc(e,a,s);this.elementRef.onclick=this.click.bind(this,u)}},{key:"click",value:function(e){e&&(this._openModalOnce===void 0||this._openModalOnce===!0)?(e(),this._openModalOnce===!0&&(this._openModalOnce=!1)):this.triggerImportPrompt(this._inputElement)}}],[{key:"createInputElement",value:function(e){var a=document.createElement("input");return a.type="file",a.accept=e||"",a.hidden=!0,a.multiple=!0,a}},{key:"createButtonElement",value:function(){var e=document.createElement("div");return e.classList.add("input-button"),e}}])})(Ka),Kv=(function(){function i(){N(this,i)}return I(i,null,[{key:"create",value:function(n,e,a){var s=i.createElement(a);i.addEvents(s,n,e),n.appendChild(s)}},{key:"createElement",value:function(n){var e=document.createElement("div");return e.id="drag-and-drop",re(n)=="object"&&Object.assign(e.style,n),e}},{key:"addEvents",value:function(n,e,a){e.ondragenter=function(s){s.preventDefault(),i.display(n)},n.ondragleave=function(s){s.preventDefault(),i.hide(n)},n.ondragover=function(s){s.preventDefault()},n.ondrop=function(s){s.preventDefault(),i.uploadFile(a,s),i.hide(n)}}},{key:"uploadFile",value:function(n,e){var a,s=(a=e.dataTransfer)==null?void 0:a.files;s&&n.addFilesToAnyType(Array.from(s))}},{key:"display",value:function(n){n.style.display="block"}},{key:"hide",value:function(n){n.style.display="none"}},{key:"isEnabled",value:function(n,e){return e!==void 0&&e===!1?!1:!!e||n.getNumberOfTypes()>0}}])})(),Z2=(function(){function i(){N(this,i)}return I(i,null,[{key:"validate",value:function(n,e,a,s,u){var c=n(a,s,u);return c?e.changeToSubmitIcon():e.changeToDisabledIcon(),c}},{key:"useValidationFunc",value:(function(){var o=z(T().mark(function e(a,s,u,c){var f,p,m;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=s.isTextInputEmpty()?"":s.inputElementRef.textContent,b.next=3,u.completePlaceholders();case 3:return p=u.getAllFileData(),m=p?.map(function(y){return y.file}),b.abrupt("return",i.validate(a,c,f,m));case 5:case"end":return b.stop()}},e)}));function n(e,a,s,u){return o.apply(this,arguments)}return n})()},{key:"useValidationFuncProgrammatic",value:(function(){var o=z(T().mark(function e(a,s,u){var c,f;return T().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return f=(c=s.files)==null?void 0:c.map(function(g){return g.file}),m.abrupt("return",i.validate(a,u,s.text,f,!0));case 2:case"end":return m.stop()}},e)}));function n(e,a,s){return o.apply(this,arguments)}return n})()},{key:"validateWebsocket",value:function(n,e){var a=n.websocket,s=n.connectSettings;return a&&s.url!==In.URL&&!_s.canSendMessage(a)?(e.changeToDisabledIcon(),!1):!0}},{key:"attach",value:function(n,e,a,s,u){var c=n.validateInput||Nt.processValidateInput(n);n._validationHandler=(function(){var f=z(T().mark(function p(m){var g;return T().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(u.status.loadingActive||u.status.requestInProgress||e.isSubmitProgrammaticallyDisabled===!0||!i.validateWebsocket(e,u))){y.next=2;break}return y.abrupt("return",!1);case 2:return g=c||e.canSendMessage,y.abrupt("return",g?m?i.useValidationFuncProgrammatic(g,m,u):i.useValidationFunc(g,a,s,u):null);case 4:case"end":return y.stop()}},p)}));return function(p){return f.apply(this,arguments)}})()}}])})(),py=(function(){function i(){N(this,i)}return I(i,null,[{key:"getFileName",value:function(n,e){var a=new Date,s=String(a.getHours()).padStart(2,"0"),u=String(a.getMinutes()).padStart(2,"0"),c=String(a.getSeconds()).padStart(2,"0");return"".concat(n,"-").concat(s,"-").concat(u,"-").concat(c,".").concat(e)}}])})(),J2=(function(i){function o(n,e){var a;N(this,o);var s,u;return a=pe(this,o,[e.button]),a._waitingForBrowserApproval=!1,a._audioType=n,a._extension=((s=e.files)==null?void 0:s.format)||"mp3",a._maxDurationSeconds=(u=e.files)==null?void 0:u.maxDurationSeconds,a.elementRef.onclick=a.buttonClick.bind(Ur(a)),a}return me(o,i),I(o,[{key:"buttonClick",value:function(){this._waitingForBrowserApproval||(this.isActive?this.stop():(this._waitingForBrowserApproval=!0,this.record()))}},{key:"stop",value:function(){var e=this;return new Promise(function(a){var s,u;e.changeToDefault(),(s=e._mediaRecorder)==null||s.stop(),(u=e._mediaStream)==null||u.getTracks().forEach(function(c){return c.stop()}),setTimeout(function(){a()},10)})}},{key:"record",value:function(){var e=this;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(a){e.changeToActive(),e._mediaRecorder=new MediaRecorder(a),e._audioType.addPlaceholderAttachment(e.stop.bind(e),e._maxDurationSeconds),e._mediaStream=a,e._mediaRecorder.addEventListener("dataavailable",function(s){e.createFile(s)}),e._mediaRecorder.start()}).catch(function(a){console.error(a),e.stop()}).finally(function(){e._waitingForBrowserApproval=!1})}},{key:"createFile",value:function(e){var a=this,s=new Blob([e.data],{type:"audio/".concat(this._extension)}),u=py.getFileName(this._newFilePrefix||"audio",this._extension),c=new File([s],u,{type:s.type}),f=new FileReader;f.readAsDataURL(c),f.onload=function(p){a._audioType.completePlaceholderAttachment(c,p.target.result)}}}])})(sy),Q2=`<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" fill="none" stroke-width="1" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
  <line x1="22" y1="2" x2="11" y2="14"></line>
  <polygon points="22 2 15 22 11 14 2 10 22 2"></polygon>
</svg>
`,Yv=(function(){function i(){N(this,i)}return I(i,null,[{key:"resetSubmit",value:function(n,e){e?n.unsetCustomStateStyles(["loading","submit"]):n.unsetCustomStateStyles(["stop","loading","submit"]),n.reapplyStateStyle("submit")}},{key:"overwriteDefaultStyleWithSubmit",value:function(n,e){if(n.submit){var a=JSON.parse(JSON.stringify(n[e]||{}));Rn.overwritePropertyObjectFromAnother(a,n.submit,["container","default"]),Rn.overwritePropertyObjectFromAnother(a,n.submit,["text","styles","default"]),Rn.overwritePropertyObjectFromAnother(a,n.submit,["svg","styles","default"]),n[e]=a}}},{key:"setUpDisabledButton",value:function(n){Rn.setPropertyValueIfDoesNotExist(n,["submit","container","default","backgroundColor"],""),Rn.setPropertyValueIfDoesNotExist(n,["disabled","container","default","backgroundColor"],"unset"),Rn.setPropertyValueIfDoesNotExist(n.submit,["svg","styles","default","filter"],""),Rn.setPropertyValueIfDoesNotExist(n.disabled,["svg","styles","default","filter"],"brightness(0) saturate(100%) invert(70%) sepia(0%) saturate(5564%) hue-rotate(207deg) brightness(100%) contrast(97%)"),Rn.setPropertyValueIfDoesNotExist(n.disabled,["text","styles","default","color"],"grey"),i.overwriteDefaultStyleWithSubmit(n,"disabled")}},{key:"process",value:function(n){var e=JSON.parse(JSON.stringify(n||{}));return i.overwriteDefaultStyleWithSubmit(e,"loading"),i.overwriteDefaultStyleWithSubmit(e,"stop"),n!=null&&n.alwaysEnabled||i.setUpDisabledButton(e),e}}])})(),ao=(function(i){function o(n,e,a,s,u,c){var f;N(this,o);var p=Yv.process(n.submitButtonStyles),m=Q2,g=Nn.tryCreateConfig("Submit",p?.tooltip);return f=pe(this,o,[o.createButtonContainerElement(),m,p?.position,g,p]),f._isSVGLoadingIconOverriden=!1,f.status={requestInProgress:!1,loadingActive:!1},f._messages=a,f._textInput=e,f._fileAttachments=u,f._innerElements=f.createInnerElementsForStates(),f._abortStream=new AbortController,f._stopClicked={listener:function(){}},f._serviceIO=s,f._alwaysEnabled=!!(p!=null&&p.alwaysEnabled),n.disableSubmitButton=f.disableSubmitButton.bind(Ur(f),s),f.attemptOverwriteLoadingStyle(n),c.microphone&&f.setUpSpeechToText(c.microphone.button,n.speechToText),setTimeout(function(){var b;f._validationHandler=n._validationHandler,f.assignHandlers(f._validationHandler),(b=f._validationHandler)==null||b.call(Ur(f))}),f}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(){var e=this.createCustomElements(),a=e.submit,s=e.loading,u=e.stop;return{submit:a,loading:s||[o.createLoadingIconElement()],stop:u||[o.createStopIconElement()],disabled:this.createDisabledIconElement(a)}}},{key:"createCustomElements",value:function(){var e=this,a=pa.createCustomElements("submit",this.svg,this.customStyles),s={loading:void 0,stop:void 0};return Object.keys(s).forEach(function(u){var c=u,f=pa.createCustomElements(c,e.svg,e.customStyles);f&&(s[c]=f)}),s.submit=a||this.buildDefaultIconElement("submit-icon"),s}},{key:"createDisabledIconElement",value:function(e){return pa.createCustomElements("disabled",this.svg,this.customStyles)||[e[0].cloneNode(!0)]}},{key:"attemptOverwriteLoadingStyle",value:function(e){var a,s,u,c,f,p,m,g,b;if(!((s=(a=this.customStyles)==null?void 0:a.submit)!=null&&s.svg||(f=(c=(u=this.customStyles)==null?void 0:u.loading)==null?void 0:c.svg)!=null&&f.content||(g=(m=(p=this.customStyles)==null?void 0:p.loading)==null?void 0:m.text)!=null&&g.content)&&(e.displayLoadingBubble===void 0||e.displayLoadingBubble===!0)){var y=document.createElement("style");y.textContent=`
        .loading-button > * {
          filter: brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%)
            contrast(96%) !important;
        }`,(b=e.shadowRoot)==null||b.appendChild(y),this._isSVGLoadingIconOverriden=!0}}},{key:"assignHandlers",value:function(e){this._serviceIO.completionsHandlers={onFinish:this.resetSubmit.bind(this,e)},this._serviceIO.streamHandlers={onOpen:this.changeToStopIcon.bind(this),onClose:this.resetSubmit.bind(this,e),abortStream:this._abortStream,stopClicked:this._stopClicked};var a=this._serviceIO.stream;re(a)=="object"&&typeof a.simulation=="number"&&(this._serviceIO.streamHandlers.simulationInterim=a.simulation)}},{key:"setUpSpeechToText",value:function(e,a){this._microphoneButton=e,this._stopSTTAfterSubmit=re(a)=="object"?a.stopAfterSubmit:!1}},{key:"resetSubmit",value:function(e){this.status.requestInProgress=!1,this.status.loadingActive=!1,e()}},{key:"submitFromInput",value:(function(){var n=z(T().mark(function a(){var s,u;return T().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._fileAttachments.completePlaceholders();case 2:s=this._fileAttachments.getAllFileData(),this._textInput.isTextInputEmpty()?this.attemptSubmit({text:"",files:s}):(u=this._textInput.inputElementRef.innerText.trim(),this.attemptSubmit({text:u,files:s}));case 4:case"end":return f.stop()}},a,this)}));function e(){return n.apply(this,arguments)}return e})()},{key:"programmaticSubmit",value:(function(){var n=z(T().mark(function a(s){var u=this,c;return T().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:typeof s=="string"&&(s=Nt.processSubmitUserMessage(s)),c={text:s.text},s.files&&(c.files=Array.from(s.files).map(function(m){return{file:m,type:Od.getTypeFromBlob(m)}})),s.custom&&(c.custom=s.custom),setTimeout(function(){return u.attemptSubmit(c,!0)});case 3:case"end":return p.stop()}},a)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"attemptSubmit",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p,m,g,b,y=arguments;return T().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return u=y.length>1&&y[1]!==void 0?y[1]:!1,E.next=3,(c=this._validationHandler)==null?void 0:c.call(this,u?s:void 0);case 3:if(E.t0=E.sent,E.t1=!1,E.t0!==E.t1){E.next=7;break}return E.abrupt("return");case 7:if(this.changeToLoadingIcon(),this._textInput.clear(),E.t2=typeof this._messages.focusMode!="boolean"&&(f=this._messages.focusMode)!=null&&f.fade,!E.t2){E.next=13;break}return E.next=13,Hg.fadeAnimation(this._messages.elementRef,this._messages.focusMode.fade);case 13:return E.next=15,this.addNewMessage(s);case 15:return this._serviceIO.isWebModel()||this._messages.addLoadingMessage(),g=(p=s.files)==null?void 0:p.map(function(w){return w.file}),b={text:s.text===""?void 0:s.text,files:g},E.next=19,this._serviceIO.callAPI(b,this._messages);case 19:(m=this._fileAttachments)==null||m.hideFiles();case 20:case"end":return E.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"addNewMessage",value:(function(){var n=z(T().mark(function a(s){var u,c,f,p;return T().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(u=s.text,c=s.files,f=s.custom,p={role:fe.USER_ROLE,custom:f},u&&(p.text=u),g.t0=c,!g.t0){g.next=8;break}return g.next=7,this._messages.addMultipleFiles(c,this._fileAttachments);case 7:p.files=g.sent;case 8:this._serviceIO.sessionId&&(p._sessionId=this._serviceIO.sessionId),Object.keys(p).length>0&&this._messages.addNewMessage(p);case 10:case"end":return g.stop()}},a,this)}));function e(a){return n.apply(this,arguments)}return e})()},{key:"stopStream",value:function(){var e;this._abortStream.abort(),(e=this._stopClicked)==null||e.listener(),this._validationHandler&&this.resetSubmit(this._validationHandler)}},{key:"changeToStopIcon",value:function(){this._serviceIO.websocket||(this.elementRef.classList.remove(o.LOADING_CLASS,o.DISABLED_CLASS,o.SUBMIT_CLASS),ut.removeAriaAttributes(this.elementRef),this.changeElementsByState(this._innerElements.stop),this.reapplyStateStyle("stop",["loading","submit"]),this.elementRef.onclick=this.stopStream.bind(this),this.status.loadingActive=!1)}},{key:"changeToLoadingIcon",value:function(){this._serviceIO.websocket||(this._isSVGLoadingIconOverriden||this.changeElementsByState(this._innerElements.loading),this.elementRef.classList.remove(o.SUBMIT_CLASS,o.DISABLED_CLASS),ut.removeAriaDisabled(this.elementRef),this.elementRef.classList.add(o.LOADING_CLASS),ut.addAriaBusy(this.elementRef),this.reapplyStateStyle("loading",["submit"]),this.elementRef.onclick=function(){},this.status.requestInProgress=!0,this.status.loadingActive=!0)}},{key:"changeToSubmitIcon",value:function(){var e=this;this.elementRef.classList.contains(o.SUBMIT_CLASS)||(this.elementRef.classList.remove(o.LOADING_CLASS,o.DISABLED_CLASS),ut.removeAriaAttributes(this.elementRef),this.elementRef.classList.add(o.SUBMIT_CLASS),this.changeElementsByState(this._innerElements.submit),Yv.resetSubmit(this,this.status.loadingActive),this.elementRef.onclick=function(){var a;e.submitFromInput(),(a=e._microphoneButton)!=null&&a.isActive&&Rd.toggleSpeechAfterSubmit(e._microphoneButton.elementRef,!!e._stopSTTAfterSubmit)})}},{key:"changeToDisabledIcon",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._alwaysEnabled&&!e?this.changeToSubmitIcon():this.elementRef.classList.contains(o.DISABLED_CLASS)||(this.elementRef.classList.remove(o.LOADING_CLASS,o.SUBMIT_CLASS),ut.removeAriaBusy(this.elementRef),this.elementRef.classList.add(o.DISABLED_CLASS),ut.addAriaDisabled(this.elementRef),this.changeElementsByState(this._innerElements.disabled),this.reapplyStateStyle("disabled",["submit"]),this.elementRef.onclick=function(){})}},{key:"disableSubmitButton",value:function(e,a){var s;e.isSubmitProgrammaticallyDisabled=a!==!1,!(this.status.requestInProgress||this.status.loadingActive)&&(a===!1?(s=this._validationHandler)==null||s.call(this):this.changeToDisabledIcon(!0))}}],[{key:"createButtonContainerElement",value:function(){var e=document.createElement("div");return e.classList.add("input-button"),e}},{key:"createLoadingIconElement",value:function(){var e=document.createElement("div");return e.classList.add("loading-submit-button"),e}},{key:"createStopIconElement",value:function(){var e=document.createElement("div");return e.id="stop-icon",e}}])})(Ka);ao.SUBMIT_CLASS="submit-button",ao.LOADING_CLASS="loading-button",ao.DISABLED_CLASS="disabled-button";var $2=ao,W2=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
  <path d="M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"/>
</svg>
`,ek=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048z"></path>
</svg>
`,tk=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <path d="M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"/>
</svg>`,nk=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.89163 13.2687L9.16582 17.5427L18.7085 8" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`,ak=(function(i){function o(n,e,a,s){var u;N(this,o),u=pe(this,o,[n,["modal-content","modal-camera-content"],a]),u._stopped=!1,u._format="image/png",u._canvas=document.createElement("canvas"),u._canvas.classList.add("camera-modal-canvas");var c=u.addButtonsAndTheirEvents(e),f=c.captureButton,p=c.submitButton;return u._captureButton=f,u._submitButton=p,u._captureIcon=u._captureButton.children[0],u._refreshIcon=Ln.createSVGElement(W2),u._refreshIcon.classList.add("modal-svg-button-icon","modal-svg-refresh-icon"),s?.format==="jpeg"&&(u._format="image/jpeg"),s!=null&&s.dimensions&&(u._dimensions=s.dimensions),u._contentRef.appendChild(u._canvas),u.extensionCloseCallback=u.stop,u}return me(o,i),I(o,[{key:"addButtonsAndTheirEvents",value:function(e){var a=fs.createSVGButton(ek);a.classList.add("modal-svg-camera-button"),a.children[0].classList.add("modal-svg-camera-icon");var s=this.addCloseButton(tk,!0);s.classList.add("modal-svg-close-button"),s.children[0].classList.add("modal-svg-close-icon");var u=fs.createSVGButton(nk);return u.classList.add("modal-svg-submit-button"),this.addButtons(a,u),this.addButtonEvents(a,s,u,e),{captureButton:a,submitButton:u}}},{key:"addButtonEvents",value:function(e,a,s,u){var c=this;e.onclick=function(){c.capture()},a.addEventListener("click",this.stop.bind(this)),s.onclick=function(){var f=c.getFile();f&&Ld.addFilesToType([f],[u]),c.stop(),c.close()}}},{key:"stop",value:function(){var e=this;this._mediaStream&&this._mediaStream.getTracks().forEach(function(a){return a.stop()}),this._stopped=!0,setTimeout(function(){e._captureButton.replaceChildren(e._captureIcon),e._captureButton.classList.replace("modal-svg-refresh-button","modal-svg-camera-button");var a=e._canvas.getContext("2d");a?.clearRect(0,0,e._canvas.width,e._canvas.height)},fs.MODAL_CLOSE_TIMEOUT_MS)}},{key:"start",value:function(){var e=this;this._dataURL=void 0,this._submitButton.classList.add("modal-svg-submit-disabled"),this._stopped=!1,navigator.mediaDevices.getUserMedia({video:this._dimensions||!0}).then(function(a){if(e._mediaStream=a,!e.isOpen())return e.stop();var s=document.createElement("video");s.srcObject=a,s.play(),requestAnimationFrame(e.updateCanvas.bind(e,s,e._canvas))}).catch(function(a){console.error(a),e.stop(),e.close()})}},{key:"capture",value:function(){this._dataURL?(this._captureButton.replaceChildren(this._captureIcon),this._captureButton.classList.replace("modal-svg-refresh-button","modal-svg-camera-button"),this._submitButton.classList.add("modal-svg-submit-disabled"),this._dataURL=void 0):(this._captureButton.replaceChildren(this._refreshIcon),this._captureButton.classList.replace("modal-svg-camera-button","modal-svg-refresh-button"),this._submitButton.classList.remove("modal-svg-submit-disabled"),this._dataURL=this._canvas.toDataURL())}},{key:"getFile",value:function(){if(this._dataURL){for(var e=atob(this._dataURL.split(",")[1]),a=new Array(e.length),s=0;s<e.length;s++)a[s]=e.charCodeAt(s);var u=new Uint8Array(a),c=new Blob([u],{type:this._format}),f=this._format==="image/jpeg"?"jpeg":"png",p=py.getFileName(this._newFilePrefix||"photo",f);return new File([c],p,{type:c.type})}}},{key:"updateCanvas",value:function(e,a){if(!this._stopped){if(!this._dataURL){a.width=e.videoWidth,a.height=e.videoHeight;var s=a.getContext("2d");s?.drawImage(e,0,0,a.width,a.height)}requestAnimationFrame(this.updateCanvas.bind(this,e,a))}}},{key:"openCameraModal",value:function(e){this.displayModalElements(),e.start()}}],[{key:"createCameraModalFunc",value:function(e,a,s,u){var c=new o(e,a,s,u);return c.openCameraModal.bind(c,c)}}])})(fs),rk=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M29 7h-4.599l-2.401-4h-12l-2.4 4h-4.6c-1 0-3 1-3 2.969v16.031c0 1.657 1.5 3 2.792 3h26.271c1.313 0 2.938-1.406 2.938-2.968v-16.032c0-1-1-3-3-3zM30 26.032c0 0.395-0.639 0.947-0.937 0.969h-26.265c-0.232-0.019-0.797-0.47-0.797-1v-16.031c0-0.634 0.851-0.953 1-0.969h5.732l2.4-4h9.802l1.785 3.030 0.55 0.97h5.731c0.705 0 0.99 0.921 1 1v16.032zM16 10c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM16 22c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"></path>
</svg>`,ik=(function(i){function o(n,e,a){var s;N(this,o);var u,c,f,p,m,g,b=(u=a?.button)==null?void 0:u.position,y=((p=(f=(c=a?.button)==null?void 0:c.styles)==null?void 0:f.text)==null?void 0:p.content)||"Photo",k=Nn.tryCreateConfig("Camera",(m=a?.button)==null?void 0:m.tooltip),E=((g=a?.button)==null?void 0:g.styles)||{};s=pe(this,o,[o.createButtonElement(),rk,b,k,E,y]);var w=s.createInnerElementsForStates(s.customStyles);return a&&s.addClickEvent(n,e,a.modalContainerStyle,a.files),s.changeElementsByState(w.styles),s.reapplyStateStyle("styles"),s}return me(o,i),I(o,[{key:"createInnerElementsForStates",value:function(e){return{styles:this.createInnerElements("camera-icon","styles",e)}}},{key:"addClickEvent",value:function(e,a,s,u){var c=ak.createCameraModalFunc(e,a,s,u);this.elementRef.onclick=c}}],[{key:"createButtonElement",value:function(){var e=document.createElement("div");return e.classList.add("input-button"),e}}])})(Ka),sk=(function(){function i(o,n,e,a){N(this,i),this.elementRef=i.createPanelElement(o.inputAreaStyle);var s={},u=this.createFileUploadComponents(o,e,a,s),c=new wg(o,e,u);o.speechToText&&!s.microphone&&(s.microphone={button:new Rd(o,c,n.addNewErrorMessage.bind(n))});var f=new $2(o,c,n,e,u,s);c.submit=f.submitFromInput.bind(f),Z2.attach(o,e,c,u,f),o.submitUserMessage=f.programmaticSubmit.bind(f),s.submit={button:f},o.customButtons&&ps.add(o,s),i.addElements(this.elementRef,c,s,a,u,o.dropupStyles),i.assignOnInput(o,e,u,c)}return I(i,[{key:"createFileUploadComponents",value:function(n,e,a,s){var u,c,f,p,m=new Ld(this.elementRef,n.attachmentContainerStyle,e.demo);if(i.createUploadButtons(n,e,e.fileTypes||{},m,a,s),(u=e.camera)!=null&&u.files){var g=((c=s.images)==null?void 0:c.fileType)||m.addType(n,e,e.camera.files,"images");s.camera={button:new ik(a,g,e.camera)}}if((f=e.recordAudio)!=null&&f.files){var b=((p=s.audio)==null?void 0:p.fileType)||m.addType(n,e,e.recordAudio.files,"audio");s.microphone={button:new J2(b,e.recordAudio)}}return Kv.isEnabled(m,n.dragAndDrop)&&Kv.create(a,m,n.dragAndDrop),m}}],[{key:"createPanelElement",value:function(n){var e=document.createElement("div");return e.id="input",Object.assign(e.style,n),e}},{key:"createUploadButtons",value:function(n,e,a,s,u,c){Object.keys(a).forEach(function(f){var p=f,m=a[p];if(m.files){var g=s.addType(n,e,m.files,p),b=x2[p],y=b.id,k=b.svgString,E=b.dropupText,w=new X2(u,g,m,y,k,E);c[p]={button:w,fileType:g}}})}},{key:"addElements",value:function(n,e,a,s,u,c){Ot.addElements(n,e.elementRef);var f=so.create(),p=k2.addButtons(f,a,s,c);b2.set(e.inputElementRef,f,u.elementRef,p),so.add(n,f)}},{key:"assignOnInput",value:function(n,e,a,s){e.onInput=function(u){setTimeout(function(){var c=a.getAllFileData(),f={text:s.inputElementRef.innerText.trim()};c&&(f.files=c.map(function(p){return p.file})),Ss.onInput(n,f,u)})}}}])})(),lk=(function(){function i(){N(this,i)}return I(i,null,[{key:"createElements",value:function(n,e,a){var s=document.createElement("div");s.id="chat-view";var u=new fd(n,e,a);e.websocket&&_s.createConnection(e,u);var c=new sk(n,u,e,s);return Ot.addElements(s,u.elementRef,c.elementRef),s}},{key:"render",value:function(n,e,a,s){var u=i.createElements(n,a,s);e.replaceChildren(u),a.isCustomView()&&a.setUpView(u,e)}}])})(),ok=`#validate-property-key-view{height:100%;position:relative;display:flex;justify-content:center;align-items:center;padding:8px}#loading-validate-key-property{display:inline-block;width:50px;height:50px}#loading-validate-key-property:after{content:" ";display:block;width:38px;height:38px;margin:1px;border-radius:50%;border:5px solid #5fb2ff;border-color:#5fb2ff transparent #5fb2ff transparent;animation:loading-spinner 1.4s linear infinite}#deep-chat-openai-realtime-container{height:100%;width:100%}#deep-chat-openai-realtime-avatar-container{height:60%;width:100%;display:flex;justify-content:center;align-items:center}#deep-chat-openai-realtime-avatar{border-radius:50%;height:110px;border:1px solid rgb(215,215,215);padding:8px;-webkit-user-select:none;user-select:none;margin-top:20px}#deep-chat-openai-realtime-buttons-container{height:40%;display:flex;position:relative}.deep-chat-openai-realtime-button-container{height:100%;width:50%;display:flex;justify-content:center;align-items:center}.deep-chat-openai-realtime-button{width:70px;height:70px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.deep-chat-openai-realtime-button-default{background-color:#e3e3e3}.deep-chat-openai-realtime-button-default:hover{background-color:#d4d4d4}.deep-chat-openai-realtime-button-default:active{background-color:#c5c5c5}.deep-chat-openai-realtime-button-loading{opacity:.7;pointer-events:none}.deep-chat-openai-realtime-microphone-active{background-color:#ffe7e7}.deep-chat-openai-realtime-microphone-active:hover{background-color:#ffdede}.deep-chat-openai-realtime-microphone-active:active{background-color:#ffd2d2}.deep-chat-openai-realtime-microphone>*{height:30px;width:30px}.deep-chat-openai-realtime-microphone-active>*{filter:brightness(0) saturate(100%) invert(35%) sepia(60%) saturate(1360%) hue-rotate(325deg) brightness(95%) contrast(92%)}.deep-chat-openai-realtime-toggle>*{height:32px;width:32px;padding-left:3px;filter:brightness(0) saturate(100%) invert(22%) sepia(0%) saturate(4537%) hue-rotate(208deg) brightness(105%) contrast(91%)}.deep-chat-openai-realtime-button-unavailable{opacity:.45;pointer-events:none}#deep-chat-openai-realtime-error{color:red;position:absolute;top:calc(50% + 40px);left:50%;transform:translate(-50%,-50%);font-size:17px}#deep-chat-openai-realtime-loading{position:absolute;font-size:15px;top:50%;left:50%;transform:translate(-50%,-50%)}#insert-key-view{height:100%;position:relative}#insert-key-contents{text-align:center;position:absolute;top:44%;left:50%;transform:translate(-50%,-50%);width:82%;display:flex;max-width:700px}#insert-key-title{margin-bottom:15px}#insert-key-input-container{margin-right:2.7em;width:calc(100% - 80px)}#insert-key-input{padding:.3em 1.7em .3em .3em;border-width:1px;border-style:solid;border-radius:3px;width:100%;font-size:inherit}.insert-key-input-valid{border-color:gray}.insert-key-input-invalid{border-color:red}#visibility-icon-container{position:relative;float:right;cursor:pointer;-webkit-user-select:none;user-select:none}.visibility-icon{filter:brightness(0) saturate(100%) invert(63%) sepia(1%) saturate(9%) hue-rotate(43deg) brightness(98%) contrast(92%);position:absolute;right:-1.7em;top:-1.43em}#visible-icon{top:-1.4em}.visibility-icon:hover{filter:unset}.visibility-icon>*{pointer-events:none}#start-button{border:1px solid grey;color:#454545;border-radius:4px;width:3em;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.28em .3em;-webkit-user-select:none;user-select:none;background-color:#fff}#start-button:hover{background-color:#f2f2f2}#start-button:active{background-color:#d2d2d2}#insert-key-help-text-container{width:100%;position:absolute;margin-top:32px;margin-bottom:20px}#insert-key-help-text-contents{width:100%;position:absolute}#insert-key-input-invalid-text{display:block;margin-top:1em;margin-bottom:.5em;color:red}.insert-key-input-help-text{display:block;margin-top:16px}#loading-key{display:inline-block;width:16px;height:16px}#loading-key:after{content:" ";display:block;width:11px;height:11px;margin:1px;border-radius:50%;border:2px solid #0084ff;border-color:#0084ff transparent #0084ff transparent;animation:loading-spinner 1.2s linear infinite}#error-view{color:red;font-size:1.2em;line-height:1.3em;margin-top:-5px;text-align:center;height:100%;display:flex;justify-content:center;align-items:center;padding-left:8px;padding-right:8px}@keyframes loading-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.intro-panel{position:absolute;display:flex;justify-content:center;right:0;bottom:0;left:0;margin:auto;height:fit-content;top:-2.5em}#internal-intro-panel{width:250px;height:min-content;display:block;border-radius:5px;overflow:auto;border:1px solid rgb(203,203,203);padding:10px;max-height:calc(100% - 6.8em)}#internal-intro-panel>p{margin-block-start:.8em;margin-block-end:.8em}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: a11y-dark
  Author: @ericwbailey
  Maintainer: @ericwbailey

  Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css
*/.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast: active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}#messages{overflow:auto}.outer-message-container:last-child{margin-bottom:5px}.inner-message-container{display:flex;margin-left:auto;margin-right:auto;width:calc(97.5% - 24px);max-width:100%}.message-bubble{margin-top:10px;word-wrap:break-word;width:fit-content;max-width:60%;border-radius:10px;padding:.42em .55em;height:fit-content;line-height:1.26em}.user-message-text{color:#fff;background-color:#0084ff;margin-right:0;margin-left:auto}.ai-message-text{color:#000;background-color:#e4e6eb;margin-left:0;margin-right:auto}.deep-chat-last-group-messages-active{height:100%}.loading-history-message-full-view{position:absolute;height:70%;width:100%;display:flex;align-items:center}.loading-history-message-small{height:20px;margin-bottom:30px}.loading-history-message-small>div>div{scale:.6}.loading-history-message{margin-top:0;width:100%;max-width:100%;display:flex;justify-content:center;background-color:unset}.loading-history{width:70px}.loading-history div{position:absolute;width:var(--loading-history-width);height:var(--loading-history-height);margin:var(--loading-history-margin);border:var(--loading-history-border);border-radius:50%;animation:loading-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:var(--loading-history-color) transparent transparent transparent}.loading-history div:nth-child(1){animation-delay:-.45s}.loading-history div:nth-child(2){animation-delay:-.3s}.loading-history div:nth-child(3){animation-delay:-.15s}.html-message{max-width:unset}.error-message-text{margin:14px auto 10px;background-color:#f4c0c0;color:#474747;text-align:center;max-width:95%}.deep-chat-loading-message-dots-container{width:1em;padding:.6em .75em .6em 1.3em}.loading-message-dots{position:relative;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite linear alternate;animation-delay:.5s}.loading-message-dots:before,.loading-message-dots:after{content:"";display:inline-block;position:absolute;top:0}.loading-message-dots:before{left:-.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite alternate;animation-delay:0s}.loading-message-dots:after{left:.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--loading-message-color);color:var(--loading-message-color);animation:loading-message-dots 1s infinite alternate;animation-delay:1s}@keyframes loading-message-dots{0%{background-color:var(--loading-message-color)}50%,to{background-color:var(--loading-message-color-fade)}}.message-bubble>p:first-child,.message-bubble>.partial-render-message>p:first-child,.stream-wrapper>p:first-child{margin-top:0}.message-bubble>p:last-child,.message-bubble>.partial-render-message:last-child>p,.stream-wrapper>p:last-child{margin-bottom:0}pre{overflow:auto;display:block;word-break:break-all;word-wrap:break-word;border-radius:7px;background:#2b2b2b;color:#f8f8f2;margin-top:.8em;margin-bottom:.8em;padding:.6em;font-size:.9em;line-height:1.5em}.image-message{padding:0;display:flex;background-color:#ddd}.image-message>*,.image-message>*>*{width:100%;border-radius:8px;display:flex}.audio-message{width:60%;max-width:300px;height:2.2em;max-height:54px;padding:0;background-color:unset}.audio-player{width:100%;height:100%}.audio-player-safari{height:fit-content;width:40px}.audio-player-safari-left{float:left}.audio-player-safari-right{float:right}.any-file-message{padding:1px}.any-file-message-contents{display:flex}.any-file-message-icon-container{width:1.3em;min-width:1.3em;position:relative;border-radius:4px;margin-left:6px;margin-right:2px}.any-file-message-icon{background-color:#fff;border-radius:4px;position:absolute;width:1em;height:1.25em;padding:1px;margin-top:auto;margin-bottom:auto;top:0;bottom:0}.any-file-message-text{padding-top:5px;overflow-wrap:anywhere;padding-bottom:5px;padding-right:7px}.message-bubble>a{color:inherit}.left-item-position{margin-right:10px}.right-item-position{margin-left:10px}.role-hidden{display:none}.avatar{padding-top:5px;width:1.5em;height:1.5em;border-radius:1px}.avatar-container{margin-top:9px}.name{margin-top:16px;font-size:15px}#drag-and-drop{position:absolute;display:none;z-index:10;height:calc(100% - 10px);width:calc(100% - 10px);background-color:#70c6ff4d;border:5px dashed #6dafff}#file-attachment-container{position:absolute;height:3.6em;width:calc(80% - 4px);top:-2.5em;border-radius:5px;overflow:auto;text-align:left;background-color:#d7d7d73b;padding-left:4px}.file-attachment{width:2.85em;height:2.85em;display:inline-flex;margin-right:.6em;margin-bottom:.44em;margin-top:4px;position:relative;background-color:#fff;border-radius:5px}.image-attachment{width:100%;height:100%;object-fit:cover;border-radius:5px}.border-bound-attachment{width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid #c3c3c3;border-radius:5px;overflow:hidden}.border-bound-attachment-safari{width:calc(100% - 1px);height:calc(100% - 1px)}.audio-attachment-icon-container{cursor:pointer}.audio-attachment-icon-container:hover{background-color:#f8f8f8}.attachment-icon{left:0;right:0;bottom:0;top:2px;margin:auto;position:absolute;width:25px;-webkit-user-select:none;user-select:none}.not-removable-attachment-icon{top:0;right:0;bottom:0;left:0}.play-icon{filter:brightness(0) saturate(100%) invert(17%) sepia(0%) saturate(1392%) hue-rotate(67deg) brightness(98%) contrast(97%)}.stop-icon{filter:brightness(0) saturate(100%) invert(29%) sepia(90%) saturate(1228%) hue-rotate(198deg) brightness(93%) contrast(98%)}.audio-placeholder-text-3-digits{padding-left:.26rem}.audio-placeholder-text-4-digits{padding-left:.1rem}.any-file-attachment{padding:2px 0}.file-attachment-text-container{position:absolute;width:inherit;display:flex;align-items:center;height:100%;top:-1px}.audio-placeholder-text-3-digits-container{padding-top:1px;cursor:default}.any-file-attachment-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:.13em;margin-left:auto;margin-right:auto}.remove-file-attachment-button{height:1.25em;width:1.25em;border:1px solid #cfcfcf;border-radius:25px;background-color:#fff;top:-4px;right:-5px;position:absolute;display:flex;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none}.remove-file-attachment-button:hover{background-color:#e4e4e4}.remove-file-attachment-button:active{background-color:#d7d7d7}.x-icon{color:#4e4e4e;top:-.075em;position:relative;font-size:1.05em}.modal{display:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:80%;max-width:420px;max-height:80%;margin:auto;top:0;right:0;bottom:0;left:0;z-index:3}.modal-content{border-top:1px solid rgb(217,217,217);border-left:1px solid rgb(217,217,217);border-right:1px solid rgb(217,217,217);border-top-left-radius:inherit;border-top-right-radius:inherit;background-color:#fff;overflow-y:auto;height:fit-content;max-height:calc(100% - 3.3em);width:100%}.modal-content>p{margin-left:1em;margin-right:1em}.modal-content>ul{margin-right:1em}.modal-button-panel{height:3.3em;border:1px solid;border-color:rgb(223,223,223) rgb(217,217,217) rgb(217,217,217);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;background-color:#fff;text-align:center;justify-content:center;display:flex;width:100%}.modal-button{min-width:2.5em;text-align:center;color:#fff;border-radius:5px;padding:.4em .4em .3em;height:1.25em;background-color:#3279b2;top:0;bottom:0;cursor:pointer;-webkit-user-select:none;user-select:none;margin:auto .31em}.modal-button:hover{background-color:#276da7}.modal-button:active{background-color:#1b5687}.modal-svg-button{padding:0 0 2px;width:2em;height:1.8em}.modal-svg-button-icon{width:100%;height:100%;filter:brightness(0) saturate(100%) invert(100%) sepia(15%) saturate(4%) hue-rotate(346deg) brightness(101%) contrast(102%)}#modal-background-panel{position:absolute;width:100%;height:100%;background-color:#00000042;z-index:2;display:none}.show-modal-background{animation:fadeInBackground .3s ease-in-out}@keyframes fadeInBackground{0%{opacity:0}to{opacity:1}}.show-modal{animation:fadeInModal .3s ease-in-out}@keyframes fadeInModal{0%{opacity:0;scale:.95}to{opacity:1;scale:1}}.hide-modal-background{animation:fadeOutBackground .2s ease-in-out}@keyframes fadeOutBackground{0%{opacity:1}to{opacity:0}}.hide-modal{animation:fadeOutModal .2s ease-in-out}@keyframes fadeOutModal{0%{opacity:1;scale:1}to{opacity:0;scale:.95}}.modal-camera-content{overflow:hidden;text-align:center;border:unset;height:100%;background-color:#2a2a2a;display:flex;justify-content:center}.camera-modal-canvas{max-width:100%;max-height:100%;margin-top:auto;margin-bottom:auto}.modal-svg-submit-button{background-color:green}.modal-svg-submit-button:hover{background-color:#007500}.modal-svg-submit-button:active{background-color:#006500}.modal-svg-submit-disabled{pointer-events:none;background-color:#747474}.modal-svg-close-button{height:1.56em;padding-top:.37em;padding-bottom:0;background-color:#c13e3e}.modal-svg-close-button:hover{background-color:#b43434}.modal-svg-close-button:active{background-color:#972929}.modal-svg-close-icon{width:80%;height:80%}.modal-svg-camera-button{height:1.6em;padding-top:.38em;padding-bottom:0}.modal-svg-camera-icon{height:76%}.modal-svg-refresh-icon{height:105%}.modal-svg-refresh-button{height:1.66em;padding-top:.11em;padding-bottom:.21em}.input-button-container{position:relative;z-index:1}.inside-right{position:absolute;right:calc(10% + .35em);bottom:.85em}.inside-left{position:absolute;left:calc(10% + .35em);bottom:.85em}.outside-left{position:absolute;right:calc(11px - .55em);bottom:.88em}.outside-right{position:absolute;left:calc(11px - .55em);bottom:.88em}#upload-images-icon{position:absolute;pointer-events:none;width:1.45em;height:1.45em;left:.11em;bottom:.08em;filter:brightness(0) saturate(100%) invert(43%) sepia(0%) saturate(740%) hue-rotate(77deg) brightness(99%) contrast(92%)}#upload-gifs-icon{position:absolute;pointer-events:none;width:1.5em;height:1.48em;left:.07em;bottom:.08em;filter:brightness(0) saturate(100%) invert(49%) sepia(0%) saturate(2586%) hue-rotate(12deg) brightness(93%) contrast(90%)}#upload-audio-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.17em;bottom:.2em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%);transform:scaleX(.95)}#camera-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.23em;bottom:.2em;filter:brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(161%) hue-rotate(164deg) brightness(91%) contrast(92%);transform:scaleX(.95)}#upload-mixed-files-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.2em;filter:brightness(0) saturate(100%) invert(53%) sepia(0%) saturate(36%) hue-rotate(74deg) brightness(98%) contrast(93%);transform:scaleX(.95)}#interim-text{color:gray}#microphone-button{padding-top:.5px}.outer-button-container>#microphone-button{padding-bottom:1px}#microphone-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.25em}.default-microphone-icon{filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%)}.active-microphone-icon{filter:brightness(0) saturate(100%) invert(10%) sepia(97%) saturate(7495%) hue-rotate(0deg) brightness(101%) contrast(107%);border-radius:10px}.command-microphone-icon{filter:brightness(0) saturate(100%) invert(42%) sepia(96%) saturate(1067%) hue-rotate(77deg) brightness(99%) contrast(102%)}.unsupported-microphone{display:none}#submit-icon{height:100%;filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%);width:1.21em}#stop-icon{background-color:#acacac;position:absolute;width:.95em;height:.95em;left:.35em;bottom:.35em;border-radius:2px}.submit-button-enlarged{scale:1.1;margin-right:.3em;margin-left:.3em}.loading-submit-button{position:relative;left:calc(-9990px + .275em);width:.22em;height:.22em;border-radius:5px;background-color:#848484;color:#848484;box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484;animation:loading-submit-button 1.5s infinite linear;bottom:-.75em}@keyframes loading-submit-button{0%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}16.667%{box-shadow:9990px -6px #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}33.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}50%{box-shadow:9990px 0 #848484,calc(9990px + .44em) -6px 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}66.667%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}83.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) -6px 0 0 #848484}to{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}}.tooltip{position:absolute;visibility:hidden;z-index:1;pointer-events:none;padding:5px 7px;background-color:#333;border-radius:5px;width:max-content}.tooltip-text{color:#fff;font-size:13px}.input-button{border-radius:4px;cursor:pointer;margin-bottom:.2em;-webkit-user-select:none;user-select:none}.input-button-svg{width:1.65em;height:1.65em}.input-button-svg-text{padding:1px;height:1.65em;display:flex}.input-button-svg-text>svg{padding:.22rem}.input-button-svg-text>div{margin-left:2px}.input-button:hover,.input-button:focus-visible{background-color:#9c9c9c2e}.input-button:active{background-color:#9c9c9c5e}.input-button:active:not(:hover){background-color:transparent}.loading-button{cursor:auto}.loading-button:hover{background-color:unset}.text-button{filter:unset!important;display:flex;justify-content:center;align-items:center;margin-left:4px;margin-right:4px;height:1.6em;width:max-content}#custom-icon{height:100%;width:1.2em}.custom-button-container-default{color:#505050}.custom-button-container-default>.dropup-menu-item-icon{color:unset}.custom-button-container-default>svg{filter:brightness(0) saturate(100%) invert(39%) sepia(1%) saturate(0%) hue-rotate(83deg) brightness(93%) contrast(90%)}.custom-button-container-default>.dropup-menu-item-icon>svg{position:absolute;left:.2em}.custom-button-container-active{background-color:#edf7ff;color:#0285ff}.custom-button-container-active:hover,.custom-button-container-active:focus-visible{background-color:#def0ff}.custom-button-container-active:active{background-color:#d2eaff}.custom-button-container-active>svg{filter:brightness(0) saturate(100%) invert(32%) sepia(34%) saturate(4196%) hue-rotate(196deg) brightness(107%) contrast(104%)}.custom-button-container-disabled{color:#aeaeae;cursor:auto}.custom-button-container-disabled>div{pointer-events:none}.custom-button-container-disabled:hover,.custom-button-container-disabled:focus-visible{background-color:transparent}.custom-button-container-disabled:active{background-color:transparent}.custom-button-container-disabled>svg{filter:brightness(0) saturate(100%) invert(67%) sepia(0%) saturate(818%) hue-rotate(28deg) brightness(102%) contrast(100%)}#text-input-container{background-color:#fff;width:80%;display:flex;border:1px solid #0000001a;border-radius:5px;margin-top:.8em;margin-bottom:.8em;box-shadow:#959da533 0 1px 12px;overflow-y:auto;max-height:200px;position:relative}.text-input-container-left-adjustment{margin-left:1.5em}.text-input-container-right-adjustment{margin-right:1.5em}.text-input-container-left-small-adjustment{margin-left:1.1em}.text-input-container-left-small-adjustment>.outside-left{right:calc(14px - .55em)}.text-input-container-right-small-adjustment{margin-right:1.1em}.text-input-container-right-small-adjustment>.outside-right{left:calc(14px - .55em)}#text-input{text-align:left;outline:none;word-wrap:break-word;line-break:auto}.text-input-styling{padding:.4em .5em;overflow:overlay;width:100%}.text-input-inner-left-adjustment{padding-left:2.2em}.text-input-inner-right-adjustment{padding-right:2em}.text-input-disabled{pointer-events:none;-webkit-user-select:none;user-select:none}[contenteditable]:empty:before{content:attr(deep-chat-placeholder-text);pointer-events:none}[contenteditable][textcolor]:empty:before{color:gray}.outside-right>#dropup-menu,.inside-right>#dropup-menu{right:0}#dropup-icon{position:absolute;pointer-events:none;width:1.16em;height:1.2em;left:.265em;bottom:.43em;filter:brightness(0) saturate(100%) invert(54%) sepia(0%) saturate(724%) hue-rotate(6deg) brightness(92%) contrast(90%)}.dropup-button>*{pointer-events:none}#dropup-menu{background-color:#fff;position:absolute;transform:translateY(-100%);border-radius:5px;z-index:1;top:-.49em;box-shadow:#0003 -1px 2px 10px,#0000001a 0 2px 4px;cursor:pointer;-webkit-user-select:none;user-select:none}.dropup-menu-item{height:1.4em;padding:.28em .84em .28em .35em;display:flex;position:relative}.dropup-menu-item:hover,.dropup-menu-item:focus-visible{background-color:#f3f3f3}.dropup-menu-item:active{background-color:#ebebeb}.dropup-menu-item:active:not(:hover){background-color:transparent}.dropup-menu-item:first-child{padding-top:.49em;border-top-left-radius:inherit;border-top-right-radius:inherit}.dropup-menu-item:last-child{padding-bottom:.45em;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.dropup-menu-item-icon{width:1.39em;position:relative}.dropup-menu-item-icon>svg{bottom:0!important;top:0!important;margin-bottom:auto;margin-top:auto}#dropup-menu-item-icon-element-custom{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.28em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%)}.dropup-menu-item-text{margin-left:.56em;margin-top:.08em;width:max-content}#input{width:100%;display:inline-flex;text-align:center;margin-left:auto;margin-right:auto;margin-top:auto;position:relative;justify-content:center}#chat-view{height:100%;display:grid;grid-template-columns:100%}::-webkit-scrollbar{width:9px;height:9px}::-webkit-scrollbar-thumb{background-color:#d0d0d0;border-radius:5px}::-webkit-scrollbar-track{background-color:#f2f2f2}.deep-chat-web-model-button{margin-top:10px;margin-bottom:5px;margin-left:1px}:host{all:initial;display:table-cell}#container{height:inherit;width:inherit;overflow:hidden}`,uk=Object.defineProperty,Ae=function(o,n,e,a){for(var s=void 0,u=o.length-1,c;u>=0;u--)(c=o[u])&&(s=c(n,e,s)||s);return s&&uk(n,e,s),s},Te=(function(i){function o(){var n;N(this,o);var e;return n=pe(this,o),n.getMessages=function(){return[]},n.submitUserMessage=function(){return console.warn("submitUserMessage failed - please wait for chat view to render before calling this property.")},n.addMessage=function(){return console.warn("addMessage failed - please wait for chat view to render before calling this property.")},n.updateMessage=function(){},n.clearMessages=function(){},n.focusInput=function(){return yd.focusFromParentElement(n._elementRef)},n.refreshMessages=function(){},n.scrollToBottom=function(){},n.disableSubmitButton=function(){},n.setPlaceholderText=function(){},n._hasBeenRendered=!1,n._auxiliaryStyleApplied=!1,n._elementRef=document.createElement("div"),n._elementRef.id="container",n.attachShadow({mode:"open"}).appendChild(n._elementRef),(e=n.shadowRoot)==null||e.appendChild(Nn.buildElement()),Bc.apply(ok,n.shadowRoot),setTimeout(function(){n._hasBeenRendered||n.onRender()},20),n}return me(o,i),I(o,[{key:"changeToChatView",value:function(){this._activeService&&(this._activeService.validateKeyProperty=!1),this.onRender()}},{key:"onRender",value:function(){var e;Sg.attemptAppendStyleSheetToHead(this.style),Nt.processConnect(this),(!this._activeService||this._activeService.demo)&&(this._activeService=h2.create(this)),this.auxiliaryStyle&&!this._auxiliaryStyleApplied&&(Bc.apply(this.auxiliaryStyle,this.shadowRoot),this._auxiliaryStyleApplied=!0),Bc.applyDefaultStyleToComponent(this.style,this.chatStyle),Nt.checkForContainerStyles(this,this._elementRef),this._activeService.key&&this._activeService.validateKeyProperty?xS.render(this._elementRef,this.changeToChatView.bind(this),this._activeService):!(this._activeService instanceof bt)||this._activeService.key?((e=this._childElement)!==null&&e!==void 0||(this._childElement=this.children[0]),lk.render(this,this._elementRef,this._activeService,this._childElement)):this._activeService instanceof bt&&DE.render(this._elementRef,this.changeToChatView.bind(this),this._activeService),this._hasBeenRendered||Ss.onRender(this),this._hasBeenRendered=!0}},{key:"disconnectedCallback",value:function(){Ad.chat=void 0}}])})(OE);Ae([we("object")],Te.prototype,"connect");Ae([we("object")],Te.prototype,"directConnection");Ae([we("object")],Te.prototype,"webModel");Ae([we("object")],Te.prototype,"requestBodyLimits");Ae([we("function")],Te.prototype,"requestInterceptor");Ae([we("function")],Te.prototype,"responseInterceptor");Ae([we("function")],Te.prototype,"validateInput");Ae([we("function")],Te.prototype,"loadHistory");Ae([we("object")],Te.prototype,"chatStyle");Ae([we("object")],Te.prototype,"attachmentContainerStyle");Ae([we("object")],Te.prototype,"dropupStyles");Ae([we("object")],Te.prototype,"inputAreaStyle");Ae([we("object")],Te.prototype,"textInput");Ae([we("object")],Te.prototype,"submitButtonStyles");Ae([we("object")],Te.prototype,"customButtons");Ae([we("string")],Te.prototype,"auxiliaryStyle");Ae([we("array")],Te.prototype,"history");Ae([we("object")],Te.prototype,"browserStorage");Ae([we("object")],Te.prototype,"introMessage");Ae([we("object")],Te.prototype,"avatars");Ae([we("object")],Te.prototype,"names");Ae([we("object")],Te.prototype,"displayLoadingBubble");Ae([we("object")],Te.prototype,"errorMessages");Ae([we("object")],Te.prototype,"messageStyles");Ae([we("object")],Te.prototype,"textToSpeech");Ae([we("object")],Te.prototype,"speechToText");Ae([we("object")],Te.prototype,"images");Ae([we("object")],Te.prototype,"gifs");Ae([we("object")],Te.prototype,"camera");Ae([we("object")],Te.prototype,"audio");Ae([we("object")],Te.prototype,"microphone");Ae([we("object")],Te.prototype,"mixedFiles");Ae([we("object")],Te.prototype,"dragAndDrop");Ae([we("object")],Te.prototype,"introPanelStyle");Ae([we("object")],Te.prototype,"htmlClassUtilities");Ae([we("object")],Te.prototype,"remarkable");Ae([we("object")],Te.prototype,"focusMode");Ae([we("function")],Te.prototype,"onMessage");Ae([we("function")],Te.prototype,"onClearMessages");Ae([we("function")],Te.prototype,"onComponentRender");Ae([we("function")],Te.prototype,"onInput");Ae([we("function")],Te.prototype,"onError");Ae([we("object")],Te.prototype,"demo");Ae([we("object")],Te.prototype,"_insertKeyViewStyles");customElements.define("deep-chat",Te);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ck=new Set(["children","localName","ref","style","className"]),Xv=new WeakMap,Zv=(i,o,n,e,a)=>{const s=a?.[o];s===void 0?(i[o]=n,n==null&&o in HTMLElement.prototype&&i.removeAttribute(o)):n!==e&&((u,c,f)=>{let p=Xv.get(u);p===void 0&&Xv.set(u,p=new Map);let m=p.get(c);f!==void 0?m===void 0?(p.set(c,m={handleEvent:f}),u.addEventListener(c,m)):m.handleEvent=f:m!==void 0&&(p.delete(c),u.removeEventListener(c,m))})(i,s,n)},dk=({react:i,tagName:o,elementClass:n,events:e,displayName:a})=>{const s=new Set(Object.keys(e??{})),u=i.forwardRef(((c,f)=>{const p=i.useRef(new Map),m=i.useRef(null),g={},b={};for(const[y,k]of Object.entries(c))ck.has(y)?g[y==="className"?"class":y]=k:s.has(y)||y in n.prototype?b[y]=k:g[y]=k;return i.useLayoutEffect((()=>{if(m.current===null)return;const y=new Map;for(const k in b)Zv(m.current,k,c[k],p.current.get(k),e),p.current.delete(k),y.set(k,c[k]);for(const[k,E]of p.current)Zv(m.current,k,void 0,E,e);p.current=y})),i.useLayoutEffect((()=>{m.current?.removeAttribute("defer-hydration")}),[]),g.suppressHydrationWarning=!0,i.createElement(o,{...g,ref:i.useCallback((y=>{m.current=y,typeof f=="function"?f(y):f!==null&&(f.current=y)}),[f])})}));return u.displayName=a??n.name,u},fk=dk({tagName:"deep-chat",elementClass:Te,react:qb,events:{onactivate:"activate",onchange:"change"}}),my=()=>{const[i,o]=je.useState(!1);return J.jsxs("div",{className:"chat",children:[i&&J.jsx(fk,{connect:{url:"https://api.rexes.cloud/api/chat",method:"POST"}}),J.jsxs(ms,{variant:"outline",size:"lg",onClick:()=>o(!i),children:[J.jsx(f1,{width:40,height:40,onClick:()=>o(!i)}),"Chat"]})]})};my.displayName="ChatWithAI";function hk(){return J.jsxs("div",{className:"min-h-screen bg-background bg-gray-50",children:[J.jsx("header",{className:"bg-sky-700 border-b",children:J.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:J.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[J.jsx("div",{className:"relative",children:J.jsxs("div",{className:"profile",children:[J.jsx("img",{src:pS}),J.jsx("div",{className:"status w-8 h-8 bg-green-500 rounded-full border-4 border-white"})]})}),J.jsxs("div",{className:"flex-1 text-center md:text-left",children:[J.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"John Rexes Murro"}),J.jsx("h2",{className:"text-xl md:text-2xl text-white mb-4",children:"Senior Software Engineer"}),J.jsx("p",{className:"text-white text-sm mb-6 leading-relaxed",children:"Passionate full-stack developer with 6+ years of experience building impactful software solutions. I bring a strong background in developing and maintaining enterprise applications, API integrations, and AI-driven tools. With hands-on experience in C/C++, Java, JavaScript, Shell Scripting, and Rust, I have contributed to diverse projects—from firmware development to cloud-deployed web applications."}),J.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start text-sm text-white",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(u1,{className:"w-4 h-4"}),J.jsx("span",{children:"jrmurro@gmail.com"})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(jm,{className:"w-4 h-4"}),J.jsx("span",{children:"Cebu, Philippines"})]})]})]}),J.jsxs("div",{className:"flex flex-col gap-3",children:[J.jsx(gg,{}),J.jsx(yg,{})]})]})})}),J.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-8 space-y-8",children:[J.jsxs("section",{children:[J.jsxs("h3",{className:"text-2xl font-bold text-foreground mb-6 flex items-center gap-3",children:[J.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:J.jsx(v1,{className:"w-4 h-4 text-white"})}),"Professional Experience"]}),J.jsx("div",{className:"space-y-6",children:[{title:"Senior Fullstack Software Engineer",company:"QVantage",period:"2024 - Present",location:"Singapore",website:"https://qvantage.io",achievements:["Developed service routes to integrate Salesforce APIs into the application, includes connecting to Salesforce (OAuth and Tokens), mapping fields to Salesforce Custom Object, and exporting data from app to Salesforce Object.","Architected and implemented a real-time analytics dashboard serving 100K+ monthly users","Integrated OpenAI and Large Language Model for Text Generation in email workflows","Implemented AI Agentic System using LangChain Tools and Agents for Chat-based Filtering of Leads/Prospects with Content Moderation"]},{title:"Software Engineer",company:"Amdocs",period:"2022 - 2024",location:"Metro Manila, Philippines",website:"https://amdocs.com",achievements:["Developed and maintained Invoicing/Billing services for TRUEMOVE Thailand and Vodafone Italy.","Designed, developed and implemented solutions or tools for internal operation.","Assisted/lead team to discover open source software tools that can be used to improve development process"]},{title:"Firmware Development Engineer",company:"Lexmark",period:"2019 - 2022",location:"Cebu, Philippines",website:"https://lexmark.com",achievements:["Developed features for Lexmark laser printer's graphical user interface using Qt Framework and Android.","Pioneered the conversion from Lettuce to Robot framework for UI Test Automation.","Part of the team that advocates Rust programming language, and the first team to implement a project using Rustlang and tools in production for Xerox."]}].map((i,o)=>J.jsx(ls,{className:"hover:shadow-lg transition-shadow duration-300",children:J.jsxs(os,{className:"p-6",children:[J.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[J.jsxs("div",{children:[J.jsx("h4",{className:"text-lg font-semibold text-foreground",children:i.title}),J.jsx("p",{className:"website text-primary font-medium",children:J.jsx("a",{href:i.website,children:i.company})})]}),J.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[J.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[J.jsx(r1,{className:"w-4 h-4"}),J.jsx("span",{children:i.period})]}),J.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1",children:[J.jsx(jm,{className:"w-4 h-4"}),J.jsx("span",{children:i.location})]})]})]}),J.jsx("ul",{className:"space-y-2",children:i.achievements.map((n,e)=>J.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[J.jsx("div",{className:"w-2 h-2 bg-accent rounded-full mt-2 flex-shrink-0"}),J.jsx("span",{children:n})]},e))})]})},o))})]}),J.jsxs("section",{children:[J.jsxs("h3",{className:"text-2xl font-bold text-foreground mb-6 flex items-center gap-3",children:[J.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:J.jsx(p1,{className:"w-4 h-4 text-white"})}),"Technical Skills"]}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{category:"Frontend Development",skills:["React","TypeScript","Next.js","Tailwind CSS","JavaScript","HTML5","CSS3","Qt Framework"]},{category:"Backend Development",skills:["Node.js","Express.js","Python","PostgreSQL","MongoDB","REST APIs","GraphQL","Elasticsearch"]},{category:"DevOps & Tools",skills:["Docker","AWS","Kubernetes","Git","CI/CD","Linux","Nginx"]},{category:"Soft Skills",skills:["Team Leadership","Project Management","Mentoring","Agile/Scrum","Communication"]}].map((i,o)=>J.jsx(ls,{className:"hover:shadow-lg transition-shadow duration-300",children:J.jsxs(os,{className:"p-6",children:[J.jsx("h4",{className:"font-semibold text-foreground mb-4",children:i.category}),J.jsx("div",{className:"flex flex-wrap gap-2",children:i.skills.map((n,e)=>J.jsx(Vm,{variant:"secondary",className:"hover:bg-primary hover:text-white transition-colors cursor-default",children:n},e))})]})},o))})]}),J.jsxs("section",{children:[J.jsxs("h3",{className:"text-2xl font-bold text-foreground mb-6 flex items-center gap-3",children:[J.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:J.jsx(n1,{className:"w-4 h-4 text-white"})}),"Education"]}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:J.jsx(ls,{className:"hover:shadow-lg transition-shadow duration-300",children:J.jsxs(os,{className:"p-6",children:[J.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Bachelor of Science in Computer Engineering"}),J.jsx("p",{className:"text-primary font-medium mb-2",children:J.jsx("a",{className:"website",href:"https://usc.edu.ph/",children:"University of San Carlos"})}),J.jsx("p",{className:"text-muted-foreground text-sm",children:"2014 - 2019 | GWA: 1.35 (95% in Philippine Grading System)"}),J.jsx(vg,{className:"my-4"}),J.jsx("p",{className:"text-sm text-muted-foreground",children:"Focused on software engineering, algorithms, and data structures. Graduated Magna Cum Laude."})]})})})]}),J.jsxs("section",{children:[J.jsx("h3",{className:"text-2xl font-bold text-foreground mb-6",children:"Featured Projects"}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"Analytics Dashboard",description:"Real-time data visualization platform for business intelligence",tech:["Microsoft Clarity"],impact:"10M+ data points"},{name:"Graphical User Interface for Household and Enterprise printers",description:"Embedded GUIs for printers built with Yocto project",tech:["Qt Framework","Android","Linux","Yocto Project"],impact:"100K+ printers"},{name:"API Gateway",description:"Microservices API gateway with rate limiting and authentication",tech:["Node.js","Docker","Kubernetes"],impact:"100K+ requests/month"},{name:"AI-Generated Email Workflow",description:"Generate Email with Templates and Variables",tech:["OpenAI","NextJS","Express"]},{name:"AI-Assisted Chat Filtering",description:"Advanced Filtering for Finding Leads and Prospects",tech:["OpenAI","LangChain Tools and Agents","Text Embeddings","Elasticsearch","PostgreSQL"]}].map((i,o)=>J.jsx(ls,{className:"hover:shadow-lg transition-shadow duration-300",children:J.jsxs(os,{className:"p-6",children:[J.jsx("h4",{className:"font-semibold text-foreground mb-2",children:i.name}),J.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:i.description}),J.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tech.map((n,e)=>J.jsx(Vm,{variant:"outline",className:"text-xs",children:n},e))}),J.jsx("div",{className:"flex items-center justify-between",children:J.jsx("span",{className:"text-sm font-medium text-accent",children:i.impact})})]})},o))})]}),J.jsx(my,{})]}),J.jsx("footer",{className:"bg-sky-900 mt-16",children:J.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:J.jsx("div",{className:"text-center",children:J.jsx("p",{className:"text-white mb-4",children:"Let's connect and discuss how we can work together"})})})})]})}Zb.createRoot(document.getElementById("root")).render(J.jsx(Qv.StrictMode,{children:J.jsx(hk,{})}));
